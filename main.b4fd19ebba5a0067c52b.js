(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},RnhZ:function(e,t,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="RnhZ"},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("jhN1"),a=n("fXoL"),r=n("3Pt+"),o=n("R1ws"),l=n("TpXg"),s=n("ANjH"),d=n("mrSG"),c=function(){function e(e){this.ngRedux=e}return e.prototype.getConfig=function(){this.ngRedux.dispatch({type:e.CONFIG_GET})},e.prototype.updateConfig=function(t){this.ngRedux.dispatch({type:e.CONFIG_UPDATE,payload:t})},e.CONFIG_GET="CONFIG_GET",e.CONFIG_UPDATE="CONFIG_UPDATE",e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.NgRedux))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),m={headerTheme:"",sidebarTheme:""},p=Object(s.combineReducers)({config:function(e,t){switch(void 0===e&&(e=m),t.type){case c.CONFIG_GET:return Object.assign({},e);case c.CONFIG_UPDATE:return Object.assign({},e,Object(d.a)({},t.payload));default:return e}}}),u=n("tyNb"),f=n("HDdC"),g=n("R0Ic"),v=function(){function e(){this.sidebarHover=!1,this.toggleSidebar=!1,this.toggleSidebarMobile=!1,this.toggleHeaderMobile=!1,this.toggleFixedFooter=!1}return e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),h=n("ofXK"),b=n("wHSu"),y=n("1kSV"),x=function(){function e(e,t){this.router=e,this.globals=t,this.userName="",this.userImg="8.jpg"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");if(e){var t=JSON.parse(e);this.userName=t.name?t.name:"",this.userImg=t.img?t.img:"8.jpg"}},e.prototype.logout=function(){sessionStorage.removeItem("laUser"),sessionStorage.clear(),this.router.navigateByUrl("/login")},e.prototype.changePassword=function(){this.router.navigateByUrl("/change/password")},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](v))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-box"]],decls:21,vars:4,consts:[[1,"d-flex"],[1,"header-btn-lg","pe-0"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["ngbDropdown","","placement","bottom-right",1,"btn-group"],[2,"font-weight","600","margin","17px 7px 0px 0px","font-size","15px","color","#033C73"],["type","button","ngbDropdownToggle","",1,"btn","btn-link","p-0","me-2"],[1,"icon-wrapper","icon-wrapper-alt","rounded-circle"],["width","42","alt","",1,"rounded-circle",3,"src"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"fa","fa-cog"],[1,"dropdown-divider"],[1,"fa","fa-power-off"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"button",7),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275element"](12,"img",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275elementStart"](14,"button",11),a["\u0275\u0275listener"]("click",function(){return t.changePassword()}),a["\u0275\u0275element"](15,"i",12),a["\u0275\u0275text"](16," Change Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](17,"div",13),a["\u0275\u0275elementStart"](18,"button",11),a["\u0275\u0275listener"]("click",function(){return t.logout()}),a["\u0275\u0275element"](19,"i",14),a["\u0275\u0275text"](20," Logout"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](7),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](8,2,t.userName)," "),a["\u0275\u0275advance"](5),a["\u0275\u0275propertyInterpolate1"]("src","./assets/images/avatars/",t.userImg,"",a["\u0275\u0275sanitizeUrl"]))},directives:[y.b,y.d,y.c],pipes:[h.s],encapsulation:2}),e}(),S=n("6NWb"),_=function(e){return{"is-active":e}},E=function(){function e(e){this.globals=e,this.faEllipsisV=b.a}return Object.defineProperty(e.prototype,"isActiveAsGetter",{get:function(){return this.isActive},enumerable:!1,configurable:!0}),e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.prototype.toggleHeaderMobile=function(){this.globals.toggleHeaderMobile=!this.globals.toggleHeaderMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](v))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-header"]],hostVars:2,hostBindings:function(e,t){2&e&&a["\u0275\u0275classProp"]("isActive",t.isActiveAsGetter)},decls:20,vars:11,consts:[[1,"logo-src"],[1,"app-header__content",2,"padding-left","35%"],[1,"app-header-left"],[2,"font-size","20px","font-weight","600","color","#FF0013","letter-spacing","0.5px","padding-left","10px"],[2,"font-size","14px","font-weight","600","color","#033C73","letter-spacing","0.5px","padding-left","5px"],[1,"app-header-right"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],[1,"btn-icon","btn-icon-only","btn","btn-primary",3,"ngClass","click"],[1,"btn-icon-wrapper"],[3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275element"](2,"div",0),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"span",3),a["\u0275\u0275text"](6,"La Renon Healthcare Pvt. Ltd."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",4),a["\u0275\u0275text"](8,"(Credit Note)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275element"](10,"app-user-box"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",6),a["\u0275\u0275elementStart"](12,"button",7),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementStart"](13,"span",8),a["\u0275\u0275element"](14,"span",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"span"),a["\u0275\u0275elementStart"](17,"button",11),a["\u0275\u0275listener"]("click",function(){return t.toggleHeaderMobile()}),a["\u0275\u0275elementStart"](18,"div",12),a["\u0275\u0275element"](19,"fa-icon",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-header header-shadow "+a["\u0275\u0275pipeBind1"](1,5,t.config$).headerTheme),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](7,_,t.globals.toggleSidebarMobile)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](9,_,t.globals.toggleHeaderMobile)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faEllipsisV))},directives:[x,h.k,S.a],pipes:[h.b],encapsulation:2}),Object(d.c)([Object(l.select)("config"),Object(d.e)("design:type",f.a)],e.prototype,"config$",void 0),e}(),C=n("Kdsb");function w(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",17),a["\u0275\u0275element"](2,"i",18),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Create Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",19),a["\u0275\u0275element"](2,"i",20),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Draft Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",21),a["\u0275\u0275element"](2,"i",22),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Acceptance"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",23),a["\u0275\u0275element"](2,"i",24),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Approved/InProgress Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",25),a["\u0275\u0275element"](2,"i",26),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Stockiest Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",27),a["\u0275\u0275element"](2,"i",24),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var P=function(e){return{"is-active":e}},R=function(){function e(e,t){this.globals=e,this.activatedRoute=t,this.loggedInUser=[],this.activeId="dashboardsMenu";var n=sessionStorage.getItem("laUser");this.loggedInUser=JSON.parse(n)}return e.prototype.toggleSidebar=function(){this.globals.toggleSidebar=!this.globals.toggleSidebar},e.prototype.sidebarHover=function(){this.globals.sidebarHover=!this.globals.sidebarHover},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.innerWidth=window.innerWidth,e.innerWidth<1200&&(e.globals.toggleSidebar=!0)}),this.extraParameter=this.activatedRoute.snapshot.firstChild.data.extraParameter},e.prototype.onResize=function(e){this.newInnerWidth=e.target.innerWidth,this.globals.toggleSidebar=this.newInnerWidth<1200},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](v),a["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,a["\u0275\u0275resolveWindow"])},decls:24,vars:14,consts:[[3,"mouseover","mouseout"],[1,"app-header__logo"],[1,"logo-src"],[1,"header__pane","ms-auto"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-sidebar-content"],[1,"app-sidebar-scroll"],[3,"autoPropagation"],[1,"v-sidebar-menu","vsm-default"],[1,"vsm-list"],[1,"vsm-item"],["routerLink","/dashboard","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-home"],[1,"vsm-title"],["class","vsm-item",4,"ngIf"],["routerLink","/stockiest/createClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-news-paper"],["routerLink","/stockiest/draftClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-notebook"],["routerLink","/stockiest/acceptance","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-sun"],["routerLink","/stockiest/claimStatus","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-check"],["routerLink","/headoffice/stockiestClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-id"],["routerLink","/headoffice/claimStatus","routerLinkActive","active-item",1,"vsm-link"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275listener"]("mouseover",function(){return t.sidebarHover()})("mouseout",function(){return t.sidebarHover()}),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275element"](3,"div",2),a["\u0275\u0275elementStart"](4,"div",3),a["\u0275\u0275elementStart"](5,"button",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebar()}),a["\u0275\u0275elementStart"](6,"span",5),a["\u0275\u0275element"](7,"span",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",7),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"perfect-scrollbar",9),a["\u0275\u0275elementStart"](11,"div",10),a["\u0275\u0275elementStart"](12,"div",11),a["\u0275\u0275elementStart"](13,"div",12),a["\u0275\u0275elementStart"](14,"a",13),a["\u0275\u0275element"](15,"i",14),a["\u0275\u0275elementStart"](16,"span",15),a["\u0275\u0275text"](17,"Dashboard"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](18,w,5,0,"div",16),a["\u0275\u0275template"](19,k,5,0,"div",16),a["\u0275\u0275template"](20,I,5,0,"div",16),a["\u0275\u0275template"](21,F,5,0,"div",16),a["\u0275\u0275template"](22,M,5,0,"div",16),a["\u0275\u0275template"](23,O,5,0,"div",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-sidebar sidebar-shadow "+a["\u0275\u0275pipeBind1"](1,10,t.config$).sidebarTheme),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](12,P,t.globals.toggleSidebar)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("autoPropagation",!0),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(1)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(2)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(7)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(3)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(4)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(5)))},directives:[h.k,C.b,u.h,u.g,h.m],pipes:[h.b],encapsulation:2}),Object(d.c)([Object(l.select)("config"),Object(d.e)("design:type",f.a)],e.prototype,"config$",void 0),e}(),D=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"app-footer"],[1,"app-footer__inner"],[1,"app-footer-left"],[1,"ps-2"],[1,"app-footer-right"],["href","https://larenon.com","target","_blank",1,"btn","btn-sm","btn-primary","me-2"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"span",3),a["\u0275\u0275text"](4,"\xa9 2022 - All Rights Reserved by La Renon Healthcare Pvt. Ltd."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"a",5),a["\u0275\u0275text"](7,"La Renon Healthcare"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},encapsulation:2}),e}(),T=n("lPP5"),N=function(e,t,n,i){return{"closed-sidebar-md":e,"closed-sidebar-open":t,"header-menu-open":n,"fixed-footer":i}},j=function(){function e(e,t){this.globals=e,this.configActions=t}return e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](v),a["\u0275\u0275directiveInject"](c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-base-layout"]],decls:11,vars:10,consts:[[3,"ngClass"],[1,"app-main__outer"],[1,"app-main__inner"],["o","outlet"],[1,"sidebar-menu-overlay",3,"click"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"app-header"),a["\u0275\u0275element"](2,"app-sidebar"),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275element"](6,"router-outlet",null,3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"app-footer"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"ngx-loading-bar",5)),2&e){var n=a["\u0275\u0275reference"](7);a["\u0275\u0275classMap"]("app-container app-theme-white closed-sidebar"),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction4"](5,N,t.globals.toggleSidebarMobile,t.globals.sidebarHover||t.globals.toggleSidebarMobile,t.globals.toggleHeaderMobile,t.globals.toggleFixedFooter)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[h.k,E,R,u.j,D,T.a],encapsulation:2,data:{animation:[Object(g.j)("architectUIAnimation",[Object(g.i)("* <=> *",[Object(g.f)(":enter, :leave",[Object(g.h)({opacity:0,display:"flex",flex:"1",transform:"translateY(-20px)",flexDirection:"column"})]),Object(g.f)(":enter",[Object(g.e)("200ms ease",Object(g.h)({opacity:1,transform:"translateY(0)"}))]),Object(g.f)(":leave",[Object(g.e)("200ms ease",Object(g.h)({opacity:0,transform:"translateY(-20px)"}))],{optional:!0})])])]}}),Object(d.c)([Object(l.select)("config"),Object(d.e)("design:type",f.a)],e.prototype,"config$",void 0),e}(),Q=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pages-layout"]],decls:4,vars:2,consts:[["o","outlet"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275element"](1,"router-outlet",null,0),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"ngx-loading-bar",1)),2&e){var n=a["\u0275\u0275reference"](2);a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[u.j,T.a],encapsulation:2,data:{animation:[Object(g.j)("architectUIAnimation",[Object(g.i)("* <=> *",[Object(g.f)(":enter, :leave",[Object(g.h)({opacity:0,display:"flex",flex:"1",flexDirection:"column"})]),Object(g.f)(":enter",[Object(g.e)("200ms ease",Object(g.h)({opacity:1}))]),Object(g.f)(":leave",[Object(g.e)("200ms ease",Object(g.h)({opacity:0}))],{optional:!0})])])]}}),e}(),L=n("PdH4"),B=n.n(L),A=n("tk/3"),Y=n("LRne"),U=n("JIr8"),V="http://65.1.70.106:7871",H={headers:new A.c({"Content-Type":"application/json"})},q=function(){function e(e){this.http=e,this.apiURL=V}return e.prototype.fetch=function(e){return this.http.get(""+(this.apiURL+e),H).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.get=function(e,t){return this.http.get(this.apiURL+e+"/"+t,H).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.post=function(e,t){return this.http.post(""+(this.apiURL+e),t,H).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.update=function(e,t){return this.http.put(""+(this.apiURL+e),t,H).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.upload=function(e,t){return this.http.post(""+(this.apiURL+e),t).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.delete=function(e,t){return this.http.delete(""+(this.apiURL+e+t),H).pipe(Object(U.a)(this.handleError("getData",[])))},e.prototype.observErrorHandler=function(e){return e},e.prototype.handleError=function(e,t){return void 0===e&&(e="operation"),function(e){return Object(Y.a)(t)}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](A.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),z=function(){function e(e,t){this.router=e,this.apiService=t,this.temp=[],this.assets=[],this.loggedUserId="",this.notifications=[],this.heading="Dashboard",this.subheading="This is an example dashboard created using build-in elements and components.",this.icon="pe-7s-plane icon-gradient bg-tempting-azure",this.slideConfig6={className:"center",infinite:!0,slidesToShow:1,speed:500,adaptiveHeight:!0,dots:!0},this.datasets=[{label:"My First dataset",data:[65,59,80,81,46,55,38,59,80],datalabels:{display:!1}}],this.datasets2=[{label:"My First dataset",data:[46,55,59,80,81,38,65,59,80],datalabels:{display:!1}}],this.datasets3=[{label:"My First dataset",data:[65,59,80,81,55,38,59,80,46],datalabels:{display:!1}}],this.labels=["January","February","March","April","May","June","July","August"],this.options={layout:{padding:{left:0,right:8,top:0,bottom:0}},scales:{yAxes:[{ticks:{display:!1,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{ticks:{display:!1},gridLines:{display:!1}}]},legend:{display:!1},responsive:!0,maintainAspectRatio:!1}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");console.log("sessionStorageDashboard---",e),e||this.router.navigateByUrl("/login")},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-analytics"]],decls:0,vars:0,template:function(e,t){},styles:[".blink[_ngcontent-%COMP%] {\n      animation: blinker 1.5s linear infinite;\n      color: red;\n      font-family: sans-serif;\n  }\n  @keyframes blinker {\n      50% {\n          opacity: 0;\n      }\n  }"]}),e}(),J=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgot-password-boxed"]],decls:32,vars:0,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-6"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-header"],[1,"h5","modal-title"],[1,"mt-1","mb-0","opacity-8"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["id","__BVID__132",1,"mb-3"],["tabindex","-1","role","group"],["for","exampleEmail",1,"form-label"],["id","exampleEmail","name","email","type","email","placeholder","Email here...",1,"form-control"],[1,"divider"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","clearfix"],[1,"float-end"],["type","button",1,"btn","btn-primary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275text"](8," Forgot your Password? "),a["\u0275\u0275elementStart"](9,"h6",8),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275text"](11,"Use the form below to recover it."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",9),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"form"),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"fieldset",12),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](22,"div",16),a["\u0275\u0275elementStart"](23,"h6",17),a["\u0275\u0275elementStart"](24,"a",18),a["\u0275\u0275text"](25,"Sign in existing account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",19),a["\u0275\u0275elementStart"](27,"div",20),a["\u0275\u0275elementStart"](28,"button",21),a["\u0275\u0275text"](29,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",22),a["\u0275\u0275text"](31," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[r.r,r.l,r.m,u.h],encapsulation:2}),e}();function G(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",30),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.slug),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function W(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",31),a["\u0275\u0275text"](1,"Login to Dashboard"),a["\u0275\u0275elementEnd"]())}function K(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",32),a["\u0275\u0275elementStart"](1,"span",33),a["\u0275\u0275element"](2,"img",34),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",35),a["\u0275\u0275text"](4,"Login to Dashboard"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var Z=function(){function e(e,t,n){this.router=e,this.fb=t,this.apiService=n,this.loggedUserId="",this.submitted=!1,this.loginForm=r.e,this.selectedType=3,this.portals=[]}return e.prototype.ngOnInit=function(){sessionStorage.getItem("laUser")&&this.router.navigateByUrl("/"),this.getPortals(),this.loginForm=this.fb.group({email:["",[r.q.required]],password:["",[r.q.required]]})},e.prototype.onSubmit=function(){var e=this;$("#errmsg").hide(),$(".invalid-feedback").hide(),$(".form-control").removeClass("is-invalid");var t=this.loginForm.value.email,n=this.loginForm.value.password;if(!t||!n)return t||($("#err-email").html("Email is required."),$("#email").addClass("is-invalid"),$("#err-email").show()),void(n||($("#err-pass").html("Password is required."),$("#password2").addClass("is-invalid"),$("#err-pass").show()));if(!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t))return $("#err-email").html("Enter a valid email address."),$("#email").addClass("is-invalid"),void $("#err-email").show();if(1===this.selectedType&&!this.selectedPortal)return $("#err-portal").html("Portal is required."),$("#portal").addClass("is-invalid"),void $("#err-portal").show();var i=2===this.selectedType||3===this.selectedType?"creditNoteApp":this.selectedPortal.slug;this.submitted=!0;var a={email:t,password:n,portal:i,type:this.selectedType};sessionStorage.removeItem("laUser"),sessionStorage.clear(),this.apiService.post("/api/auth/signin",a).subscribe(function(t){200===t.status?(sessionStorage.setItem("laUser",JSON.stringify({id:t.data.id,img:t.data.image,name:t.data.name,type:t.data.type,isOfficer:t.isOfficer,portal:t.data.portal,stockiest:t.data.stockiest,permissions:t.data.permissions})),e.router.navigateByUrl("/dashboard")):(400===t.status?($("#errmsg").show(),$("#errmsg").html(t.message)):($("#errmsg").show(),$("#errmsg").html("Something went wrong please try again.")),e.submitted=!1)},function(t){e.errorHandling(t)})},e.prototype.radioChange=function(e){$("#portal").hide(),"1"===e.target.value&&$("#portal").show(),"2"===e.target.value&&$("#portal").val(""),this.selectedType=parseInt(e.target.value)},e.prototype.changePortal=function(e){var t=e.target.value,n=this.portals.filter(function(e){return-1!==e.slug.indexOf(t)||!t});this.selectedPortal=n[0]},e.prototype.getPortals=function(){var e=this;this.apiService.fetch("/api/portal/all").subscribe(function(t){200===t.status&&t.data.length&&(e.portals=t.data)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login-boxed"]],decls:46,vars:4,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100","mx-auto"],[1,"modal-content"],[1,"modal-body"],[1,"h5","modal-title","text-center"],[1,"mt-2",2,"margin-bottom","20px"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","15px","display","none"],[1,"position-relative","form-check","form-check-inline"],[1,"form-label","form-check-label"],["name","logType","type","radio","value","3","checked","",1,"form-check-input","radio",3,"change"],["name","logType","type","radio","value","2",1,"form-check-input","radio",3,"change"],["name","logType","type","radio","value","1",1,"form-check-input","radio",3,"change"],[1,"employee",3,"formGroup","ngSubmit"],[1,"mb-3"],["id","email","type","email","formControlName","email","placeholder","Email address","required","",1,"form-control","shadow-sm"],["id","err-email",1,"invalid-feedback"],["id","password","type","password","formControlName","password","placeholder","Password","required","",1,"form-control","shadow-sm","text-primary"],["id","err-pass",1,"invalid-feedback"],["id","portal",1,"form-select","form-control",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err-portal",1,"invalid-feedback"],[1,"modal-footer","clearfix",2,"background","#ffffff"],[1,"float-end"],["type","submit","class","mb-2 me-2 btn-transition btn btn-primary",4,"ngIf"],["type","button","class","mb-2 me-2 btn-transition btn","style","color: #033C73; border-color: #033C73; cursor:inherit;",4,"ngIf"],[1,"text-center","text-white","opacity-8","mt-3"],[3,"value"],["type","submit",1,"mb-2","me-2","btn-transition","btn","btn-primary"],["type","button",1,"mb-2","me-2","btn-transition","btn",2,"color","#033C73","border-color","#033C73","cursor","inherit"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"span"),a["\u0275\u0275text"](10,"Login to Your Account."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](11,"div",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",10),a["\u0275\u0275elementStart"](13,"label",11),a["\u0275\u0275elementStart"](14,"input",12),a["\u0275\u0275listener"]("change",function(e){return t.radioChange(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](15," Stockist "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"label",11),a["\u0275\u0275elementStart"](18,"input",13),a["\u0275\u0275listener"]("change",function(e){return t.radioChange(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](19," Field Officer "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",10),a["\u0275\u0275elementStart"](21,"label",11),a["\u0275\u0275elementStart"](22,"input",14),a["\u0275\u0275listener"]("change",function(e){return t.radioChange(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](23," Head Office "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"form",15),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](25,"div",16),a["\u0275\u0275elementStart"](26,"div"),a["\u0275\u0275element"](27,"input",17),a["\u0275\u0275element"](28,"div",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",16),a["\u0275\u0275elementStart"](30,"div"),a["\u0275\u0275element"](31,"input",19),a["\u0275\u0275element"](32,"div",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",16),a["\u0275\u0275elementStart"](34,"div"),a["\u0275\u0275elementStart"](35,"select",21),a["\u0275\u0275listener"]("change",function(e){return t.changePortal(e)}),a["\u0275\u0275elementStart"](36,"option",22),a["\u0275\u0275text"](37,"Select Portal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,G,3,4,"option",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](39,"div",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"div",25),a["\u0275\u0275elementStart"](41,"div",26),a["\u0275\u0275template"](42,W,2,0,"button",27),a["\u0275\u0275template"](43,K,5,0,"button",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",29),a["\u0275\u0275text"](45," Copyright \xa9 La Renon Healthcare Pvt. Ltd. 2023 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](24),a["\u0275\u0275property"]("formGroup",t.loginForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.portals),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",!t.submitted),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.submitted))},directives:[r.r,r.l,r.f,r.a,r.k,r.d,r.p,r.n,r.s,h.l,h.m],pipes:[h.s],encapsulation:2}),e}(),X=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register-boxed"]],decls:54,vars:0,consts:[[1,"h-100","bg-premium-dark"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-body"],[1,"modal-title"],[1,"mt-2"],[1,"text-success"],[1,"divider"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"mb-3"],["id","exampleInput1","type","email","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_",1,"form-control"],["tabindex","-1","id","exampleInputGroup1__BV_description_",1,"form-text","text-muted"],["id","exampleInputGroup12","role","group",1,"mb-3"],["id","exampleInput12","type","text","placeholder","Enter username...","required","required","aria-required","true",1,"form-control"],[1,"row"],[1,"col-md-6"],["id","exampleInputGroup2","role","group",1,"mb-3"],["id","exampleInput2","type","password","placeholder","Enter password...","required","required","aria-required","true",1,"form-control"],["id","exampleInput2","type","password","placeholder","Repeat password...","required","required","aria-required","true",1,"form-control"],[1,"custom-control","custom-checkbox","form-check"],["id","exampleCheck","type","checkbox","name","check","autocomplete","off","value","true",1,"form-check-input"],["for","exampleCheck",1,"form-label","form-check-label"],[3,"routerLink"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","d-block","text-center"],["type","button",1,"btn","btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn-secondary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"h5",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"div"),a["\u0275\u0275text"](10,"Welcome,"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"span"),a["\u0275\u0275text"](12,"It only takes a "),a["\u0275\u0275elementStart"](13,"span",9),a["\u0275\u0275text"](14,"few seconds"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](15," to create your account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](16,"div",10),a["\u0275\u0275elementStart"](17,"div",11),a["\u0275\u0275elementStart"](18,"div"),a["\u0275\u0275element"](19,"input",12),a["\u0275\u0275elementStart"](20,"small",13),a["\u0275\u0275text"](21," We'll never share your email with anyone else. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"div",14),a["\u0275\u0275elementStart"](23,"div"),a["\u0275\u0275element"](24,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"div",16),a["\u0275\u0275elementStart"](26,"div",17),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275elementStart"](28,"div"),a["\u0275\u0275element"](29,"input",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",17),a["\u0275\u0275elementStart"](31,"div",18),a["\u0275\u0275elementStart"](32,"div"),a["\u0275\u0275element"](33,"input",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",21),a["\u0275\u0275element"](35,"input",22),a["\u0275\u0275elementStart"](36,"label",23),a["\u0275\u0275text"](37," Accept our "),a["\u0275\u0275elementStart"](38,"a",24),a["\u0275\u0275text"](39,"Terms and Conditions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](40,". "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"div",10),a["\u0275\u0275elementStart"](42,"h6",25),a["\u0275\u0275text"](43," Already have an account? "),a["\u0275\u0275elementStart"](44,"a",26),a["\u0275\u0275text"](45,"Sign in"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](46," | "),a["\u0275\u0275elementStart"](47,"a",26),a["\u0275\u0275text"](48,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"div",27),a["\u0275\u0275elementStart"](50,"button",28),a["\u0275\u0275text"](51,"Create Account "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",29),a["\u0275\u0275text"](53," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[u.h],encapsulation:2}),e}(),ee=function(){function e(){this.faStar=b.c,this.faPlus=b.b}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-page-title"]],inputs:{heading:"heading",subheading:"subheading",icon:"icon"},decls:15,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success"],[1,"me-2",3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus))},directives:[S.a],encapsulation:2}),e}();function te(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",14),a["\u0275\u0275elementStart"](1,"pre"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.closeResult)}}function ne(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Basic demo"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function ie(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275text"](4,"> "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",18),a["\u0275\u0275elementStart"](6,"perfect-scrollbar",22),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",19),a["\u0275\u0275elementStart"](14,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"button",21),a["\u0275\u0275text"](17,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("config",n.config)}}function ae(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum ateros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"p"),a["\u0275\u0275text"](14," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"p"),a["\u0275\u0275text"](16," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"p"),a["\u0275\u0275text"](18," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",19),a["\u0275\u0275elementStart"](20,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](21,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"button",21),a["\u0275\u0275text"](23,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function re(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function oe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var le=function(){function e(e){this.modalService=e,this.heading="Modals",this.subheading="Wide selection of modal dialogs styles and animations available.",this.icon="pe-7s-phone icon-gradient bg-premium-dark"}return e.prototype.open=function(e){var t=this;this.modalService.open(e).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.openCentred=function(e){this.modalService.open(e,{centered:!0})},e.prototype.openSmall=function(e){this.modalService.open(e,{size:"sm"})},e.prototype.openLarge=function(e){this.modalService.open(e,{size:"lg"})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](y.e))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modals"]],decls:46,vars:4,consts:[[3,"heading","subheading","icon"],[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],["class","kt-section__sub",4,"ngIf"],[1,"divider"],["content",""],[1,"btn","btn-primary",3,"click"],["content5",""],["content6",""],[1,"btn","btn-success",3,"click"],["content7",""],[1,"kt-section__sub"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary"],[2,"height","250px",3,"config"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275text"](5," Basic "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275template"](7,te,3,1,"span",6),a["\u0275\u0275element"](8,"div",7),a["\u0275\u0275template"](9,ne,12,0,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](11,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](12,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",3),a["\u0275\u0275elementStart"](14,"div",4),a["\u0275\u0275text"](15," Scrollable Fixed Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",5),a["\u0275\u0275template"](17,ie,18,1,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](19,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](20,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",3),a["\u0275\u0275elementStart"](22,"div",4),a["\u0275\u0275text"](23," Long Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",5),a["\u0275\u0275template"](25,ae,24,0,"ng-template",null,10,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](27,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](26);return t.open(e)}),a["\u0275\u0275text"](28,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",2),a["\u0275\u0275elementStart"](30,"div",3),a["\u0275\u0275elementStart"](31,"div",4),a["\u0275\u0275text"](32," Large Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",5),a["\u0275\u0275template"](34,re,12,0,"ng-template",null,11,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](36,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](35);return t.openLarge(e)}),a["\u0275\u0275text"](37,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",3),a["\u0275\u0275elementStart"](39,"div",4),a["\u0275\u0275text"](40," Small Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",5),a["\u0275\u0275template"](42,oe,12,0,"ng-template",null,13,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](44,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](43);return t.openSmall(e)}),a["\u0275\u0275text"](45,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.closeResult))},directives:[ee,h.m,C.b],encapsulation:2}),e}(),se=function(){function e(){this.heading="Tooltips & Popovers",this.subheading="These Vue components are used to add interaction or extra information for your app's content.",this.icon="pe-7s-note2 icon-gradient bg-happy-fisher"}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tooltips-popovers"]],decls:14,vars:3,consts:[[3,"heading","subheading","icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"card-title"],[1,"text-center"],["id","exButton1","type","button","placement","top","ngbTooltip","Tooltip on top",1,"btn","me-2","btn-primary"],["id","exButton2","type","button","placement","right","ngbTooltip","Tooltip on right",1,"btn","me-2","btn-primary"],["id","exButton3","type","button","placement","bottom","ngbTooltip","Tooltip on bottom",1,"btn","me-2","btn-primary"],["id","exButton4","type","button","placement","left","ngbTooltip","Tooltip on left",1,"btn","btn-primary"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"h5",3),a["\u0275\u0275text"](4,"Tooltips"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"button",5),a["\u0275\u0275text"](7," Tooltip on top "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"button",6),a["\u0275\u0275text"](9," Tooltip on right "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",7),a["\u0275\u0275text"](11," Tooltip on bottom "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275text"](13," Tooltip on left "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon)},directives:[ee,y.g],encapsulation:2}),e}();function de(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Current Password is required. "),a["\u0275\u0275elementEnd"]())}function ce(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," New Password is required. "),a["\u0275\u0275elementEnd"]())}function me(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Confirm Password is required. "),a["\u0275\u0275elementEnd"]())}function pe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",23),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}function ue(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",24),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}var fe=function(){function e(e,t,n,i){var a=this;this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.loggedUser=[],this.faStar=b.c,this.faPlus=b.b,this.heading="Change Password",this.subheading="Update old password.",this.icon="pe-7s-user icon-gradient bg-premium-dark",this.type="",this.ownerPercent="",this.coOwnerNumber="",this.submitted=!1,this.btnLoader=!1,this.selectedType="",this.activatedRoute.queryParams.subscribe(function(e){a.type=e.type})}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");console.log("sessionStorageCP---",e),e?this.loggedUser=JSON.parse(e):this.router.navigateByUrl("/login"),this.createForm(),this.type&&(this.selectedType=this.type,this.myForm.controls.type.setValue(this.type,{onlySelf:!0}),this.myForm.value.type=this.type)},Object.defineProperty(e.prototype,"f",{get:function(){return this.myForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.myForm=this.fb.group({old:["",[r.q.required]],new:["",[r.q.required]],confirm:["",[r.q.required]]})},e.prototype.onSubmit=function(){if(this.myForm.valid){if(this.myForm.value.old===this.myForm.value.new)return $("#errmsg").show(),void $("#errmsg").html("Current password and new password should not be same.");if(this.myForm.value.new!=this.myForm.value.confirm)return $("#errmsg").show(),void $("#errmsg").html("New password and confirm password must be same.");this.submitted=!0,this.btnLoader=!0;var e={userId:this.loggedUser.id,password:this.myForm.value.old,newPassword:this.myForm.value.new};console.log(this.loggedUser),console.log(e),this.apiService.post("/api/auth/password",e).subscribe(function(e){console.log("response---",e)})}else this.btnLoader=!1},e.prototype.isCoOwnerHandler=function(e){$(".formError").hide(),1==e.target.value.toLowerCase()?$(".showcoowner").show():$(".showcoowner").hide(),console.log(e.target.value)},e.prototype.ownerPercentHandler=function(e){$(".formError").hide()},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-password"]],decls:35,vars:11,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","5px","text-align","center","display","none"],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4","offset-md-4"],[1,"position-relative","mb-3","required"],["for","old",1,"form-label"],["type","text","id","old","formControlName","old","placeholder","Current Password",1,"form-control"],["class","text-danger",4,"ngIf"],["for","new",1,"form-label"],["type","text","id","new","formControlName","new","placeholder","New Password",1,"form-control"],["for","confirm",1,"form-label"],["type","text","id","confirm","formControlName","confirm","placeholder","Confirm Password",1,"form-control"],[1,"col-md-4","offset-md-4",2,"text-align","center"],["type","submit","class","mt-1 btn btn-success","style","padding: 6px 30px;",4,"ngIf"],["type","submit","class","mt-1 btn btn-success disabled","style","padding: 6px 30px;",4,"ngIf"],[1,"text-danger"],["type","submit",1,"mt-1","btn","btn-success",2,"padding","6px 30px"],["type","submit",1,"mt-1","btn","btn-success","disabled",2,"padding","6px 30px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275element"](11,"div",7),a["\u0275\u0275elementStart"](12,"form",8),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"label",12),a["\u0275\u0275text"](17,"Current Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"input",13),a["\u0275\u0275template"](19,de,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",10),a["\u0275\u0275elementStart"](21,"div",11),a["\u0275\u0275elementStart"](22,"label",15),a["\u0275\u0275text"](23,"New Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"input",16),a["\u0275\u0275template"](25,ce,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",10),a["\u0275\u0275elementStart"](27,"div",11),a["\u0275\u0275elementStart"](28,"label",17),a["\u0275\u0275text"](29,"Confirm Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"input",18),a["\u0275\u0275template"](31,me,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",19),a["\u0275\u0275template"](33,pe,2,0,"button",20),a["\u0275\u0275template"](34,ue,2,0,"button",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("formGroup",t.myForm),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",(t.f.old.touched||t.submitted)&&(null==t.f.old.errors?null:t.f.old.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.new.touched||t.submitted)&&(null==t.f.new.errors?null:t.f.new.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.confirm.touched||t.submitted)&&(null==t.f.confirm.errors?null:t.f.confirm.errors.required)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[r.r,r.l,r.f,r.a,r.k,r.d,h.m],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}']}),e}(),ge=n("wd/R"),ve=n("ZOsW");function he(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",76),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function be(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",76),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ye(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",76),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function xe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",76),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Se(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",78),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function _e(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Se,2,1,"span",77),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function Ee(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",78),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function Ce(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Ee,2,1,"span",77),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function we(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",79),a["\u0275\u0275elementStart"](1,"td",80),a["\u0275\u0275element"](2,"input",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",80),a["\u0275\u0275elementStart"](4,"input",82),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchDivision(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"img",83),a["\u0275\u0275elementStart"](6,"div",84),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().divisionSelection(e,i)}),a["\u0275\u0275element"](7,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"input",85),a["\u0275\u0275element"](9,"input",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",80),a["\u0275\u0275elementStart"](11,"input",87),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchProduct(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"img",88),a["\u0275\u0275elementStart"](13,"div",84),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().productSelection(e,i)}),a["\u0275\u0275element"](14,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](15,"input",89),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",80),a["\u0275\u0275elementStart"](17,"input",90),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"img",83),a["\u0275\u0275elementStart"](19,"div",84),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](20,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"td",80),a["\u0275\u0275element"](22,"input",91),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",80),a["\u0275\u0275element"](24,"input",92),a["\u0275\u0275element"](25,"input",93),a["\u0275\u0275element"](26,"input",93),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",80),a["\u0275\u0275elementStart"](28,"input",94),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",80),a["\u0275\u0275elementStart"](30,"input",95),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",80),a["\u0275\u0275elementStart"](32,"input",96),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",80),a["\u0275\u0275element"](34,"input",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",80),a["\u0275\u0275element"](36,"input",98),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",80),a["\u0275\u0275element"](38,"input",99),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",80),a["\u0275\u0275elementStart"](40,"input",62,63),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"button",64),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](41).click()}),a["\u0275\u0275text"](43,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"td",61),a["\u0275\u0275template"](45,Ce,2,1,"div",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",100),a["\u0275\u0275elementStart"](47,"span",67),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)})("keyup.enter",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)}),a["\u0275\u0275element"](48,"i",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"span",101),a["\u0275\u0275elementStart"](50,"i",102),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeClaim(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"input",103),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+13),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_id_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","plant_id_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+14),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_id_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+19),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+20),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate"]("value",i)}}function ke(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",104),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function $e(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",105),a["\u0275\u0275elementStart"](1,"span",106),a["\u0275\u0275element"](2,"img",107),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",108),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var Ie=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.config=a,this.faStar=b.c,this.faPlus=b.b,this.heading="Add / Create Claim",this.subheading="Create a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.batches=[],this.products=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.loggedUserId="",this.alignedStockiest=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"}}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#type").val("scheme"),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()}),this.createForm(),this.getBatch(),this.getDivision(),this.getProduct()},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_divisionId:"",def_plantId:"",def_product:"",def_productId:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchDivision=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#division_id_"+a).val(""),$("#plant_id_"+a).val(""),$("#product_"+a).val(""),$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#division_loader_"+a).show(),n=this.matchDivision(r,t),this.delay(10).then(function(e){i.divisionSuggestions(n,r,t)})):$("#division_suggestion_"+a).hide()},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n,i=-1===t?"def":t,a=document.querySelector("#division_suggestion_"+i+" ul");$("#division_"+i).val(e.target.innerText),(n=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",n),$("#division_id_"+i).val(""),$("#plant_id_"+i).val("")):($("#division_id_"+i).val(n[0].division),$("#plant_id_"+i).val(n[0].plant)),a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide()},e.prototype.searchProduct=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#product_loader_"+a).show(),n=this.matchProduct(r,t),console.log("results---",n),this.delay(10).then(function(e){i.productSuggestions(n,r,t)})):$("#product_suggestion_"+a).hide()},e.prototype.matchProduct=function(e,t){var n,i,a,r,o=-1===t?"def":t,l=e.toLowerCase(),s=$("#plant_id_"+o).val(),d=$("#division_id_"+o).val();return console.log("plantId--",s,"divisionId--",d),n=this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(l)>-1&&e.division===Number(d)&&e.plant===Number(s)}),i=this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(l)>-1}),console.log("results1---",i),a=this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(l)>-1&&e.division===Number(d)}),console.log("results2---",a),r=this.products.filter(function(e){return e.division===Number(d)&&e.plant===Number(s)}),console.log("results3---",r),n},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n,i=-1===t?"def":t;if((n=this.products.filter(function(t){return t.materialName.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1)console.log("...More then one product...",n),$("#product_"+i).val(""),$("#product_id_"+i).val("");else{var a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_"+i).val(e.target.innerText),$("#product_id_"+i).val(n[0].material)}$("#product_suggestion_"+i).hide()},e.prototype.searchBatch=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#batch_loader_"+a).show(),n=this.matchBatch(r,t),this.delay(10).then(function(e){i.batchSuggestions(n,r,t)})):$("#batch_suggestion_"+a).hide()},e.prototype.matchBatch=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=$("#division_id_"+n).val(),r=$("#product_id_"+n).val(),o=$("#plant_id_"+n).val();return this.batches.filter(function(e){return e.material===Number(r)&&e.division===Number(a)&&e.plant===Number(o)&&e.batch.toLowerCase().indexOf(i)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].divisionName:"",c=a.length?a[0].materialName:"";$("#division_"+n).val(d),$("#product_"+n).val(c),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if(a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data,console.log("division---",e.divisions))})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data,console.log("products---",e.products))})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),$("#stockiest option:selected").val()||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid");var i=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&i>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var a=$("#stockiest option:selected").val(),r=$("#type option:selected").val(),o=$("#month option:selected").val(),l=$("#year option:selected").val(),s=function(e){var n=/^\d*\.?\d*$/,i=-1===e?"def":e,s=a+".::."+r+".::."+o+".::."+l+".::."+d.loggedUserId,c=$("#invoice_"+i).val(),m=$("#batch_"+i).val(),p=$("#division_"+i).val(),u=$("#product_"+i).val(),f=$("#mrp_"+i).val(),g=$("#pts_"+i).val(),v=$("#ptr_"+i).val(),h=$("#ptd_"+i).val(),b=$("#billingRate_"+i).val(),y=$("#margin_"+i).val(),x=$("#freeQuantity_"+i).val(),S=$("#saleQuantity_"+i).val(),_=$("#difference_"+i).val(),E=$("#totalDifference_"+i).val(),C=$("#amount_"+i).val();if(c||(t=!0,$("#invoice_"+i).addClass("grf-invalid")),m||(t=!0,$("#batch_"+i).addClass("grf-invalid")),u||(t=!0,$("#batch_"+i).addClass("grf-invalid")),n.test(b)||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(x)||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid")),n.test(S)||(t=!0,$("#saleQuantity_"+i).addClass("grf-invalid")),b||x||S||(t=!0,$("#billingRate_"+i).addClass("grf-invalid"),$("#freeQuantity_"+i).addClass("grf-invalid"),$("#saleQuantity_"+i).addClass("grf-invalid")),b||x||!S||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),!b||x||S||(t=!0,$("#saleQuantity_"+i).addClass("grf-invalid")),C<=0&&(t=!0,$("#amount_"+i).addClass("grf-invalid")),t)return d.btnLoader=!1,d.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var w="";d.fileNames[-1]&&d.fileNames[-1].length&&d.fileNames[-1].forEach(function(e,t){w=w+e.filename+".::."}),d.claimForm.value.def_image=w,d.claimForm.value.def_invoice=c,d.claimForm.value.def_batch=m,d.claimForm.value.def_division=p,d.claimForm.value.def_product=u,d.claimForm.value.def_mrp=f,d.claimForm.value.def_pts=g,d.claimForm.value.def_ptr=v,d.claimForm.value.def_ptd=h,d.claimForm.value.def_billingRate=b,d.claimForm.value.def_margin=y,d.claimForm.value.def_freeQuantity=x,d.claimForm.value.def_saleQuantity=S,d.claimForm.value.def_difference=_,d.claimForm.value.def_totalDifference=E,d.claimForm.value.def_amount=C,d.claimForm.value.header=s}else{var k="";d.fileNames[e]&&d.fileNames[e].length&&d.fileNames[e].forEach(function(e,t){k=k+e.filename+".::."}),d.claimForm.value.claims[e].image=k,d.claimForm.value.claims[e].invoice=c,d.claimForm.value.claims[e].batch=m,d.claimForm.value.claims[e].division=p,d.claimForm.value.claims[e].product=u,d.claimForm.value.claims[e].mrp=f,d.claimForm.value.claims[e].pts=g,d.claimForm.value.claims[e].ptr=v,d.claimForm.value.claims[e].ptd=h,d.claimForm.value.claims[e].billingRate=b,d.claimForm.value.claims[e].margin=y,d.claimForm.value.claims[e].freeQuantity=x,d.claimForm.value.claims[e].saleQuantity=S,d.claimForm.value.claims[e].difference=_,d.claimForm.value.claims[e].totalDifference=E,d.claimForm.value.claims[e].amount=C,d.claimForm.value.claims[e].header=s}},d=this,c=-1;c<=n;c++){var m=s(c);if("object"==typeof m)return m.value}this.apiService.post("/api/claim/create",this.claimForm.value).subscribe(function(t){200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},3e3))})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q),a["\u0275\u0275directiveInject"](ve.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-claim"]],decls:155,vars:25,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],[2,"position","relative"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_division","id","division_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","division_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","division_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_divisionId","id","division_id_def",1,"form-control"],["type","hidden","formControlName","def_plantId","id","plant_id_def",1,"form-control"],["type","text","formControlName","def_product","id","product_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","product_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","product_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_productId","id","product_id_def",1,"form-control"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc","grf-def"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["type","button",1,"btn-transition","btn","btn-outline-focus",3,"tabIndex","click"],[4,"ngIf"],[1,"tdpd1",2,"text-align","center"],["title","Add to this invoice",3,"tabIndex","click","keyup.enter"],[1,"vsm-icon","pe-7s-copy-file"],["formArrayName","claims",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],[2,"height","108px"],[1,"col-md-12","tar"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],[3,"formGroupName"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","division",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","hidden","formControlName","divisionId",1,"form-control",3,"id"],["type","hidden","formControlName","plantId",1,"form-control",3,"id"],["type","text","formControlName","product",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","hidden","formControlName","productId",1,"form-control",3,"id"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Delete this row",2,"color","red"],[1,"vsm-icon","pe-7s-trash",3,"click"],["type","hidden",1,"count",3,"value"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,he,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,be,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,ye,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,xe,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",7),a["\u0275\u0275elementStart"](51,"div",27),a["\u0275\u0275element"](52,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",28),a["\u0275\u0275elementStart"](54,"form",29),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](55,"div",7),a["\u0275\u0275elementStart"](56,"div",30),a["\u0275\u0275elementStart"](57,"div",31),a["\u0275\u0275elementStart"](58,"table",32),a["\u0275\u0275elementStart"](59,"tr"),a["\u0275\u0275elementStart"](60,"td",33),a["\u0275\u0275elementStart"](61,"label",34),a["\u0275\u0275text"](62,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"td",35),a["\u0275\u0275text"](64,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](65,"td",35),a["\u0275\u0275elementStart"](66,"label",34),a["\u0275\u0275text"](67,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",33),a["\u0275\u0275elementStart"](69,"label",34),a["\u0275\u0275text"](70,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](71,"td",35),a["\u0275\u0275text"](72,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"td",35),a["\u0275\u0275text"](74,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](75,"td",33),a["\u0275\u0275elementStart"](76,"label",34),a["\u0275\u0275text"](77,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"td",33),a["\u0275\u0275elementStart"](79,"label",34),a["\u0275\u0275text"](80,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](81,"td",33),a["\u0275\u0275elementStart"](82,"label",34),a["\u0275\u0275text"](83,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",35),a["\u0275\u0275text"](85,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",35),a["\u0275\u0275text"](87,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",35),a["\u0275\u0275text"](89,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",35),a["\u0275\u0275text"](91,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",35),a["\u0275\u0275text"](93,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",35),a["\u0275\u0275text"](95,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"tr",36),a["\u0275\u0275elementStart"](97,"td",37),a["\u0275\u0275element"](98,"input",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](99,"td",37),a["\u0275\u0275elementStart"](100,"input",39),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](101,"img",40),a["\u0275\u0275elementStart"](102,"div",41),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e,-1)}),a["\u0275\u0275element"](103,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](104,"input",42),a["\u0275\u0275element"](105,"input",43),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",37),a["\u0275\u0275elementStart"](107,"input",44),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](108,"img",45),a["\u0275\u0275elementStart"](109,"div",46),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e,-1)}),a["\u0275\u0275element"](110,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](111,"input",47),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](112,"td",37),a["\u0275\u0275elementStart"](113,"input",48),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](114,"img",49),a["\u0275\u0275elementStart"](115,"div",50),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](116,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](117,"td",37),a["\u0275\u0275element"](118,"input",51),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](119,"td",37),a["\u0275\u0275element"](120,"input",52),a["\u0275\u0275element"](121,"input",53),a["\u0275\u0275element"](122,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](123,"td",37),a["\u0275\u0275elementStart"](124,"input",55),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](125,"td",37),a["\u0275\u0275elementStart"](126,"input",56),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](127,"td",37),a["\u0275\u0275elementStart"](128,"input",57),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](129,"td",37),a["\u0275\u0275element"](130,"input",58),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](131,"td",37),a["\u0275\u0275element"](132,"input",59),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](133,"td",37),a["\u0275\u0275element"](134,"input",60),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](135,"td",61),a["\u0275\u0275elementStart"](136,"input",62,63),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](138,"button",64),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](137).click()}),a["\u0275\u0275text"](139,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](140,"td",61),a["\u0275\u0275template"](141,_e,2,1,"div",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"td",66),a["\u0275\u0275elementStart"](143,"span",67),a["\u0275\u0275listener"]("click",function(){return t.addSameInvoice(-1)})("keyup.enter",function(){return t.addSameInvoice(-1)}),a["\u0275\u0275element"](144,"i",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](145,"div",69),a["\u0275\u0275template"](146,we,52,36,"tr",70),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](147,"div",71),a["\u0275\u0275text"](148,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](149,"div",7),a["\u0275\u0275elementStart"](150,"div",72),a["\u0275\u0275elementStart"](151,"button",73),a["\u0275\u0275listener"]("click",function(){return t.addNewInvoice()}),a["\u0275\u0275text"](152,"Add New Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](153,ke,2,0,"button",74),a["\u0275\u0275template"](154,$e,5,0,"button",75),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](44),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[r.n,r.s,h.l,r.r,r.l,r.f,r.a,r.k,r.d,h.m,r.b,y.g,r.g],pipes:[h.s],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:108px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}();function Fe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",62),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Me(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",62),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Oe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",62),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Pe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",62),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Re(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",64),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function De(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Re,2,1,"span",63),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function Te(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",65),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function Ne(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",66),a["\u0275\u0275elementStart"](1,"span",67),a["\u0275\u0275element"](2,"img",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",69),a["\u0275\u0275text"](4,"Save as Draft"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var je=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=b.c,this.faPlus=b.b,this.heading="Edit / Update Claim",this.subheading="Update a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.newFiles=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.loggedUserId="",this.alignedStockiest=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.selectedClaim=this.activatedRoute.snapshot.paramMap.get("claimId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.alignedStockiest=JSON.parse(e).stockiest,this.getData(),this.getStockiest();var t=ge().format("MM");this.currentMonth=parseInt(t);var n=ge().format("YYYY");this.currentYear=parseInt(n);for(var i=parseInt(n);i>parseInt(n)-3;i--)this.years.push({id:i,name:i});this.createForm(),this.getBatch(),this.getDivision(),this.getProduct()},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_product:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?(console.log("resp--",e.data),e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data,n.newFiles.push(e.data))):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchBatch=function(e,t){var n=this,i=e.currentTarget.value,a=-1===t?"def":t;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2));var r=[];if(i.length>2)$("#batch_loader_"+a).show(),r=this.matchBatch(i,t),this.delay(10).then(function(e){n.batchSuggestions(r,i,t)});else{var o=document.querySelector("#batch_suggestion_"+a+" ul");o.innerHTML="",o.classList.remove("has-suggestions"),$("#batch_suggestion_"+a).hide()}},e.prototype.matchBatch=function(e,t){var n=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(n)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].divisionName:0,c=a.length?a[0].materialName:0;$("#division_"+n).val(d),$("#product_"+n).val(c),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.searchDivision=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#division_loader_"+(-1===t?"def":t)).show(),a=this.matchDivision(i,t),this.delay(10).then(function(e){n.divisionSuggestions(a,i,t)}))},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#division_suggestion_"+n+" ul");$("#division_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#division_suggestion_"+n).hide()},e.prototype.searchProduct=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#product_loader_"+(-1===t?"def":t)).show(),a=this.matchProduct(i,t),console.log(a),this.delay(10).then(function(e){n.productSuggestions(a,i,t)}))},e.prototype.matchProduct=function(e,t){var n=e.toLowerCase();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(n)>-1})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#product_suggestion_"+n+" ul");$("#product_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#product_suggestion_"+n).hide()},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if($("#margin_"+n).val(0),a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#margin_"+n).val(10),$("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),$("#stockiest option:selected").val()||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid");var i=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&i>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var a=$("#stockiest option:selected").val(),r=$("#type option:selected").val(),o=$("#month option:selected").val(),l=$("#year option:selected").val(),s=function(e){var n=/^\d*\.?\d*$/,i=-1===e?"def":e,s=a+".::."+r+".::."+o+".::."+l+".::."+d.loggedUserId,c=$("#invoice_"+i).val(),m=$("#batch_"+i).val(),p=$("#division_"+i).val(),u=$("#product_"+i).val(),f=$("#mrp_"+i).val(),g=$("#pts_"+i).val(),v=$("#ptr_"+i).val(),h=$("#ptd_"+i).val(),b=$("#billingRate_"+i).val(),y=$("#margin_"+i).val(),x=$("#freeQuantity_"+i).val(),S=$("#saleQuantity_"+i).val(),_=$("#difference_"+i).val(),E=$("#totalDifference_"+i).val(),C=$("#amount_"+i).val();if(c||(t=!0,$("#invoice_"+i).addClass("grf-invalid")),m||(t=!0,$("#batch_"+i).addClass("grf-invalid")),u||(t=!0,$("#product_"+i).addClass("grf-invalid")),b||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(b)||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(x)||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid")),n.test(S)||(t=!0,$("#saleQuantity_"+i).addClass("grf-invalid")),!b||x||S||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid"),$("#saleQuantity_"+i).addClass("grf-invalid")),C<=0&&(t=!0,$("#amount_"+i).addClass("grf-invalid")),t)return d.btnLoader=!1,d.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var w="";d.newFiles&&d.newFiles.length&&d.newFiles.forEach(function(e){e.length&&e.forEach(function(e){w=w+e.filename+".::."})}),d.claimForm.value.def_image=w,d.claimForm.value.def_invoice=c,d.claimForm.value.def_batch=m,d.claimForm.value.def_division=p,d.claimForm.value.def_product=u,d.claimForm.value.def_mrp=f,d.claimForm.value.def_pts=g,d.claimForm.value.def_ptr=v,d.claimForm.value.def_ptd=h,d.claimForm.value.def_billingRate=b,d.claimForm.value.def_margin=y,d.claimForm.value.def_freeQuantity=x,d.claimForm.value.def_saleQuantity=S,d.claimForm.value.def_difference=_,d.claimForm.value.def_totalDifference=E,d.claimForm.value.def_amount=C,d.claimForm.value.header=s,d.claimForm.value.id=d.selectedClaim}else{var k="";d.fileNames[e]&&d.fileNames[e].length&&d.fileNames[e].forEach(function(e,t){k=k+e.filename+".::."}),d.claimForm.value.claims[e].image=k,d.claimForm.value.claims[e].invoice=c,d.claimForm.value.claims[e].batch=m,d.claimForm.value.claims[e].division=p,d.claimForm.value.claims[e].product=u,d.claimForm.value.claims[e].mrp=f,d.claimForm.value.claims[e].pts=g,d.claimForm.value.claims[e].ptr=v,d.claimForm.value.claims[e].ptd=h,d.claimForm.value.claims[e].billingRate=b,d.claimForm.value.claims[e].margin=y,d.claimForm.value.claims[e].freeQuantity=x,d.claimForm.value.claims[e].saleQuantity=S,d.claimForm.value.claims[e].difference=_,d.claimForm.value.claims[e].totalDifference=E,d.claimForm.value.claims[e].amount=C,d.claimForm.value.claims[e].header=s}},d=this,c=-1;c<=n;c++){var m=s(c);if("object"==typeof m)return m.value}console.log(this.claimForm.value),this.apiService.post("/api/claim/update",this.claimForm.value).subscribe(function(t){200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},5e3))})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/getClaim",this.selectedClaim).subscribe(function(t){if(200===t.status)if(t.data.length){if(e.records=t.data[0],console.log("this.records--",e.records),$("#stockiest").val(e.records.customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),$("#type").val(e.records.claimType),$("#month").val(e.records.claimMonth),$("#year").val(e.records.claimYear),e.claimForm.controls.def_invoice.setValue(e.records.invoice,{onlySelf:!0}),e.claimForm.value.def_invoice=e.records.invoice,e.claimForm.controls.def_batch.setValue(e.records.batch,{onlySelf:!0}),e.claimForm.value.def_batch=e.records.batch,e.claimForm.controls.def_division.setValue(e.records.divisionName,{onlySelf:!0}),e.claimForm.value.def_division=e.records.divisionName,e.claimForm.controls.def_product.setValue(e.records.materialName,{onlySelf:!0}),e.claimForm.value.def_product=e.records.materialName,e.claimForm.controls.def_particulars.setValue(e.records.particulars,{onlySelf:!0}),e.claimForm.value.def_particulars=e.records.particulars,e.claimForm.controls.def_mrp.setValue(e.records.mrp,{onlySelf:!0}),e.claimForm.value.def_mrp=e.records.mrp,e.claimForm.controls.def_pts.setValue(e.records.pts,{onlySelf:!0}),e.claimForm.value.def_pts=e.records.pts,e.claimForm.controls.def_billingRate.setValue(e.records.billingRate,{onlySelf:!0}),e.claimForm.value.def_billingRate=e.records.billingRate,e.claimForm.controls.def_margin.setValue(e.records.margin,{onlySelf:!0}),e.claimForm.value.def_margin=e.records.margin,e.claimForm.controls.def_freeQuantity.setValue(e.records.freeQuantity,{onlySelf:!0}),e.claimForm.value.def_freeQuantity=e.records.freeQuantity,e.claimForm.controls.def_saleQuantity.setValue(e.records.saleQuantity,{onlySelf:!0}),e.claimForm.value.def_saleQuantity=e.records.saleQuantity,e.claimForm.controls.def_difference.setValue(e.records.difference,{onlySelf:!0}),e.claimForm.value.def_difference=e.records.difference,e.claimForm.controls.def_totalDifference.setValue(e.records.totalDifference,{onlySelf:!0}),e.claimForm.value.def_totalDifference=e.records.totalDifference,e.claimForm.controls.def_amount.setValue(e.records.amount,{onlySelf:!0}),e.claimForm.value.def_amount=e.records.amount,e.records.files.length){var n=[];e.records.files.forEach(function(e){n.push({filename:e.filename,originalname:e.originalFilename})}),e.fileNames[-1]=n}}else e.toast("error",t.message);else e.toast("error",t.message)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-claim"]],decls:139,vars:20,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_division","id","division_def","readonly","",1,"form-control"],["type","text","formControlName","def_product","id","product_def","readonly","",1,"form-control"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_margin","id","margin_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["type","button",1,"btn-transition","btn","btn-outline-focus",3,"tabIndex","click"],[4,"ngIf"],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Fe,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,Me,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,Oe,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,Pe,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",7),a["\u0275\u0275elementStart"](51,"div",27),a["\u0275\u0275element"](52,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",28),a["\u0275\u0275elementStart"](54,"form",29),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](55,"div",7),a["\u0275\u0275elementStart"](56,"div",30),a["\u0275\u0275elementStart"](57,"div",31),a["\u0275\u0275elementStart"](58,"table",32),a["\u0275\u0275elementStart"](59,"tr"),a["\u0275\u0275elementStart"](60,"td",33),a["\u0275\u0275elementStart"](61,"label",34),a["\u0275\u0275text"](62,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"td",33),a["\u0275\u0275elementStart"](64,"label",34),a["\u0275\u0275text"](65,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",35),a["\u0275\u0275text"](67,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",33),a["\u0275\u0275elementStart"](69,"label",34),a["\u0275\u0275text"](70,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](71,"td",35),a["\u0275\u0275text"](72,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"td",35),a["\u0275\u0275text"](74,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](75,"td",35),a["\u0275\u0275text"](76,"Margin (%)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"td",33),a["\u0275\u0275elementStart"](78,"label",34),a["\u0275\u0275text"](79,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"td",33),a["\u0275\u0275elementStart"](81,"label",34),a["\u0275\u0275text"](82,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"td",33),a["\u0275\u0275elementStart"](84,"label",34),a["\u0275\u0275text"](85,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",35),a["\u0275\u0275text"](87,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",35),a["\u0275\u0275text"](89,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",35),a["\u0275\u0275text"](91,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",35),a["\u0275\u0275text"](93,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",35),a["\u0275\u0275text"](95,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"tr"),a["\u0275\u0275elementStart"](97,"td",36),a["\u0275\u0275element"](98,"input",37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](99,"td",36),a["\u0275\u0275elementStart"](100,"input",38),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](101,"img",39),a["\u0275\u0275elementStart"](102,"div",40),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](103,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"td",36),a["\u0275\u0275element"](105,"input",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",36),a["\u0275\u0275element"](107,"input",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",36),a["\u0275\u0275element"](109,"input",43),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](110,"td",36),a["\u0275\u0275element"](111,"input",44),a["\u0275\u0275element"](112,"input",45),a["\u0275\u0275element"](113,"input",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](114,"td",36),a["\u0275\u0275element"](115,"input",47),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](116,"td",36),a["\u0275\u0275elementStart"](117,"input",48),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](118,"td",36),a["\u0275\u0275elementStart"](119,"input",49),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](120,"td",36),a["\u0275\u0275elementStart"](121,"input",50),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](122,"td",36),a["\u0275\u0275element"](123,"input",51),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](124,"td",36),a["\u0275\u0275element"](125,"input",52),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](126,"td",36),a["\u0275\u0275element"](127,"input",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](128,"td",54),a["\u0275\u0275elementStart"](129,"input",55,56),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](131,"button",57),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](130).click()}),a["\u0275\u0275text"](132,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](133,"td",54),a["\u0275\u0275template"](134,De,2,1,"div",58),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](135,"div",7),a["\u0275\u0275elementStart"](136,"div",59),a["\u0275\u0275template"](137,Te,2,0,"button",60),a["\u0275\u0275template"](138,Ne,5,0,"button",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](44),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[r.n,r.s,h.l,r.r,r.l,r.f,r.a,r.k,r.d,h.m,y.g],pipes:[h.s],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}(),Qe=n("IkSl");function Le(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",37),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Be(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",37),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Ae(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",37),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Ye(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",37),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ue(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",37),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ve(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",38),a["\u0275\u0275element"](1,"img",39),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function He(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",38),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function qe(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",65),a["\u0275\u0275elementStart"](1,"i",66),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](66);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function ze(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,qe,2,1,"span",64),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Je(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",52),a["\u0275\u0275elementStart"](1,"td",53),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",53),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",53),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",53),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",54),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",54),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",53),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",53),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",53),a["\u0275\u0275text"](23),a["\u0275\u0275pipe"](24,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",53),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",53),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",53),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",53),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",53),a["\u0275\u0275text"](37),a["\u0275\u0275pipe"](38,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",53),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td"),a["\u0275\u0275template"](43,ze,2,1,"div",55),a["\u0275\u0275elementStart"](44,"div",56),a["\u0275\u0275text"](45," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",53),a["\u0275\u0275elementStart"](47,"span",57),a["\u0275\u0275elementStart"](48,"i",58),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2),r=a["\u0275\u0275reference"](68);return i.uploadwPopup(r,e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"span",59),a["\u0275\u0275elementStart"](50,"a",60),a["\u0275\u0275element"](51,"i",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"span",62),a["\u0275\u0275elementStart"](53,"i",63),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).confirmBoxDelete(e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](r+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](5,23,i.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,25,i.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,27,i.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](18,29,i.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](21,32,i.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](24,35,i.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,38,i.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,41,i.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,44,i.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](38,47,i.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,50,i.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",i.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",i.invoice,""),a["\u0275\u0275advance"](6),a["\u0275\u0275propertyInterpolate1"]("href","stockiest/updateClaim/",i._id,"",a["\u0275\u0275sanitizeUrl"])}}function Ge(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",40),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",41),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",42),a["\u0275\u0275text"](7,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",43),a["\u0275\u0275text"](9,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",43),a["\u0275\u0275text"](11,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",44),a["\u0275\u0275text"](13,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",45),a["\u0275\u0275text"](15,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",46),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",46),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",47),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",48),a["\u0275\u0275text"](23,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",49),a["\u0275\u0275text"](25,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",49),a["\u0275\u0275text"](27,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",50),a["\u0275\u0275text"](29,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",50),a["\u0275\u0275text"](31,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",47),a["\u0275\u0275text"](33,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"th",47),a["\u0275\u0275text"](35,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"th",47),a["\u0275\u0275text"](37,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"tbody"),a["\u0275\u0275template"](39,Je,54,53,"tr",51),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](39),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function We(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",72),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).postClaim()}),a["\u0275\u0275text"](1,"Post Claim"),a["\u0275\u0275elementEnd"]()}}function Ke(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",73),a["\u0275\u0275elementStart"](1,"span",74),a["\u0275\u0275element"](2,"img",39),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",75),a["\u0275\u0275text"](4,"Post Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Ze(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",67),a["\u0275\u0275elementStart"](1,"div",68),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",69),a["\u0275\u0275template"](4,We,2,0,"button",70),a["\u0275\u0275template"](5,Ke,5,0,"button",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!n.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.btnLoader)}}function Xe(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",87),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function et(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",88),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function tt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",76),a["\u0275\u0275elementStart"](1,"h4",77),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",78),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",79),a["\u0275\u0275elementStart"](5,"div",30),a["\u0275\u0275elementStart"](6,"div",80),a["\u0275\u0275template"](7,Xe,1,2,"pdf-viewer",81),a["\u0275\u0275template"](8,et,1,2,"img",82),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",83),a["\u0275\u0275elementStart"](10,"button",84),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",85),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",86),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function nt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",76),a["\u0275\u0275elementStart"](1,"h4",77),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",78),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",79),a["\u0275\u0275elementStart"](5,"div",30),a["\u0275\u0275elementStart"](6,"div",89),a["\u0275\u0275elementStart"](7,"input",90,91),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",83),a["\u0275\u0275elementStart"](10,"button",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",86),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var it=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=V,this.faStar=b.c,this.faPlus=b.b,this.heading="Drafts",this.subheading="Temporarily saved claim. The claim can be rectified (If required) and finally submitted to the Head Office.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.pdfSource=""}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest(),this.getDivision();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var a=$("#stockiest option:selected").val(),r=$("#month option:selected").val(),o=$("#year option:selected").val();e.getData(a,r,o),e.selectedFields.stockiest=a,e.selectedFields.type="",e.selectedFields.division="",e.selectedFields.month=r,e.selectedFields.year=o})},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getData=function(e,t,n,i,a){var r=this;void 0===i&&(i=""),void 0===a&&(a=""),this.loading=this.showData=!0,this.records=this.tempRecords=[],this.apiService.post("/api/getClaim",{customerId:e,month:t,year:n}).subscribe(function(e){200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),r.records=e.data,r.tempRecords=e.data,console.log("records---",r.records),(i||a)&&r.filterDataTwice(i,a),r.loading=!1,r.showData=!0):r.loading=r.showData=!1:r.toast("error",e.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=e.target.id;this.selectedFields[t]=e.target.value;var n=this.selectedFields.type,i=this.selectedFields.division;"stockiest"!==t&&"month"!==t&&"year"!==t||(this.getData(this.selectedFields.stockiest,this.selectedFields.month,this.selectedFields.year),this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),n&&i?this.tempRecords=this.records.filter(function(e){return e.claimType==n&&e.divisionName==i}):n&&!i?this.tempRecords=this.records.filter(function(e){return e.claimType==n}):!n&&i?this.tempRecords=this.records.filter(function(e){return e.divisionName==i}):n||i||(this.tempRecords=this.records)},e.prototype.viewPopup=function(e,t,n,i){var a=this;console.log(t),this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){if(n.value){var i=t.selectedFields.type,a=t.selectedFields.division;t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(t.selectedFields.stockiest,t.selectedFields.month,t.selectedFields.year,i,a),B.a.fire("Deleted!","Your imaginary record has been deleted.","success"))})}else n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){if(n.value){var i=t.selectedFields.type,a=t.selectedFields.division;t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(t.selectedFields.stockiest,t.selectedFields.month,t.selectedFields.year,i,a),B.a.fire("Deleted!","Your imaginary record has been deleted.","success"))})}else n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error");t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.loggedUserId})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(n.selectedFields.stockiest,n.selectedFields.month,n.selectedFields.year),B.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this;B.a.fire({title:"Are you sure want to submit?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"No, keep it"}).then(function(t){if(t.value){var n=0,i=[];e.records.forEach(function(e){e.files.length&&i.push({invoice:e.invoice,file:e.files[0].filename})});var a=Object(d.g)(new Map(i.map(function(e){return[e.invoice,e]})).values()),r=e.records.filter(function(e){var t=e.invoice;return!a.some(function(e){return e.invoice===t})}),o=Object(d.g)(new Map(r.map(function(e){return[e.invoice,e]})).values());if(o&&o.forEach(function(t){n=1,$("."+t.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),e.tempRecords.length<=0&&(n=1,e.toast("error","Currently there are no claims on the list.")),0===n){var l=[];e.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.loggedUserId,submittedOn:ge().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};l.push(i)}),e.apiService.post("/api/claim/submit",l).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}}else t.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](y.e),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-draft-claim"]],decls:69,vars:14,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row","row-cols-5"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select",3,"change"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select",3,"change"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"row"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["uploads",""],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","50px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","110px"],[1,"border-right",2,"width","180px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["title","Upload Invoice",1,"option-span",2,"color","#6610f2"],[1,"vsm-icon","pe-7s-cloud-upload","option-tr",3,"click"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"],["title","Delete",1,"option-span",2,"color","red"],[1,"vsm-icon","pe-7s-trash","option-tr",3,"click"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",3,"click",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Le,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,Be,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,Ae,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"div",8),a["\u0275\u0275elementStart"](41,"div",9),a["\u0275\u0275elementStart"](42,"label",23),a["\u0275\u0275text"](43,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"select",24),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](45,"option",25),a["\u0275\u0275text"](46," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](47,Ye,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](48,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"div",8),a["\u0275\u0275elementStart"](50,"div",9),a["\u0275\u0275elementStart"](51,"label",27),a["\u0275\u0275text"](52,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"select",28),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](54,"option",25),a["\u0275\u0275text"](55," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](56,Ue,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](57,"span",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",30),a["\u0275\u0275elementStart"](59,"div",31),a["\u0275\u0275element"](60,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](61,Ve,4,0,"div",32),a["\u0275\u0275template"](62,He,2,0,"div",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](63,Ge,40,1,"div",33),a["\u0275\u0275template"](64,Ze,6,3,"div",34),a["\u0275\u0275template"](65,tt,16,3,"ng-template",null,35,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](67,nt,14,1,"ng-template",null,36,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[r.n,r.s,h.l,h.m,y.g,Qe.a],pipes:[h.s,h.e],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function at(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function rt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ot(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function lt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function st(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",42),a["\u0275\u0275element"](1,"img",43),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function dt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",42),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function ct(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",61),a["\u0275\u0275elementStart"](1,"i",62),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](78);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function mt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,ct,2,1,"span",60),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function pt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",55),a["\u0275\u0275elementStart"](1,"td",56),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td",56),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",56),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",57),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",57),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",56),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",56),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",56),a["\u0275\u0275text"](21),a["\u0275\u0275pipe"](22,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",56),a["\u0275\u0275text"](24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",56),a["\u0275\u0275text"](26),a["\u0275\u0275pipe"](27,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",56),a["\u0275\u0275text"](29),a["\u0275\u0275pipe"](30,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",56),a["\u0275\u0275text"](32),a["\u0275\u0275pipe"](33,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",56),a["\u0275\u0275text"](35),a["\u0275\u0275pipe"](36,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",56),a["\u0275\u0275text"](38),a["\u0275\u0275pipe"](39,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td"),a["\u0275\u0275template"](41,mt,2,1,"div",58),a["\u0275\u0275elementStart"](42,"div",59),a["\u0275\u0275text"](43," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](3,21,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](10,23,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](13,25,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](16,27,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](19,30,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](22,33,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](27,36,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](30,39,n.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](33,42,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](36,45,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](39,48,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",n.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",n.invoice,"")}}function ut(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",44),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",45),a["\u0275\u0275text"](5,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",46),a["\u0275\u0275text"](7,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",46),a["\u0275\u0275text"](9,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",47),a["\u0275\u0275text"](11,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",48),a["\u0275\u0275text"](13,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",49),a["\u0275\u0275text"](15,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",49),a["\u0275\u0275text"](17,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",50),a["\u0275\u0275text"](19,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",51),a["\u0275\u0275text"](21,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",52),a["\u0275\u0275text"](23,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",52),a["\u0275\u0275text"](25,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",53),a["\u0275\u0275text"](27,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",53),a["\u0275\u0275text"](29,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",50),a["\u0275\u0275text"](31,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",50),a["\u0275\u0275text"](33,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"tbody"),a["\u0275\u0275template"](35,pt,44,51,"tr",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](35),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function ft(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",63),a["\u0275\u0275elementStart"](1,"div",64),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",65),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Total Amount: ",a["\u0275\u0275pipeBind2"](5,2,n.totalAmount,"1.2-2")," ")}}function gt(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",77),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function vt(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",78),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function ht(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",66),a["\u0275\u0275elementStart"](1,"h4",67),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",68),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",69),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",70),a["\u0275\u0275template"](7,gt,1,2,"pdf-viewer",71),a["\u0275\u0275template"](8,vt,1,2,"img",72),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",73),a["\u0275\u0275elementStart"](10,"button",74),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",75),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",76),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}var bt=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=V,this.faStar=b.c,this.faPlus=b.b,this.heading="Claim Status",this.subheading="Approve/un-approved and inprogress stockiest claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!1,this.showData=!0,this.tempRecords=[],this.totalAmount=0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.category=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.particulars=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.salesAndRemainings=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.pdfSource="",this.clickedFile=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#type").val("scheme"),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()})},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",hdnStkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchBatch=function(e,t){var n=this,i=e.currentTarget.value,a=-1===t?"def":t;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2));var r=[];if("Tab"!=e.key)if(i.length>2)$("#batch_loader_"+a).show(),r=this.matchBatch(i,t),this.delay(10).then(function(e){n.batchSuggestions(r,i,t)});else{var o=document.querySelector("#batch_suggestion_"+a+" ul");o.innerHTML="",o.classList.remove("has-suggestions"),$("#batch_suggestion_"+a).hide()}},e.prototype.matchBatch=function(e,t){var n=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(n)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].division:0,c=a.length?a[0].material:0;d&&this.getBatchDivision(d,n),c&&this.getBatchProduct(c,n),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.searchDivision=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#division_loader_"+(-1===t?"def":t)).show(),a=this.matchDivision(i,t),this.delay(10).then(function(e){n.divisionSuggestions(a,i,t)}))},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#division_suggestion_"+n+" ul");$("#division_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#division_suggestion_"+n).hide()},e.prototype.searchProduct=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#product_loader_"+(-1===t?"def":t)).show(),a=this.matchProduct(i,t),console.log(a),this.delay(10).then(function(e){n.productSuggestions(a,i,t)}))},e.prototype.matchProduct=function(e,t){var n=e.toLowerCase();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(n)>-1})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#product_suggestion_"+n+" ul");$("#product_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#product_suggestion_"+n).hide()},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(10).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#particulars_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show(),$("#particulars_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide())},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide()},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.category.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show(),$("#category_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide())},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide()},e.prototype.changeMargin=function(e,t){var n=$("#pts_"+t).val(),i=$("#margin_"+t).val(),a=$("#billingRate_"+t).val(),r=n-a+a*i/100,o=r*$("#saleQuantity_"+t).val();$("#totalDifference_"+t).val(r.toFixed(2)),$("#amount_"+t).val(o.toFixed(2))},e.prototype.changeCalculation=function(e,t,n){var i=-1===t?"def":t;$("#freeQuantity_"+i).attr("readonly",!1),$("#billingRate_"+i).removeClass("grf-invalid"),$("#freeQuantity_"+i).removeClass("grf-invalid"),$("#saleQuantity_"+i).removeClass("grf-invalid");var a=$("#pts_"+i).val(),r=$("#billingRate_"+i).val(),o=$("#freeQuantity_"+i).val(),l=$("#saleQuantity_"+i).val(),s=/^\d*\.?\d*$/;if(s.test(r)||$("#billingRate_"+i).addClass("grf-invalid"),s.test(o)||$("#freeQuantity_"+i).addClass("grf-invalid"),s.test(l)||$("#saleQuantity_"+i).addClass("grf-invalid"),0==r)if($("#margin_"+i).val(0),o){var d=(m=a-r)+0*r/100,c=a*o;$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2))}else $("#difference_"+i).val(Number(0).toFixed(2)),$("#totalDifference_"+i).val(Number(0).toFixed(2)),$("#amount_"+i).val(Number(0).toFixed(2));else{var m,p=$("#margin_"+i).val(),u=parseInt(p)?p:10;$("#margin_"+i).val(u),$("#freeQuantity_"+i).val(""),$("#freeQuantity_"+i).attr("readonly",!0),r&&l&&(c=(d=(m=a-r)+r*u/100)*l,$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2)))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getCategory=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.category=t.data)})},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&(console.log(e.data),$("#product_"+t).val(e.data.materialName),$("#material_"+t).val(e.data.material))})},e.prototype.fetchRemaining=function(e,t,n){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(n){return e=-1===t?"def":t,this.activatedRoute.snapshot.paramMap.get("stockiest"),$("#invoice_"+e).val(),$("#batch_"+e).val(),$("#billingRate_"+e).val(),$("#saleQuantity_"+e).val(),$("#freeQuantity_"+e).val(),parseInt($("#margin_"+e).val())&&$("#margin_"+e).val(),[2]})})},e.prototype.checkQuantity=function(e,t){var n=parseInt($("#saleQuantity_"+t).val()),i=parseInt($("#hdn_stkRemnQty_"+t).val());if(i>=n){var a=i-n;$("#stkRemnQty_"+t).val(a),$("#totalSaleQuantity_"+t).val(n)}else $("#stkRemnQty_"+t).val(i),$("#saleQuantity_"+t).val(0),$("#totalSaleQuantity_"+t).val(0)},e.prototype.getData=function(){return Object(d.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o,l=this;return Object(d.d)(this,function(s){return this.loading=this.showData=!0,this.records=this.tempRecords=[],this.totalAmount=0,$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide(),e=$("#stockiest option:selected").val(),t=$("#type option:selected").val(),n=$("#division option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=$("#status option:selected").val(),e&&r?i>this.currentMonth&&a>=this.currentYear?($("#err_month").text("You can't claim for this month.").show(),[2]):(o={customerId:e,month:i,year:a,status:r},t&&(o.claimType=t),console.log("requestData---",o),this.apiService.post("/api/getApprovedClaim",o).subscribe(function(e){console.log(e.data),200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),l.records=e.data,l.tempRecords=e.data,console.log("records---",l.records),(t||n)&&l.filterDataTwice(t,n),l.tempRecords.forEach(function(e){l.totalAmount=l.totalAmount+e.amount}),l.loading=!1,l.showData=!0):l.loading=l.showData=!1:l.toast("error",e.message)}),[2]):(e||$("#err_stockiest").text("it's a required field.").show(),r||$("#err_status").text("it's a required field.").show(),[2])})})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.clear=function(){var e=ge().format("MM"),t=ge().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.getClaimForApproval=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/getClaimForApproval",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getHoSales=function(e,t){var n=this;return new Promise(function(i){n.apiService.post("/api/sales/ho/invoice",{batch:e,custIds:t}).subscribe(function(e){i(e)})})},e.prototype.onSubmit=function(){var e=$(".count").last().val();null==e&&(e=-1);for(var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=function(e){var r=-1===e?"def":e,l=t+".::."+n+".::."+i+".::."+a+".::."+o.loggedUserId,s=$("#invoice_"+r).val(),d=$("#batch_"+r).val(),c=$("#division_"+r).val(),m=$("#product_"+r).val(),p=$("#mrp_"+r).val(),u=$("#pts_"+r).val(),f=$("#ptr_"+r).val(),g=$("#ptd_"+r).val(),v=$("#billingRate_"+r).val(),h=$("#margin_"+r).val(),b=$("#freeQuantity_"+r).val(),y=$("#saleQuantity_"+r).val(),x=$("#difference_"+r).val(),S=$("#totalDifference_"+r).val(),_=$("#amount_"+r).val();if(-1===e){var E="";o.fileNames[-1]&&o.fileNames[-1].length&&o.fileNames[-1].forEach(function(e,t){E=E+e.filename+".::."}),o.claimForm.value.def_image=E,o.claimForm.value.def_invoice=s,o.claimForm.value.def_batch=d,o.claimForm.value.def_division=c,o.claimForm.value.def_product=m,o.claimForm.value.def_mrp=p,o.claimForm.value.def_pts=u,o.claimForm.value.def_ptr=f,o.claimForm.value.def_ptd=g,o.claimForm.value.def_billingRate=v,o.claimForm.value.def_margin=h,o.claimForm.value.def_freeQuantity=b,o.claimForm.value.def_saleQuantity=y,o.claimForm.value.def_difference=x,o.claimForm.value.def_totalDifference=S,o.claimForm.value.def_amount=_,o.claimForm.value.header=l}else{var C="";o.fileNames[e]&&o.fileNames[e].length&&o.fileNames[e].forEach(function(e,t){C=C+e.filename+".::."}),o.claimForm.value.claims[e].image=C,o.claimForm.value.claims[e].invoice=s,o.claimForm.value.claims[e].batch=d,o.claimForm.value.claims[e].division=c,o.claimForm.value.claims[e].product=m,o.claimForm.value.claims[e].mrp=p,o.claimForm.value.claims[e].pts=u,o.claimForm.value.claims[e].ptr=f,o.claimForm.value.claims[e].ptd=g,o.claimForm.value.claims[e].billingRate=v,o.claimForm.value.claims[e].margin=h,o.claimForm.value.claims[e].freeQuantity=b,o.claimForm.value.claims[e].saleQuantity=y,o.claimForm.value.claims[e].difference=x,o.claimForm.value.claims[e].totalDifference=S,o.claimForm.value.claims[e].amount=_,o.claimForm.value.claims[e].header=l}},o=this,l=-1;l<=e;l++)r(l)},e.prototype.viewPopup=function(e,t){var n=this;this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.confirmBoxDeleteFile=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?(delete t.fileNames[0],console.log({_id:e._id,deletedBy:t.loggedUserId})):n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](y.e),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-status"]],decls:79,vars:13,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"form-select"],["value","approved"],["value","unapproved"],["value","inprogress"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar",2,"padding-top","10px","font-weight","600"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,at,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,rt,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,ot,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,lt,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",8),a["\u0275\u0275elementStart"](51,"div",9),a["\u0275\u0275elementStart"](52,"label",27),a["\u0275\u0275text"](53,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"select",28),a["\u0275\u0275elementStart"](55,"option",19),a["\u0275\u0275text"](56," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"option",29),a["\u0275\u0275text"](58,"Approved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"option",30),a["\u0275\u0275text"](60,"UnApproved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"option",31),a["\u0275\u0275text"](62,"Inprogress"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](63,"span",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"div",8),a["\u0275\u0275elementStart"](65,"div",33),a["\u0275\u0275elementStart"](66,"button",34),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](67,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"button",35),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](69,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"div",7),a["\u0275\u0275elementStart"](71,"div",36),a["\u0275\u0275element"](72,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](73,st,4,0,"div",37),a["\u0275\u0275template"](74,dt,2,0,"div",37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,ut,36,1,"div",38),a["\u0275\u0275template"](76,ft,6,5,"div",39),a["\u0275\u0275template"](77,ht,16,3,"ng-template",null,40,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](25),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[r.n,r.s,h.l,h.m,y.g,Qe.a],pipes:[h.s,h.e],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}();function yt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",95),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" (",n.selectedFields.stockiest,") ")}}function xt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function St(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function _t(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Et(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ct(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function wt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275element"](1,"img",98),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading...Please wait "),a["\u0275\u0275elementEnd"]())}function kt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function $t(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",130),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function It(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",131),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Ft(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",133),a["\u0275\u0275elementStart"](1,"i",134),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](74);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function Mt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Ft,2,1,"span",132),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Ot(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",135),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function Pt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",136),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function Rt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",137),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",138),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function Tt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",135),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function Nt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",136),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function jt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",137),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function Qt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",138),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function Lt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",139),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function Bt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",140),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function At(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",102),a["\u0275\u0275elementStart"](1,"td",103),a["\u0275\u0275template"](2,$t,1,1,"div",104),a["\u0275\u0275template"](3,It,1,1,"div",105),a["\u0275\u0275element"](4,"div",106),a["\u0275\u0275element"](5,"div",107),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",108),a["\u0275\u0275template"](7,Mt,2,1,"div",109),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",103),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",103),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",110),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",110),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",103),a["\u0275\u0275text"](20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"td",103),a["\u0275\u0275text"](22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",103),a["\u0275\u0275text"](24),a["\u0275\u0275pipe"](25,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"td",103),a["\u0275\u0275text"](27),a["\u0275\u0275pipe"](28,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",103),a["\u0275\u0275text"](30),a["\u0275\u0275pipe"](31,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"td",103),a["\u0275\u0275text"](33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",103),a["\u0275\u0275text"](35),a["\u0275\u0275pipe"](36,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",103),a["\u0275\u0275text"](38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",103),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td",103),a["\u0275\u0275text"](43),a["\u0275\u0275pipe"](44,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"td",103),a["\u0275\u0275text"](46),a["\u0275\u0275pipe"](47,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"td",108),a["\u0275\u0275elementStart"](49,"div",111),a["\u0275\u0275elementStart"](50,"input",112),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.$implicit;return a["\u0275\u0275nextContext"](2).searchParticulars(e,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"div",113),a["\u0275\u0275element"](52,"i",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",115),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.$implicit;return a["\u0275\u0275nextContext"](2).particularsSelection(e,i._id)}),a["\u0275\u0275element"](54,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"td",108),a["\u0275\u0275elementStart"](56,"div",111),a["\u0275\u0275elementStart"](57,"input",116),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.$implicit;return a["\u0275\u0275nextContext"](2).searchCategory(e,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",113),a["\u0275\u0275element"](59,"i",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"div",115),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.$implicit;return a["\u0275\u0275nextContext"](2).categorySelection(e,i._id)}),a["\u0275\u0275element"](61,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",108),a["\u0275\u0275elementStart"](63,"div",117),a["\u0275\u0275elementStart"](64,"select",118),a["\u0275\u0275elementStart"](65,"option",30),a["\u0275\u0275text"](66," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](67,Ot,2,0,"option",119),a["\u0275\u0275template"](68,Pt,2,0,"option",120),a["\u0275\u0275template"](69,Rt,2,0,"option",121),a["\u0275\u0275template"](70,Dt,2,0,"option",122),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](71,"div",113),a["\u0275\u0275element"](72,"i",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"td",108),a["\u0275\u0275elementStart"](74,"div",117),a["\u0275\u0275elementStart"](75,"select",118),a["\u0275\u0275elementStart"](76,"option",30),a["\u0275\u0275text"](77," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](78,Tt,2,0,"option",119),a["\u0275\u0275template"](79,Nt,2,0,"option",120),a["\u0275\u0275template"](80,jt,2,0,"option",121),a["\u0275\u0275template"](81,Qt,2,0,"option",122),a["\u0275\u0275template"](82,Lt,2,0,"option",123),a["\u0275\u0275template"](83,Bt,2,0,"option",124),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"div",113),a["\u0275\u0275element"](85,"i",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",125),a["\u0275\u0275elementStart"](87,"span",126),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"span",127),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](89,"span",128),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"span",129),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Cancel")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.isApproved),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.isUnapproved),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",i._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.files),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](10,42,i.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,44,i.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](18,46,i.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.batchDetail[0].material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](25,48,i.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](28,51,i.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](31,54,i.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](36,57,i.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,60,i.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](44,63,i.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](47,66,i.amount,"1.2-2")),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.particulars),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i._id,""),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate1"]("id","category_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.category),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i._id,""),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate1"]("id","sproof_",i._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==i.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=i.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==i.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=i.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sproof_loader_",i._id,""),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate1"]("id","porder_",i._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"==i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"!=i.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","porder_loader_",i._id,"")}}function Yt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",35),a["\u0275\u0275elementStart"](1,"div",99),a["\u0275\u0275elementStart"](2,"div",100),a["\u0275\u0275elementStart"](3,"table",70),a["\u0275\u0275elementStart"](4,"tr"),a["\u0275\u0275elementStart"](5,"th",71),a["\u0275\u0275text"](6,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",71),a["\u0275\u0275text"](8,"Attachment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",71),a["\u0275\u0275text"](10,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",71),a["\u0275\u0275text"](12,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",71),a["\u0275\u0275text"](14,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",71),a["\u0275\u0275text"](16,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",71),a["\u0275\u0275text"](18,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",71),a["\u0275\u0275text"](20,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",71),a["\u0275\u0275text"](22,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",71),a["\u0275\u0275text"](24,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",71),a["\u0275\u0275text"](26,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",71),a["\u0275\u0275text"](28,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",71),a["\u0275\u0275text"](30,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",71),a["\u0275\u0275text"](32,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",71),a["\u0275\u0275text"](34,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"th",71),a["\u0275\u0275text"](36,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"th",71),a["\u0275\u0275text"](38,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"th",71),a["\u0275\u0275text"](40,"Particulars"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"th",71),a["\u0275\u0275text"](42,"Category"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"th",71),a["\u0275\u0275text"](44,"Supply Proof"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"th",71),a["\u0275\u0275text"](46,"Pur. Order"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"th",71),a["\u0275\u0275text"](48,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](49,At,91,69,"tr",101),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](49),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function Ut(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",141),a["\u0275\u0275elementStart"](1,"div",142),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function Vt(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",150),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function Ht(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",151),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function qt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",46),a["\u0275\u0275elementStart"](1,"h4",47),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",143),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",48),a["\u0275\u0275elementStart"](5,"div",35),a["\u0275\u0275elementStart"](6,"div",144),a["\u0275\u0275template"](7,Vt,1,2,"pdf-viewer",145),a["\u0275\u0275template"](8,Ht,1,2,"img",146),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",53),a["\u0275\u0275elementStart"](10,"button",147),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",148),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",149),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function zt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",46),a["\u0275\u0275elementStart"](1,"h4",47),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",143),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",48),a["\u0275\u0275elementStart"](5,"div",35),a["\u0275\u0275elementStart"](6,"div",152),a["\u0275\u0275elementStart"](7,"input",153,154),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",53),a["\u0275\u0275elementStart"](10,"button",155),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",149),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}function Jt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",156),a["\u0275\u0275elementStart"](1,"td",125),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",125),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",125),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",125),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",125),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",125),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.allotedHoInvoiceQty[0].billDocNumber),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.allotedHoInvoiceQty[0].salesQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoiceQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkRemnQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.totalSaleQuantity)}}function Gt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Wt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Kt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Zt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",96),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Xt=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=V,this.faStar=b.c,this.faPlus=b.b,this.heading="Stockiest Claim",this.subheading="Claim sent by stockiest or field officer.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.categories=[],this.particulars=[],this.clickedFile=[],this.tempRecords=[],this.sessionData="",this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.pdfSource="",this.salesAndRemainings=[],this.allotedInvoiceQty=[],this.allotedHoInvoiceQty=[],this.allotedQty=0,this.requestedQty=0,this.displayStyle="none",this.approvalClickedClaim=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=t,this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest(),this.getDivision();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var a=$("#stockiest option:selected").val(),r=$("#month option:selected").val(),o=$("#year option:selected").val();e.getData(a,r,o),e.getParticulars(),e.getCategories(),e.getBatch(),e.selectedFields.stockiest=a,e.selectedFields.type="",e.selectedFields.division="",e.selectedFields.month=r,e.selectedFields.year=o})},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getData=function(e,t,n,i,a){var r=this;void 0===i&&(i=""),void 0===a&&(a=""),this.loading=this.showData=!0,this.records=this.tempRecords=[],this.apiService.post("/api/claimForApproval",{customerId:e,month:t,year:n}).subscribe(function(e){200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),r.records=e.data,r.tempRecords=e.data,(i||a)&&r.filterDataTwice(i,a),r.loading=!1,r.showData=!0):r.loading=r.showData=!1:r.toast("error",e.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=e.target.id;this.selectedFields[t]=e.target.value,$("#divisionCode").text(""),console.log(t);var n=this.selectedFields.type,i=this.selectedFields.division;if("stockiest"!==t&&"month"!==t&&"year"!==t||(this.getData(this.selectedFields.stockiest,this.selectedFields.month,this.selectedFields.year),this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),i){var a=this.divisions.filter(function(e){return e.name==i})[0].division;$("#divisionCode").text("("+a+")")}n&&i?this.tempRecords=this.records.filter(function(e){return e.claimType==n&&e.divisionName==i}):n&&!i?this.tempRecords=this.records.filter(function(e){return e.claimType==n}):!n&&i?this.tempRecords=this.records.filter(function(e){return e.divisionName==i}):n||i||(this.tempRecords=this.records)},e.prototype.viewPopup=function(e,t,n,i){var a=this;console.log("content--",e,typeof e),this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){if(n.value){var i=t.selectedFields.type,a=t.selectedFields.division;t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(t.selectedFields.stockiest,t.selectedFields.month,t.selectedFields.year,i,a),B.a.fire("Deleted!","Your imaginary record has been deleted.","success"))})}else n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){if(n.value){var i=t.selectedFields.type,a=t.selectedFields.division;t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(t.selectedFields.stockiest,t.selectedFields.month,t.selectedFields.year,i,a),B.a.fire("Deleted!","Your imaginary record has been deleted.","success"))})}else n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error");t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.loggedUserId})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(n.selectedFields.stockiest,n.selectedFields.month,n.selectedFields.year),B.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(d.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(d.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.loggedUserId,submittedOn:ge().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){console.log("resp--",t),200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key?i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(200).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide():i.length<=0&&($("#particulars_suggestion_"+r).hide(),$("#particulars_loader_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#particulars_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),console.log("results--",r),0==r.length?$("#particulars_"+i).val(""):1==r.length?($("#particulars_"+i).val(r[0].input),$("#particulars_suggestion_"+i).hide()):(a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show()),$("#particulars_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),console.log(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide(),$("#particulars_loader_"+n).hide()},e.prototype.getCategories=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.categories=t.data)})},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.categories.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#category_"+i).val(""):1==r.length?$("#category_"+i).val(r[0].input):(a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show()),$("#category_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide()},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),console.log(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide(),$("#category_loader_"+n).show()},e.prototype.searchBatch=function(e){var t=this,n=e.currentTarget.value,i=[];if("Tab"!=e.key)if($("#edit_division").val(""),$("#edit_product").val(""),$("#edit_material").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),n.length>2)$("#edit_batch_loader").show(),i=this.matchBatch(n),this.delay(10).then(function(e){t.batchSuggestions(i,n)});else{var a=document.querySelector("#edit_batch_suggestion ul");a.innerHTML="",a.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide()}this.validateClaim()},e.prototype.matchBatch=function(e){var t=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(t)>-1})},e.prototype.batchSuggestions=function(e,t){var n=document.querySelector("#edit_batch_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.batch.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_batch_suggestion").show(),$("#edit_batch_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide(),$("#edit_batch_loader").hide())},e.prototype.batchSelection=function(e){var t=document.querySelector("#edit_batch_suggestion ul");$("#edit_batch").val(e.target.innerText),t.innerHTML="",t.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide();var n=this.batches.filter(function(t){return t.batch===e.target.innerText}),i=n.length?n[0].mrp:0,a=n.length?n[0].pts:0,r=n.length?n[0].ptr:0,o=n.length?n[0].ptd:0,l=n.length?n[0].division:0,s=n.length?n[0].material:0;l&&this.getBatchDivision(l),s&&this.getBatchProduct(s),$("#edit_mrp").val(i.toFixed(2)),$("#edit_pts").val(a.toFixed(2)),$("#edit_ptr").val(r.toFixed(2)),$("#edit_ptd").val(o.toFixed(2)),$("#edit_material").val(s)},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getBatchDivision=function(e){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#edit_division").val(e.data.name)})},e.prototype.getBatchProduct=function(e){var t=this;this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&($("#edit_product").val(e.data.materialName),t.validateClaim())})},e.prototype.validateApproval=function(e,t){return Object(d.b)(this,void 0,void 0,function(){var n,i,a,r,o,l,s,c,m,p,u,f=this;return Object(d.d)(this,function(g){switch(g.label){case 0:return n="",this.allotedQty=0,this.allotedInvoiceQty=[],this.salesAndRemainings=[],this.allotedHoInvoiceQty=[],this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=g.sent())if("Approve"===t){if(i.isApproved)return B.a.fire("Oops... can't proceed","This claim has already been approved.","error"),[2];a=!1,r=!1,i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>",(o=$("#particulars_"+e._id).val())?(this.particulars.forEach(function(e){o!==e.name||(r=!0)}),r?i.particulars=o:n+="Particulars not matched.<br>"):n+="Enter particulars.<br>",(l=$("#category_"+e._id).val())?(this.categories.forEach(function(e){l!==e.name||(a=!0)}),a?i.category=l:n+="Category not matched.<br>"):n+="Enter category.<br>",(m=$("#sproof_"+e._id).val())?i.supplyProof=m:n+="Select supply proof.<br>",(p=$("#porder_"+e._id).val())?i.purchaseOrder=p:n+="Select purchase order.<br>"}else if("Unapprove"===t){if(i.isUnapproved)return B.a.fire("Oops... can't proceed","This claim has already been unapproved.","error"),[2];s=$("#particulars_"+e._id).val(),i.particulars=s,c=$("#category_"+e._id).val(),i.category=c,m=$("#sproof_"+e._id).val(),i.supplyProof=m,p=$("#porder_"+e._id).val(),i.purchaseOrder=p,i.isApproved=!1,i.isUnapproved=!0,i.unapprovedBy=this.loggedUserId,i.unapprovedOn=ge().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else"Cancel"===t&&(i.isApproved=!1,i.isUnapproved=!1,i.canceledBy=this.loggedUserId,i.canceledOn=ge().format("YYYY-MM-DDTHH:mm:ss.000[Z]"));else n+="Clam doesn't exists.<br>";return n?(B.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}),[3,4]):[3,2];case 2:return this.approvalClickedClaim=i,[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)];case 3:(u=g.sent()).length&&u.forEach(function(e){return Object(d.b)(f,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(n){200===n.status?"Approve"===t?f.getRemaining(i):"Unapprove"===t?($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).hide(),$("#unapprovedIcon_"+e._id).show(),B.a.fire("Un-Approved!","You un-approved the claim successfully.","success")):"Cancel"===t&&($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).hide(),$("#unapprovedIcon_"+e._id).hide(),B.a.fire("Canceled!","You canceled the claim successfully.","success")):B.a.fire("Oops","Something went wrong please try again.","error")}),g.label=4;case 4:return[2]}})})},e.prototype.findUpdateRemaining=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/remaining/findUpdateRemaining",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getRemaining=function(e){return Object(d.b)(this,void 0,void 0,function(){var t,n,i,a,r=this;return Object(d.d)(this,function(o){switch(o.label){case 0:return[4,this.hoInvoice(t={customerId:e.customerId,batch:e.batch})];case 1:return n=o.sent(),console.log("hoInvoice.length",n.length),n.length?(this.allotedHoInvoiceQty.push(n[0]),[4,this.salesAndRemainingQuantity(t)]):[3,3];case 2:return i=o.sent(),console.log("salesAndRemainingQuantity--",i),i?(a=0,this.salesAndRemainings.push(i),i.forEach(function(t){return Object(d.b)(r,void 0,void 0,function(){var n,i,r,o,l;return Object(d.d)(this,function(s){return a>=e.saleQuantity||(i=e.saleQuantity-a,a+=n=(r=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit)>=e.saleQuantity?i:i>=r?r:i,l={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:t.billDocNumber,stkInvoiceQty:t.saleUnit,stkRemnQty:r-n,hdnStkRemnQty:r,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:o=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*o/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*o/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},this.allotedInvoiceQty.push(l)),[2]})})}),this.allotedInvoiceQty&&(this.allotedQty=a,this.requestedQty=e.saleQuantity,this.openPopup())):B.a.fire("Oops... can't proceed","The stockist has no stock of this batch/material.","error"),[3,4];case 3:B.a.fire("Oops... can't proceed","There has been no billing to the distributor for this batch/material within 1 year.","error"),o.label=4;case 4:return[2]}})})},e.prototype.hoInvoice=function(e){var t=this;return new Promise(function(n){console.log("hoInvoice---",e),t.apiService.post("/api/sales/ho/invoice",e).subscribe(function(e){n(200===e.status&&e.data?[e.data]:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getClaimById=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getClaim",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data[0]:[])})})},e.prototype.openPopup=function(){this.displayStyle="block"},e.prototype.closePopup=function(){this.displayStyle="none"},e.prototype.approve=function(){return Object(d.b)(this,void 0,void 0,function(){var e=this;return Object(d.d)(this,function(t){switch(t.label){case 0:return this.requestedQty>this.allotedQty?(B.a.fire({title:"Are you sure want to approve?",text:"Only "+this.allotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(t){return Object(d.b)(e,void 0,void 0,function(){var e=this;return Object(d.d)(this,function(n){switch(n.label){case 0:return t.value?[4,this.allocateQuantity(this.allotedInvoiceQty)]:[3,2];case 1:return n.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.loggedUserId,this.approvalClickedClaim.approvedOn=ge().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),B.a.fire("Approved!","You approved the claim successfully.","success")):B.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),[3,3];case 2:t.dismiss===B.a.DismissReason.cancel&&(B.a.fire("Cancelled","Your record is safe :)","error"),this.closePopup()),n.label=3;case 3:return[2]}})})}),[3,3]):[3,1];case 1:return[4,this.allocateQuantity(this.allotedInvoiceQty)];case 2:t.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.loggedUserId,this.approvalClickedClaim.approvedOn=ge().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),B.a.fire("Approved!","You approved the claim successfully.","success")):B.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),t.label=3;case 3:return[2]}})})},e.prototype.allocateQuantity=function(e){var t=this;return new Promise(function(n){console.log("allocateQuantity---",e),t.apiService.post("/api/sales/allocateQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getAllocatedQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.editRecord=function(e){$("#edit_id").val(e._id),$("#edit_stockiest").val(e.customerId),$("#edit_type").val(e.claimType),$("#edit_month").val(e.claimMonth),$("#edit_year").val(e.claimYear),$("#edit_invoice").val(e.invoice),$("#edit_batch").val(e.batch),$("#edit_division").val(e.divisionName),$("#edit_product").val(e.materialName),$("#edit_material").val(e.batchDetail[0].material),$("#edit_mrp").val(e.mrp),$("#edit_pts").val(e.pts),$("#edit_billingRate").val(e.billingRate),$("#edit_margin").val(e.margin),$("#edit_freeQuantity").val(e.freeQuantity),$("#edit_saleQuantity").val(e.saleQuantity),$("#edit_difference").val(e.difference),$("#edit_totalDifference").val(e.totalDifference),$("#edit_amount").val(e.amount),document.getElementById("myModal").style.display="block",this.validateClaim()},e.prototype.closeEditModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModal").style.display="none"},e.prototype.changeCalculation=function(e){$("#edit_freeQuantity").attr("readonly",!1),$("#edit_billingRate").removeClass("grf-invalid"),$("#edit_freeQuantity").removeClass("grf-invalid"),$("#edit_saleQuantity").removeClass("grf-invalid");var t=$("#edit_billingRate").val(),n=$("#edit_freeQuantity").val(),i=$("#edit_saleQuantity").val(),a=/^\d*\.?\d*$/;if(a.test(t)||$("#edit_billingRate").addClass("grf-invalid"),a.test(n)||$("#edit_freeQuantity").addClass("grf-invalid"),a.test(i)||$("#edit_saleQuantity").addClass("grf-invalid"),0==t)if($("#edit_margin").val(0),n){var r=$("#edit_pts").val()*n;$("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(r.toFixed(2))}else $("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(Number(0).toFixed(2));else if($("#edit_freeQuantity").val(""),$("#edit_freeQuantity").attr("readonly",!0),t&&i){""!=$("#edit_margin").val()&&0!=$("#edit_margin").val()||$("#edit_margin").val(10);var o=$("#edit_margin").val(),l=$("#edit_pts").val()-t,s=l+t*o/100;r=s*i,$("#edit_difference").val(l.toFixed(2)),$("#edit_totalDifference").val(s.toFixed(2)),$("#edit_amount").val(r.toFixed(2))}this.validateClaim()},e.prototype.validateClaim=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass");var e=0,t=$("#edit_stockiest").val(),n=$("#edit_type").val(),i=$("#edit_month").val(),a=$("#edit_year").val(),r=$("#edit_invoice").val(),o=$("#edit_batch").val(),l=$("#edit_division").val(),s=$("#edit_product").val(),d=$("#edit_material").val(),c=$("#edit_mrp").val(),m=$("#edit_pts").val(),p=$("#edit_billingRate").val(),u=$("#edit_freeQuantity").val(),f=$("#edit_amount").val();t||(e=1,$("#edit_stockiest").addClass("errorClass")),n||(e=1,$("#edit_type").addClass("errorClass")),i||(e=1,$("#edit_month").addClass("errorClass")),a||(e=1,$("#edit_year").addClass("errorClass")),r||(e=1,$("#edit_invoice").addClass("errorClass")),o||(e=1,$("#edit_batch").addClass("errorClass")),l||(e=1,$("#edit_batch").addClass("errorClass")),s||(e=1,$("#edit_batch").addClass("errorClass")),d||(e=1,$("#edit_batch").addClass("errorClass")),c||(e=1,$("#edit_batch").addClass("errorClass")),m||(e=1),p<0&&(e=1,$("#edit_batch").addClass("errorClass"),$("#edit_billingRate").addClass("errorClass")),f<=0&&(e=1,$("#edit_amount").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),$("#edit_error").val(e)},e.prototype.updateClaim=function(){return Object(d.b)(this,void 0,void 0,function(){var e,t,n=this;return Object(d.d)(this,function(i){switch(i.label){case 0:return this.validateClaim(),0==$("#edit_error").val()?[3,1]:(this.toast("error","Something is wrong please fix before updating."),[3,3]);case 1:return e={_id:$("#edit_id").val(),customerId:$("#edit_stockiest").val(),claimType:$("#edit_type").val(),claimMonth:$("#edit_month").val(),claimYear:$("#edit_year").val(),invoice:$("#edit_invoice").val(),batch:$("#edit_batch").val(),divisionName:$("#edit_division").val(),material:$("#edit_material").val(),materialName:$("#edit_product").val(),mrp:$("#edit_mrp").val(),pts:$("#edit_pts").val(),ptr:$("#edit_ptr").val(),ptd:$("#edit_ptd").val(),billingRate:$("#edit_billingRate").val(),margin:$("#edit_margin").val(),freeQuantity:$("#edit_freeQuantity").val(),saleQuantity:$("#edit_saleQuantity").val(),difference:$("#edit_difference").val(),totalDifference:$("#edit_totalDifference").val(),amount:$("#edit_amount").val(),isApproved:!1,isUnapproved:!1},[4,this.getAllocatedQuantity(e._id)];case 2:(t=i.sent()).length&&t.forEach(function(t){return Object(d.b)(n,void 0,void 0,function(){return Object(d.d)(this,function(n){switch(n.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:t.stkInvoiceNo,billToParty:e.customerId,batch:e.batch,allocatedQty:t.allocatedQty,claimId:e._id})];case 1:return n.sent(),[2]}})})}),this.apiService.post("/api/claim/updateClaim",e).subscribe(function(e){200===e.status?(n.toast("success","Successfully updated."),setTimeout(function(){window.location.reload()},2e3)):n.toast("error","Something went wrong. Try refreshing the page or try again later.")}),i.label=3;case 3:return[2]}})})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](y.e),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stockiest-claim"]],decls:227,vars:36,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading",2,"width","50%"],[1,"page-title-icon"],[1,"page-title-subheading"],["id","headLoader",1,"tc",2,"display","none","font-size","14px","font-weight","600","color","#FF0013","letter-spacing","1px"],["src","./../../../assets/images/btn_loader.gif"],["id","pageLoader",2,"position","absolute","width","100%","height","100%","background-color","#F1F4F6","z-index","1","opacity","0.5","display","none"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row","row-cols-5"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select",3,"change"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"form-select",3,"change"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"row"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","row",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["style","width: 1000px;"],["details",""],["uploads",""],["tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"width","755px","margin","auto"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[2,"width","720px","overflow-x","auto"],[2,"font-weight","600","height","50px"],[1,"tc",2,"width","120px"],["style","height: 30px;",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["id","myModal",1,"modal"],[1,"modal-content"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"col-md-3"],["for","edit_stockiest",1,"form-label","fb"],["id","edit_stockiest",1,"form-select",3,"tabIndex","change"],["for","edit_type",1,"form-label","fb"],["id","edit_type",1,"form-select",3,"tabIndex","change"],["for","edit_month",1,"form-label","fb"],["id","edit_month",1,"form-select",3,"tabIndex","change"],["for","edit_year",1,"form-label","fb"],["id","edit_year",1,"form-select",3,"tabIndex","change"],["id","table1",1,"table"],[1,"td-head"],["type","text","id","edit_invoice",1,"form-control","grf-am",3,"tabIndex","change"],["type","text","id","edit_batch","autocomplete","off",1,"form-control","grf-am",3,"tabIndex","keyup"],["id","edit_batch_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_batch_suggestion",1,"suggestions",2,"left","9%","display","none",3,"click"],["type","text","id","edit_division","disabled","",1,"form-control","grf-am"],["type","text","id","edit_product","disabled","",1,"form-control","grf-am"],["type","text","id","edit_material","disabled","",1,"form-control","grf-am"],["type","text","id","edit_mrp","disabled","",1,"form-control","grf-am"],["type","text","id","edit_pts","disabled","",1,"form-control","grf-am"],["type","hidden","id","edit_ptr",1,"form-control","grf-am"],["type","hidden","id","edit_ptd",1,"form-control","grf-am"],["type","text","id","edit_margin",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_billingRate",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_freeQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_saleQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_difference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_totalDifference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_amount","disabled","",1,"form-control","grf-am",3,"tabIndex"],[1,"modal-footer",2,"padding","5px 15px"],["type","hidden","id","edit_id","value","",1,"form-control"],["type","hidden","id","edit_error","value","0",1,"form-control","grf-am"],["type","button",1,"btn","btn-success",3,"tabIndex","click"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],[2,"color","orange","font-size","12px"],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["class","border-bottom tc","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom","tc",2,"height","35px"],[1,"border-right","tc"],["title","Approved","class","wpseo-score-icon good",3,"id",4,"ngIf"],["title","Un-Approved","class","wpseo-score-icon bad",3,"id",4,"ngIf"],["title","Approved",1,"wpseo-score-icon","good",2,"display","none",3,"id"],["title","Un-Approved",1,"wpseo-score-icon","bad",2,"display","none",3,"id"],[1,"border-right"],[4,"ngIf"],[1,"border-right","tal"],[1,"inputcontainer"],["type","text","placeholder","Enter Particulars",1,"form-control","tc",2,"width","160px",3,"id","value","keyup"],[1,"icon-container",3,"id"],[1,"loader"],[1,"suggestions",2,"display","none",3,"id","click"],["type","text","placeholder","Enter Category",1,"form-control","tc",2,"width","120px",3,"id","value","keyup"],[1,"position-relative",2,"padding","0px"],[1,"form-select",3,"id"],["value","yes","selected","",4,"ngIf"],["value","yes",4,"ngIf"],["value","no","selected","",4,"ngIf"],["value","no",4,"ngIf"],["value","na","selected","",4,"ngIf"],["value","na",4,"ngIf"],[1,"tc"],["title","Approve",1,"option-icon","pe-7s-check","iconpe_green",3,"click"],["title","Unapprove",1,"option-icon","pe-7s-close-circle","iconpe_red",3,"click"],["title","Edit",1,"option-icon","pe-7s-edit","iconpe_blue",3,"click"],["title","Cancel",1,"option-icon","pe-7s-global","iconpe_purp",3,"click"],["title","Approved",1,"wpseo-score-icon","good",3,"id"],["title","Un-Approved",1,"wpseo-score-icon","bad",3,"id"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],["value","yes","selected",""],["value","yes"],["value","no","selected",""],["value","no"],["value","na","selected",""],["value","na"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"],[2,"height","30px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",2),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275element"](11,"img",6),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275text"](13," Processing... Please wait! "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"div",7),a["\u0275\u0275elementStart"](15,"div",8),a["\u0275\u0275elementStart"](16,"div",9),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275elementStart"](20,"label",13),a["\u0275\u0275text"](21," Stockiest "),a["\u0275\u0275template"](22,yt,2,1,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"select",15),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](24,"option",16),a["\u0275\u0275text"](25," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](26,xt,3,4,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](27,"span",18),a["\u0275\u0275elementStart"](28,"div",19),a["\u0275\u0275element"](29,"img",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",11),a["\u0275\u0275elementStart"](31,"div",12),a["\u0275\u0275elementStart"](32,"label",21),a["\u0275\u0275text"](33,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"select",22),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](35,"option",23),a["\u0275\u0275text"](36," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](37,St,3,4,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](38,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",11),a["\u0275\u0275elementStart"](40,"div",12),a["\u0275\u0275elementStart"](41,"label",25),a["\u0275\u0275text"](42,"Division "),a["\u0275\u0275element"](43,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"select",27),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](45,"option",23),a["\u0275\u0275text"](46," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](47,_t,3,4,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"div",11),a["\u0275\u0275elementStart"](49,"div",12),a["\u0275\u0275elementStart"](50,"label",28),a["\u0275\u0275text"](51,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"select",29),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](53,"option",30),a["\u0275\u0275text"](54," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](55,Et,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](56,"span",31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"div",11),a["\u0275\u0275elementStart"](58,"div",12),a["\u0275\u0275elementStart"](59,"label",32),a["\u0275\u0275text"](60,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"select",33),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](62,"option",30),a["\u0275\u0275text"](63," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](64,Ct,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"span",34),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"div",35),a["\u0275\u0275elementStart"](67,"div",36),a["\u0275\u0275element"](68,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](69,wt,4,0,"div",37),a["\u0275\u0275template"](70,kt,2,0,"div",37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](71,Yt,50,1,"div",38),a["\u0275\u0275template"](72,Ut,3,1,"div",39),a["\u0275\u0275template"](73,qt,16,3,"ng-template",40,41,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](75,zt,14,1,"ng-template",null,42,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](77,"div",43),a["\u0275\u0275elementStart"](78,"div",44),a["\u0275\u0275elementStart"](79,"div",45),a["\u0275\u0275elementStart"](80,"div",46),a["\u0275\u0275elementStart"](81,"h4",47),a["\u0275\u0275text"](82,"Invoice/Quantity Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"div",48),a["\u0275\u0275elementStart"](84,"table",49),a["\u0275\u0275elementStart"](85,"tr",50),a["\u0275\u0275elementStart"](86,"td",51),a["\u0275\u0275text"](87,"Distributor"),a["\u0275\u0275element"](88,"br"),a["\u0275\u0275text"](89,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",51),a["\u0275\u0275text"](91,"Distributor"),a["\u0275\u0275element"](92,"br"),a["\u0275\u0275text"](93,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",51),a["\u0275\u0275text"](95,"Stockiest"),a["\u0275\u0275element"](96,"br"),a["\u0275\u0275text"](97,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](98,"td",51),a["\u0275\u0275text"](99,"Stockiest"),a["\u0275\u0275element"](100,"br"),a["\u0275\u0275text"](101,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",51),a["\u0275\u0275text"](103,"Stockiest Remn."),a["\u0275\u0275element"](104,"br"),a["\u0275\u0275text"](105,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",51),a["\u0275\u0275text"](107,"Total Sale QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](108,Jt,13,6,"tr",52),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"div",53),a["\u0275\u0275elementStart"](110,"button",54),a["\u0275\u0275listener"]("click",function(){return t.approve()}),a["\u0275\u0275text"](111," Approve "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](112,"button",55),a["\u0275\u0275listener"]("click",function(){return t.closePopup()}),a["\u0275\u0275text"](113," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](114,"div",56),a["\u0275\u0275elementStart"](115,"div",57),a["\u0275\u0275elementStart"](116,"div",58),a["\u0275\u0275elementStart"](117,"h2",59),a["\u0275\u0275text"](118,"Update Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](119,"span",60),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](120,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"div",48),a["\u0275\u0275elementStart"](122,"div",35),a["\u0275\u0275elementStart"](123,"div",61),a["\u0275\u0275elementStart"](124,"div",12),a["\u0275\u0275elementStart"](125,"label",62),a["\u0275\u0275text"](126,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](127,"select",63),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](128,"option",16),a["\u0275\u0275text"](129," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](130,Gt,3,4,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](131,"div",61),a["\u0275\u0275elementStart"](132,"div",12),a["\u0275\u0275elementStart"](133,"label",64),a["\u0275\u0275text"](134,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](135,"select",65),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](136,"option",30),a["\u0275\u0275text"](137," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](138,Wt,3,4,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](139,"div",61),a["\u0275\u0275elementStart"](140,"div",12),a["\u0275\u0275elementStart"](141,"label",66),a["\u0275\u0275text"](142,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](143,"select",67),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](144,"option",30),a["\u0275\u0275text"](145," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](146,Kt,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](147,"div",61),a["\u0275\u0275elementStart"](148,"div",12),a["\u0275\u0275elementStart"](149,"label",68),a["\u0275\u0275text"](150,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](151,"select",69),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](152,"option",30),a["\u0275\u0275text"](153," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](154,Zt,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](155,"div",35),a["\u0275\u0275elementStart"](156,"table",70),a["\u0275\u0275elementStart"](157,"tr"),a["\u0275\u0275elementStart"](158,"th",71),a["\u0275\u0275text"](159,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](160,"th",71),a["\u0275\u0275text"](161,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](162,"th",71),a["\u0275\u0275text"](163,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](164,"th",71),a["\u0275\u0275text"](165,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](166,"th",71),a["\u0275\u0275text"](167,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](168,"th",71),a["\u0275\u0275text"](169,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](170,"th",71),a["\u0275\u0275text"](171,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](172,"th",71),a["\u0275\u0275text"](173,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](174,"th",71),a["\u0275\u0275text"](175,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](176,"th",71),a["\u0275\u0275text"](177,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](178,"th",71),a["\u0275\u0275text"](179,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](180,"th",71),a["\u0275\u0275text"](181,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](182,"th",71),a["\u0275\u0275text"](183,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](184,"th",71),a["\u0275\u0275text"](185,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](186,"tr"),a["\u0275\u0275elementStart"](187,"td"),a["\u0275\u0275elementStart"](188,"input",72),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](189,"td"),a["\u0275\u0275elementStart"](190,"input",73),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](191,"img",74),a["\u0275\u0275elementStart"](192,"div",75),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e)}),a["\u0275\u0275element"](193,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](194,"td"),a["\u0275\u0275element"](195,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](196,"td"),a["\u0275\u0275element"](197,"input",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](198,"td"),a["\u0275\u0275element"](199,"input",78),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](200,"td"),a["\u0275\u0275element"](201,"input",79),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](202,"td"),a["\u0275\u0275element"](203,"input",80),a["\u0275\u0275element"](204,"input",81),a["\u0275\u0275element"](205,"input",82),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](206,"td"),a["\u0275\u0275elementStart"](207,"input",83),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](208,"td"),a["\u0275\u0275elementStart"](209,"input",84),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](210,"td"),a["\u0275\u0275elementStart"](211,"input",85),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](212,"td"),a["\u0275\u0275elementStart"](213,"input",86),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](214,"td"),a["\u0275\u0275element"](215,"input",87),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](216,"td"),a["\u0275\u0275element"](217,"input",88),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](218,"td"),a["\u0275\u0275element"](219,"input",89),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](220,"div",90),a["\u0275\u0275element"](221,"input",91),a["\u0275\u0275element"](222,"input",92),a["\u0275\u0275elementStart"](223,"button",93),a["\u0275\u0275listener"]("click",function(){return t.updateClaim()}),a["\u0275\u0275text"](224," Update "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](225,"button",94),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](226," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](5),a["\u0275\u0275styleMapInterpolate1"]("display:",t.displayStyle,""),a["\u0275\u0275advance"](31),a["\u0275\u0275property"]("ngForOf",t.allotedInvoiceQty),a["\u0275\u0275advance"](19),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](34),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",11),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[h.m,r.n,r.s,h.l,y.g,Qe.a],pipes:[h.s,h.e],styles:['.errorClass[_ngcontent-%COMP%]{border:1px solid #ff0013}.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.td-head[_ngcontent-%COMP%]{font-weight:600;height:30px;background:#efefef}.grf-am[_ngcontent-%COMP%], .td-head[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1;left:61%}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.inputcontainer[_ngcontent-%COMP%]{position:relative;padding:0}.icon-container[_ngcontent-%COMP%]{position:absolute;right:15px;top:calc(50% - 9px);display:none}.loader[_ngcontent-%COMP%]{position:relative;height:15px;width:15px;display:inline-block;-webkit-animation:around 5.4s infinite;animation:around 5.4s infinite}@-webkit-keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";background:#fff;position:absolute;display:inline-block;width:100%;height:100%;border-color:#e15b64 #e15b64 transparent transparent;border-style:solid;border-width:2px;border-radius:20px;box-sizing:border-box;top:0;left:0;-webkit-animation:around .7s ease-in-out infinite;animation:around .7s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{-webkit-animation:around .7s ease-in-out .1s infinite;animation:around .7s ease-in-out .1s infinite;background:transparent}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto 7%;width:92%;padding:0;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.wpseo-score-icon[_ngcontent-%COMP%]{background:#888;border-radius:50%!important;height:12px!important;width:12px!important;margin:auto}.wpseo-score-icon.good[_ngcontent-%COMP%]{background-color:#4bae4f}.wpseo-score-icon.bad[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_green[_ngcontent-%COMP%]{background-color:#4bae4f}.iconpe_green[_ngcontent-%COMP%], .iconpe_red[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#fff;border-radius:50%;text-align:center;padding:0 0 0 .5px;margin:2px;cursor:pointer}.iconpe_red[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_blue[_ngcontent-%COMP%]{font-size:15px;background-color:#2fa4e7;padding:3px 3px 2px 3.5px}.iconpe_blue[_ngcontent-%COMP%], .iconpe_purp[_ngcontent-%COMP%]{font-weight:800;color:#fff;border-radius:50%;text-align:center;margin:2px;cursor:pointer}.iconpe_purp[_ngcontent-%COMP%]{font-size:20px;background-color:#6610f2;padding:0 0 0 .5px}.disabledd[_ngcontent-%COMP%]{background-color:#ccc}']}),e}();function en(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function tn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function nn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function an(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function rn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275elementStart"](1,"div",41),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4," Loading... Please wait "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function on(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275elementStart"](1,"i",86),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](3),r=a["\u0275\u0275reference"](120);return i.viewPopup(r,e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalname)}}function ln(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,on,2,1,"span",85),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function sn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",43),a["\u0275\u0275elementStart"](1,"td",44),a["\u0275\u0275elementStart"](2,"input",45,46),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"i",47),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](3).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,ln,2,1,"div",48),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",49),a["\u0275\u0275element"](7,"input",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",49),a["\u0275\u0275elementStart"](9,"input",51),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"img",52),a["\u0275\u0275elementStart"](11,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](12,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",49),a["\u0275\u0275element"](14,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",49),a["\u0275\u0275element"](16,"input",55),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",49),a["\u0275\u0275element"](18,"input",56),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",49),a["\u0275\u0275elementStart"](20,"input",57),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchParticulars(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"img",58),a["\u0275\u0275elementStart"](22,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().particularsSelection(e,i)}),a["\u0275\u0275element"](23,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",49),a["\u0275\u0275elementStart"](25,"input",59),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchCategory(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"img",58),a["\u0275\u0275elementStart"](27,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().categorySelection(e,i)}),a["\u0275\u0275element"](28,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",49),a["\u0275\u0275element"](30,"input",60),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",49),a["\u0275\u0275element"](32,"input",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",49),a["\u0275\u0275element"](34,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",49),a["\u0275\u0275element"](36,"input",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",49),a["\u0275\u0275element"](38,"input",64),a["\u0275\u0275element"](39,"input",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td",49),a["\u0275\u0275element"](41,"input",66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td",49),a["\u0275\u0275element"](43,"input",67),a["\u0275\u0275element"](44,"input",68),a["\u0275\u0275element"](45,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",49),a["\u0275\u0275elementStart"](47,"input",69),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"billingRate")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"td",49),a["\u0275\u0275elementStart"](49,"input",70),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeMargin(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"td",49),a["\u0275\u0275elementStart"](51,"input",71),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"freeQuantity")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"td",49),a["\u0275\u0275elementStart"](53,"input",72),a["\u0275\u0275listener"]("blur",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().checkQuantity(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"td",49),a["\u0275\u0275element"](55,"input",73),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"td",49),a["\u0275\u0275element"](57,"input",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"td",49),a["\u0275\u0275element"](59,"input",75),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"td",49),a["\u0275\u0275element"](61,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",49),a["\u0275\u0275element"](63,"input",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",49),a["\u0275\u0275element"](65,"input",78),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",79),a["\u0275\u0275elementStart"](67,"span",80),a["\u0275\u0275element"](68,"i",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](69,"span",82),a["\u0275\u0275element"](70,"i",83),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](71,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","material_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","category_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","distInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distInvQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoiceQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkRemnQty_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","hdn_stkRemnQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","margin_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalSaleQuantity_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalPtdAmt_",i,""),a["\u0275\u0275advance"](6),a["\u0275\u0275propertyInterpolate"]("value",i)}}function dn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",87),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function cn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",88),a["\u0275\u0275elementStart"](1,"span",89),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",90),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function mn(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",102),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function pn(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",103),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function un(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",91),a["\u0275\u0275elementStart"](1,"h4",92),a["\u0275\u0275text"](2,"Attachment of invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",93),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",94),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",95),a["\u0275\u0275template"](7,mn,1,2,"pdf-viewer",96),a["\u0275\u0275template"](8,pn,1,2,"img",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",98),a["\u0275\u0275elementStart"](10,"button",99),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",100),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",101),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}var fn=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=V,this.faStar=b.c,this.faPlus=b.b,this.heading="Claims for Approval",this.subheading="Approve or reject stockiest claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.category=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.particulars=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.salesAndRemainings=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.pdfSource="",this.clickedFile=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){$("#type").val("scheme"),$("#month").val(parseInt(n)-1),$("#year").val(i),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var a=e.activatedRoute.snapshot.paramMap.get("stockiest"),r=e.activatedRoute.snapshot.paramMap.get("month"),o=e.activatedRoute.snapshot.paramMap.get("year"),l=e.activatedRoute.snapshot.paramMap.get("type"),s=e.activatedRoute.snapshot.paramMap.get("invoice");e.getData(a,r,o,l,s)}),this.createForm(),this.getBatch(),this.getDivision(),this.getProduct(),this.getCategory(),this.getParticulars()},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",hdnStkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchBatch=function(e,t){var n=this,i=e.currentTarget.value,a=-1===t?"def":t;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2));var r=[];if("Tab"!=e.key)if(i.length>2)$("#batch_loader_"+a).show(),r=this.matchBatch(i,t),this.delay(10).then(function(e){n.batchSuggestions(r,i,t)});else{var o=document.querySelector("#batch_suggestion_"+a+" ul");o.innerHTML="",o.classList.remove("has-suggestions"),$("#batch_suggestion_"+a).hide()}},e.prototype.matchBatch=function(e,t){var n=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(n)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].division:0,c=a.length?a[0].material:0;d&&this.getBatchDivision(d,n),c&&this.getBatchProduct(c,n),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.searchDivision=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#division_loader_"+(-1===t?"def":t)).show(),a=this.matchDivision(i,t),this.delay(10).then(function(e){n.divisionSuggestions(a,i,t)}))},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#division_suggestion_"+n+" ul");$("#division_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#division_suggestion_"+n).hide()},e.prototype.searchProduct=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#product_loader_"+(-1===t?"def":t)).show(),a=this.matchProduct(i,t),console.log(a),this.delay(10).then(function(e){n.productSuggestions(a,i,t)}))},e.prototype.matchProduct=function(e,t){var n=e.toLowerCase();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(n)>-1})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#product_suggestion_"+n+" ul");$("#product_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#product_suggestion_"+n).hide()},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(10).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#particulars_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show(),$("#particulars_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide())},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide()},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.category.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#category_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show(),$("#category_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide())},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide()},e.prototype.changeMargin=function(e,t){var n=$("#pts_"+t).val(),i=$("#margin_"+t).val(),a=$("#billingRate_"+t).val(),r=n-a+a*i/100,o=r*$("#saleQuantity_"+t).val();$("#totalDifference_"+t).val(r.toFixed(2)),$("#amount_"+t).val(o.toFixed(2))},e.prototype.changeCalculation=function(e,t,n){console.log(n);var i=-1===t?"def":t;$("#freeQuantity_"+i).attr("readonly",!1),$("#billingRate_"+i).removeClass("grf-invalid"),$("#freeQuantity_"+i).removeClass("grf-invalid"),$("#saleQuantity_"+i).removeClass("grf-invalid");var a=$("#pts_"+i).val(),r=$("#billingRate_"+i).val(),o=$("#freeQuantity_"+i).val(),l=$("#saleQuantity_"+i).val(),s=/^\d*\.?\d*$/;if(s.test(r)||$("#billingRate_"+i).addClass("grf-invalid"),s.test(o)||$("#freeQuantity_"+i).addClass("grf-invalid"),s.test(l)||$("#saleQuantity_"+i).addClass("grf-invalid"),0==r)if($("#margin_"+i).val(0),o){var d=(m=a-r)+0*r/100,c=a*o;$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2))}else $("#difference_"+i).val(Number(0).toFixed(2)),$("#totalDifference_"+i).val(Number(0).toFixed(2)),$("#amount_"+i).val(Number(0).toFixed(2));else{var m,p=$("#margin_"+i).val(),u=parseInt(p)?p:10;$("#margin_"+i).val(u),$("#freeQuantity_"+i).val(""),$("#freeQuantity_"+i).attr("readonly",!0),r&&l&&(c=(d=(m=a-r)+r*u/100)*l,$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2)))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getCategory=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.category=t.data)})},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&(console.log(e.data),$("#product_"+t).val(e.data.materialName),$("#material_"+t).val(e.data.material))})},e.prototype.fetchRemaining=function(e,t,n){return Object(d.b)(this,void 0,void 0,function(){var e,i;return Object(d.d)(this,function(a){return console.log(t,n),e=-1===t?"def":t,i={customerId:this.activatedRoute.snapshot.paramMap.get("stockiest"),invoice:$("#invoice_"+e).val(),batch:$("#batch_"+e).val(),billingRate:$("#billingRate_"+e).val(),saleQuantity:$("#saleQuantity_"+e).val(),freeQuantity:$("#freeQuantity_"+e).val(),margin:parseInt($("#margin_"+e).val())?$("#margin_"+e).val():10,files:[]},console.log("fetchRemaining---",i),[2]})})},e.prototype.checkQuantity=function(e,t){console.log(this.salesAndRemainings);var n=parseInt($("#saleQuantity_"+t).val()),i=parseInt($("#hdn_stkRemnQty_"+t).val());if(i>=n){var a=i-n;$("#stkRemnQty_"+t).val(a),$("#totalSaleQuantity_"+t).val(n)}else $("#stkRemnQty_"+t).val(i),$("#saleQuantity_"+t).val(0),$("#totalSaleQuantity_"+t).val(0)},e.prototype.getData=function(e,t,n,i,a){return Object(d.b)(this,void 0,void 0,function(){var r,o=this;return Object(d.d)(this,function(l){switch(l.label){case 0:return[4,this.getClaimForApproval({customerId:e,month:t,year:n,type:i,invoice:a})];case 1:return r=l.sent(),this.records=r,this.records.length&&this.records.forEach(function(e,t){return Object(d.b)(o,void 0,void 0,function(){return Object(d.d)(this,function(n){return this.getRemaining(e,t),[2]})})}),[2]}})})},e.prototype.getRemaining=function(e,t){return Object(d.b)(this,void 0,void 0,function(){var n,i,a=this;return Object(d.d)(this,function(r){switch(r.label){case 0:return[4,this.salesAndRemainingQuantity({customerId:e.customerId,batch:e.batch})];case 1:return(n=r.sent())&&(this.salesAndRemainings.push(n),i=0,n.forEach(function(n){return Object(d.b)(a,void 0,void 0,function(){var a,r,o,l,s,c;return Object(d.d)(this,function(d){return i>=e.saleQuantity||(r=e.saleQuantity-i,i+=a=(o=n.remainingData.length?n.remainingData[0].quantity:n.saleUnit)>=e.saleQuantity?r:r>=o?o:r,l=e.margin?e.margin:10,this.fileNames[t]=e.files,s={invoice:e.invoice,batch:n.batch,division:n.divisionName,product:n.materialDesc,material:n.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:n.billDocNumber,stkInvoiceQty:n.saleUnit,stkRemnQty:n.saleUnit-a,hdnStkRemnQty:o,mrp:n.mrp,pts:n.pts,billingRate:e.billingRate,margin:l,freeQuantity:e.freeQuantity,saleQuantity:a,difference:(n.pts-e.billingRate).toFixed(2),totalDifference:(n.pts-e.billingRate+e.billingRate*l/100).toFixed(2),amount:((n.pts-e.billingRate+10*e.billingRate/100)*a).toFixed(2),totalSaleQuantity:a,ptd:n.ptd,totalPtdAmt:(n.ptd*a).toFixed(2),image:""},c=this.fb.group(s),this.claims().push(c)),[2]})})})),this.loading=!1,[2]}})})},e.prototype.getClaimForApproval=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/getClaimForApproval",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getHoSales=function(e,t){var n=this;return new Promise(function(i){n.apiService.post("/api/sales/ho/invoice",{batch:e,custIds:t}).subscribe(function(e){i(e)})})},e.prototype.onSubmit=function(){var e=$(".count").last().val();null==e&&(e=-1);for(var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=function(e){var r=-1===e?"def":e,l=t+".::."+n+".::."+i+".::."+a+".::."+o.loggedUserId,s=$("#invoice_"+r).val(),d=$("#batch_"+r).val(),c=$("#division_"+r).val(),m=$("#product_"+r).val(),p=$("#mrp_"+r).val(),u=$("#pts_"+r).val(),f=$("#ptr_"+r).val(),g=$("#ptd_"+r).val(),v=$("#billingRate_"+r).val(),h=$("#margin_"+r).val(),b=$("#freeQuantity_"+r).val(),y=$("#saleQuantity_"+r).val(),x=$("#difference_"+r).val(),S=$("#totalDifference_"+r).val(),_=$("#amount_"+r).val();if(-1===e){var E="";o.fileNames[-1]&&o.fileNames[-1].length&&o.fileNames[-1].forEach(function(e,t){E=E+e.filename+".::."}),o.claimForm.value.def_image=E,o.claimForm.value.def_invoice=s,o.claimForm.value.def_batch=d,o.claimForm.value.def_division=c,o.claimForm.value.def_product=m,o.claimForm.value.def_mrp=p,o.claimForm.value.def_pts=u,o.claimForm.value.def_ptr=f,o.claimForm.value.def_ptd=g,o.claimForm.value.def_billingRate=v,o.claimForm.value.def_margin=h,o.claimForm.value.def_freeQuantity=b,o.claimForm.value.def_saleQuantity=y,o.claimForm.value.def_difference=x,o.claimForm.value.def_totalDifference=S,o.claimForm.value.def_amount=_,o.claimForm.value.header=l}else{var C="";o.fileNames[e]&&o.fileNames[e].length&&o.fileNames[e].forEach(function(e,t){C=C+e.filename+".::."}),o.claimForm.value.claims[e].image=C,o.claimForm.value.claims[e].invoice=s,o.claimForm.value.claims[e].batch=d,o.claimForm.value.claims[e].division=c,o.claimForm.value.claims[e].product=m,o.claimForm.value.claims[e].mrp=p,o.claimForm.value.claims[e].pts=u,o.claimForm.value.claims[e].ptr=f,o.claimForm.value.claims[e].ptd=g,o.claimForm.value.claims[e].billingRate=v,o.claimForm.value.claims[e].margin=h,o.claimForm.value.claims[e].freeQuantity=b,o.claimForm.value.claims[e].saleQuantity=y,o.claimForm.value.claims[e].difference=x,o.claimForm.value.claims[e].totalDifference=S,o.claimForm.value.claims[e].amount=_,o.claimForm.value.claims[e].header=l}},o=this,l=-1;l<=e;l++)r(l);console.log("submit--",this.claimForm.value)},e.prototype.viewPopup=function(e,t){var n=this;console.log(t),this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.confirmBoxDeleteFile=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?(delete t.fileNames[0],console.log({_id:e._id,deletedBy:t.loggedUserId})):n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](y.e),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-approval"]],decls:121,vars:14,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head"],["class","row",4,"ngIf"],["formArrayName","claims"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["details",""],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[3,"formGroupName"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["placement","bottom","ngbTooltip","Upload",1,"pe-7s-upload",2,"float","left",3,"click"],[4,"ngIf"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","text","formControlName","division","readonly","",1,"form-control",3,"id"],["type","text","formControlName","product","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","material","readonly","",1,"form-control",3,"id","tabIndex"],["type","text","formControlName","particulars",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","text","formControlName","category",1,"form-control",3,"id","tabIndex","keyup"],["type","text","formControlName","distInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","distInvQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoiceQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkRemnQty","readonly","",1,"form-control",3,"id"],["type","hidden","formControlName","hdnStkRemnQty",3,"id"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","margin",1,"form-control","tc",3,"id","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","blur"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalSaleQuantity","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","ptd","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalPtdAmt","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Approve",2,"color","green"],[1,"vsm-icon","pe-7s-check"],["title","Unapprove",2,"color","red"],[1,"vsm-icon","pe-7s-close-circle"],["type","hidden",1,"count",3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip","click"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,en,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,tn,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,nn,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,an,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",7),a["\u0275\u0275elementStart"](51,"div",27),a["\u0275\u0275element"](52,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",7),a["\u0275\u0275elementStart"](54,"form",28),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](55,"div",7),a["\u0275\u0275elementStart"](56,"div",29),a["\u0275\u0275elementStart"](57,"div",30),a["\u0275\u0275elementStart"](58,"table",31),a["\u0275\u0275elementStart"](59,"tr"),a["\u0275\u0275elementStart"](60,"td",32),a["\u0275\u0275text"](61,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",32),a["\u0275\u0275text"](63,"Reference No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",32),a["\u0275\u0275text"](65,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",32),a["\u0275\u0275text"](67,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",32),a["\u0275\u0275text"](69,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"td",32),a["\u0275\u0275text"](71,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"td",32),a["\u0275\u0275text"](73,"Particulars"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](74,"td",32),a["\u0275\u0275text"](75,"Category"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](76,"td",32),a["\u0275\u0275text"](77,"Distributor Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"td",32),a["\u0275\u0275text"](79,"Distributor Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"td",32),a["\u0275\u0275text"](81,"Stockiest Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"td",32),a["\u0275\u0275text"](83,"Stockiest Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",32),a["\u0275\u0275text"](85,"Remn. STK Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",32),a["\u0275\u0275text"](87,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",32),a["\u0275\u0275text"](89,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",32),a["\u0275\u0275text"](91,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",32),a["\u0275\u0275text"](93,"Margin (%)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",32),a["\u0275\u0275text"](95,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"td",32),a["\u0275\u0275text"](97,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](98,"td",32),a["\u0275\u0275text"](99,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](100,"td",32),a["\u0275\u0275text"](101,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",32),a["\u0275\u0275text"](103,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"td",32),a["\u0275\u0275text"](105,"Total Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",32),a["\u0275\u0275text"](107,"PTD"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",32),a["\u0275\u0275text"](109,"Total PTD Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](110,"td",32),a["\u0275\u0275text"](111,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,rn,5,0,"div",33),a["\u0275\u0275elementStart"](113,"div",34),a["\u0275\u0275template"](114,sn,72,45,"tr",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"div",7),a["\u0275\u0275elementStart"](116,"div",36),a["\u0275\u0275template"](117,dn,2,0,"button",37),a["\u0275\u0275template"](118,cn,5,0,"button",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](119,un,16,2,"ng-template",null,39,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](58),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[r.n,r.s,h.l,r.r,r.l,r.f,h.m,r.b,r.g,y.g,r.a,r.k,r.d,Qe.a],pipes:[h.s],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}(),gn=n("lLjj");function vn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",47),a["\u0275\u0275elementStart"](1,"button",48),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275text"](2,"ExportToExcel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function hn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," - ",n.customerId," ")}}function bn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function yn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function xn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Sn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function _n(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275element"](1,"img",51),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function En(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function Cn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",69),a["\u0275\u0275elementStart"](1,"i",70),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](87);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function wn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Cn,2,1,"span",68),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function kn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",63),a["\u0275\u0275elementStart"](1,"td",64),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td",64),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",64),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",65),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",65),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",64),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",64),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",64),a["\u0275\u0275text"](21),a["\u0275\u0275pipe"](22,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",64),a["\u0275\u0275text"](24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",64),a["\u0275\u0275text"](26),a["\u0275\u0275pipe"](27,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",64),a["\u0275\u0275text"](29),a["\u0275\u0275pipe"](30,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",64),a["\u0275\u0275text"](32),a["\u0275\u0275pipe"](33,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",64),a["\u0275\u0275text"](35),a["\u0275\u0275pipe"](36,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",64),a["\u0275\u0275text"](38),a["\u0275\u0275pipe"](39,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td"),a["\u0275\u0275template"](41,wn,2,1,"div",66),a["\u0275\u0275elementStart"](42,"div",67),a["\u0275\u0275text"](43," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](3,21,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](10,23,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](13,25,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](16,27,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](19,30,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](22,33,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](27,36,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](30,39,n.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](33,42,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](36,45,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](39,48,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",n.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",n.invoice,"")}}function $n(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",52),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",53),a["\u0275\u0275text"](5,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",54),a["\u0275\u0275text"](7,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",54),a["\u0275\u0275text"](9,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",55),a["\u0275\u0275text"](11,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",56),a["\u0275\u0275text"](13,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",57),a["\u0275\u0275text"](15,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",57),a["\u0275\u0275text"](17,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",58),a["\u0275\u0275text"](19,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",59),a["\u0275\u0275text"](21,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",60),a["\u0275\u0275text"](23,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",60),a["\u0275\u0275text"](25,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",61),a["\u0275\u0275text"](27,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",61),a["\u0275\u0275text"](29,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",58),a["\u0275\u0275text"](31,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",58),a["\u0275\u0275text"](33,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"tbody"),a["\u0275\u0275template"](35,kn,44,51,"tr",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](35),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function In(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",71),a["\u0275\u0275elementStart"](1,"div",72),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"div",73),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function Fn(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",85),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function Mn(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",86),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function On(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",74),a["\u0275\u0275elementStart"](1,"h4",75),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",76),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",77),a["\u0275\u0275elementStart"](5,"div",40),a["\u0275\u0275elementStart"](6,"div",78),a["\u0275\u0275template"](7,Fn,1,2,"pdf-viewer",79),a["\u0275\u0275template"](8,Mn,1,2,"img",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",81),a["\u0275\u0275elementStart"](10,"button",82),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",83),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",84),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Pn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",74),a["\u0275\u0275elementStart"](1,"h4",75),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",76),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",77),a["\u0275\u0275elementStart"](5,"div",40),a["\u0275\u0275elementStart"](6,"div",87),a["\u0275\u0275elementStart"](7,"input",88,89),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",81),a["\u0275\u0275elementStart"](10,"button",90),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",84),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var Rn=[{path:"",component:j,children:[{path:"",component:z,data:{extraParameter:"dashboardsMenu"}},{path:"change/password",component:fe,data:{extraParameter:"passwordMenu"}},{path:"stockiest/createClaim",component:Ie,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/updateClaim/:claimId",component:je,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/draftClaim",component:it,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/claimStatus",component:bt,data:{extraParameter:"stockiestElementsMenu"}},{path:"headoffice/stockiestClaim",component:Xt,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimApproval/:month/:stockiest/:year/:type/:invoice",component:fn,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimStatus",component:function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=V,this.faStar=b.c,this.faPlus=b.b,this.heading="Claim Status",this.subheading="Approved and Un-approved claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.loggedInUser=[],this.selectedFields=[],this.alignedStockiest=[],this.pdfSource=""}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.loggedInUser=JSON.parse(t),this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest(),this.getDivision();var n=ge().format("MM");this.currentMonth=parseInt(n);var i=ge().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val(),$("#stockiest_loader").hide(),$("#stockiest").show()})},e.prototype.toast=function(e,t){B.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getStockiest=function(){var e=this;this.apiService.get("/api/stockiest/all","").subscribe(function(t){if(200===t.status&&t.data.length){var n=t.data.sort(function(e,t){return e.organization.trim()>t.organization.trim()?1:-1});e.stockiests=n}})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.clear=function(){var e=ge().format("MM"),t=ge().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#division").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide();var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#division option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val(),o=$("#status option:selected").val();if(!t||!o)return t||$("#err_stockiest").text("it's a required field.").show(),void(o||$("#err_status").text("it's a required field.").show());if(a>this.currentMonth&&r>=this.currentYear)$("#err_month").text("You can't claim for this month.").show();else{var l={customerId:t,month:a,year:r,status:o};n&&(l.claimType=n),i&&(l.divisionName=i),this.apiService.post("/api/getApprovedClaim",l).subscribe(function(t){console.log(t.data),200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,console.log("records---",e.records),(n||i)&&e.filterDataTwice(n,i),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})}},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=e.target.id;this.selectedFields[t]=e.target.value;var n=this.selectedFields.type,i=this.selectedFields.division;"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),n&&i?this.tempRecords=this.records.filter(function(e){return e.claimType==n&&e.divisionName==i}):n&&!i?this.tempRecords=this.records.filter(function(e){return e.claimType==n}):!n&&i?this.tempRecords=this.records.filter(function(e){return e.divisionName==i}):n||i||(this.tempRecords=this.records)},e.prototype.exportToExcel=function(){var e=[];this.tempRecords.forEach(function(t){e.push({Stockiest:t.customerId,"Claim Type":t.claimType,Month:t.claimMonth,Year:t.claimYear,"Reference No":t.invoice,Batch:t.batch,Division:t.divisionName,Material:t.material,"Material Name":t.materialName,MRP:t.mrp,PTS:t.pts,PTR:t.ptr,PTD:t.ptd,"Billing Rate":t.billingRate,Margin:t.margin,"Free QTY":t.freeQuantity,"Sale QTY":t.saleQuantity,Difference:t.difference,"Total Difference":t.totalDifference,Amount:t.amount})});var t=gn.utils.json_to_sheet(e);for(var n in t["!cols"]=[{wch:10},{wch:10},{wch:8},{wch:5},{wch:15},{wch:10},{wch:20},{wch:15},{wch:40},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20}],t)if("object"==typeof t[n]){var i=gn.utils.decode_cell(n);t[n].s={alignment:{vertical:"center",wrapText:1}},0==i.r&&(t[n].s.alignment={vertical:"center",wrapText:!0},t[n].s.fill={fgColor:{rgb:"585858"}},t[n].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var a=gn.utils.book_new();gn.utils.book_append_sheet(a,t,"Sheet1"),gn.writeFile(a,"ClaimStatus.xlsx")},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&B.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;B.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&B.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===B.a.DismissReason.cancel&&B.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.loggedUserId})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),B.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),B.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(d.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(d.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.loggedUserId,submittedOn:ge().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f),a["\u0275\u0275directiveInject"](r.c),a["\u0275\u0275directiveInject"](y.e),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](q))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-status-claim"]],decls:90,vars:15,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["style","text-align: right;",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row","row-cols-7"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select"],["for","month",1,"form-label","fb"],["id","month",1,"form-select"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"form-select"],["value","approved"],["value","unapproved"],["value","inprogress"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"row"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["uploads",""],[2,"text-align","right"],["type","button",1,"btn","btn-warning",3,"click"],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,vn,3,0,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"label",11),a["\u0275\u0275text"](16,"Stockiest *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"select",12),a["\u0275\u0275elementStart"](18,"option",13),a["\u0275\u0275text"](19," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,hn,3,5,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"span",15),a["\u0275\u0275elementStart"](22,"div",16),a["\u0275\u0275element"](23,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"div",10),a["\u0275\u0275elementStart"](26,"label",18),a["\u0275\u0275text"](27,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"select",19),a["\u0275\u0275elementStart"](29,"option",20),a["\u0275\u0275text"](30," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](31,bn,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"div",10),a["\u0275\u0275elementStart"](35,"label",22),a["\u0275\u0275text"](36,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",20),a["\u0275\u0275text"](39," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,yn,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",9),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Month *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275elementStart"](46,"option",26),a["\u0275\u0275text"](47," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,xn,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",9),a["\u0275\u0275elementStart"](51,"div",10),a["\u0275\u0275elementStart"](52,"label",28),a["\u0275\u0275text"](53,"Year *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"select",29),a["\u0275\u0275elementStart"](55,"option",26),a["\u0275\u0275text"](56," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](57,Sn,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](58,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"div",9),a["\u0275\u0275elementStart"](60,"div",10),a["\u0275\u0275elementStart"](61,"label",31),a["\u0275\u0275text"](62,"Status *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"select",32),a["\u0275\u0275elementStart"](64,"option",26),a["\u0275\u0275text"](65," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"option",33),a["\u0275\u0275text"](67,"Approved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"option",34),a["\u0275\u0275text"](69,"UnApproved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"option",35),a["\u0275\u0275text"](71,"Inprogress"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](72,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",9),a["\u0275\u0275elementStart"](74,"div",37),a["\u0275\u0275elementStart"](75,"button",38),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](76,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"button",39),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](78,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",40),a["\u0275\u0275elementStart"](80,"div",41),a["\u0275\u0275element"](81,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,_n,4,0,"div",42),a["\u0275\u0275template"](83,En,2,0,"div",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](84,$n,36,1,"div",43),a["\u0275\u0275template"](85,In,4,1,"div",44),a["\u0275\u0275template"](86,On,16,3,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](88,Pn,14,1,"ng-template",null,46,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes(6)),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](25),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[h.m,r.n,r.s,h.l,y.g,Qe.a],pipes:[h.s,h.e],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}(),data:{extraParameter:"hoElementsMenu"}},{path:"upload/salesHo",component:function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Add New asset",this.subheading="Add a Commercial, Residential or Owned Asset.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){this.loggedUserId=localStorage.getItem("laUserId"),("string"==typeof this.loggedUserId&&"null"===this.loggedUserId||"object"==typeof this.loggedUserId&&null===this.loggedUserId)&&this.router.navigateByUrl("/login"),$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:V+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[r.r,r.l,r.m],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}(),data:{extraParameter:"uploadElementsMenu"}},{path:"upload/salesDist",component:function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Sales Distributor (9000)",this.subheading="Upload distributor sales.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:V+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[r.r,r.l,r.m],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}(),data:{extraParameter:"uploadElementsMenu"}},{path:"components/modals",component:le,data:{extraParameter:"componentsMenu"}},{path:"components/tooltips-popovers",component:se,data:{extraParameter:"componentsMenu"}}]},{path:"",component:Q,children:[{path:"login",component:Z,data:{extraParameter:""}},{path:"pages/register-boxed",component:X,data:{extraParameter:""}},{path:"pages/forgot-password-boxed",component:J,data:{extraParameter:""}}]},{path:"**",redirectTo:""}],Dn=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[u.i.forRoot(Rn,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],u.i]}),e}(),Tn=n("F34d"),Nn=function(){function e(){this.title="ArchitectUI - Angular 7 Bootstrap 5 & Material Design Admin Dashboard Template"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&a["\u0275\u0275element"](0,"router-outlet")},directives:[u.j],encapsulation:2}),e}(),jn=n("lDzL"),Qn=n("tmjD"),Ln={suppressScrollX:!0},Bn=function(){function e(e,t){this.ngRedux=e,this.devTool=t,this.ngRedux.configureStore(p,{},[],[t.isEnabled()?t.enhancer():function(e){return e}])}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.NgRedux),a["\u0275\u0275inject"](l.DevToolsExtension))},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Nn]}),e.\u0275inj=a["\u0275\u0275defineInjector"]({providers:[{provide:C.a,useValue:Ln},c],imports:[[i.a,Dn,o.a,l.NgReduxModule,h.c,Tn.a,C.c,y.f,S.b,r.h,r.o,A.b,Qe.b,ve.a,jn.a,Qn.a.forRoot()],Qn.a]}),e}();Object(a.enableProdMode)(),i.c().bootstrapModule(Bn).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);