(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},RnhZ:function(e,t,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="RnhZ"},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("jhN1"),a=n("fXoL"),r=n("njyG"),o=n("3Pt+"),l=n("R1ws"),s=n("TpXg"),d=n("ANjH"),c=n("mrSG"),m=function(){function e(e){this.ngRedux=e}return e.prototype.getConfig=function(){this.ngRedux.dispatch({type:e.CONFIG_GET})},e.prototype.updateConfig=function(t){this.ngRedux.dispatch({type:e.CONFIG_UPDATE,payload:t})},e.CONFIG_GET="CONFIG_GET",e.CONFIG_UPDATE="CONFIG_UPDATE",e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.NgRedux))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),p={headerTheme:"",sidebarTheme:""},u=Object(d.combineReducers)({config:function(e,t){switch(void 0===e&&(e=p),t.type){case m.CONFIG_GET:return Object.assign({},e);case m.CONFIG_UPDATE:return Object.assign({},e,Object(c.a)({},t.payload));default:return e}}}),f=n("tyNb"),v=n("HDdC"),h=n("R0Ic"),g=function(){function e(){this.sidebarHover=!1,this.toggleSidebar=!1,this.toggleSidebarMobile=!1,this.toggleHeaderMobile=!1,this.toggleFixedFooter=!1}return e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),b=n("ofXK"),y=n("wHSu"),x=n("1kSV"),S=function(){function e(e,t){this.router=e,this.globals=t,this.userName="",this.userImg="8.jpg"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");if(e){var t=JSON.parse(e);this.userName=t.name?t.name:"",this.userImg=t.img?t.img:"8.jpg"}},e.prototype.logout=function(){sessionStorage.removeItem("laUser"),sessionStorage.clear(),this.router.navigateByUrl("/login")},e.prototype.changePassword=function(){this.router.navigateByUrl("/change/password")},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](g))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-box"]],decls:17,vars:4,consts:[[1,"d-flex"],[1,"header-btn-lg","pe-0"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["ngbDropdown","","placement","bottom-right",1,"btn-group"],[2,"font-weight","600","margin","17px 7px 0px 0px","font-size","15px","color","#033C73"],["type","button","ngbDropdownToggle","",1,"btn","btn-link","p-0","me-2"],[1,"icon-wrapper","icon-wrapper-alt","rounded-circle"],["width","42","alt","",1,"rounded-circle",3,"src"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"fa","fa-power-off"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"button",7),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275element"](12,"img",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275elementStart"](14,"button",11),a["\u0275\u0275listener"]("click",function(){return t.logout()}),a["\u0275\u0275element"](15,"i",12),a["\u0275\u0275text"](16," Logout"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](7),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](8,2,t.userName)," "),a["\u0275\u0275advance"](5),a["\u0275\u0275propertyInterpolate1"]("src","./assets/images/avatars/",t.userImg,"",a["\u0275\u0275sanitizeUrl"]))},directives:[x.c,x.e,x.d],pipes:[b.u],encapsulation:2}),e}(),_=n("6NWb"),E=function(e){return{"is-active":e}},C=function(){function e(e){this.globals=e,this.faEllipsisV=y.a}return Object.defineProperty(e.prototype,"isActiveAsGetter",{get:function(){return this.isActive},enumerable:!1,configurable:!0}),e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.prototype.toggleHeaderMobile=function(){this.globals.toggleHeaderMobile=!this.globals.toggleHeaderMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-header"]],hostVars:2,hostBindings:function(e,t){2&e&&a["\u0275\u0275classProp"]("isActive",t.isActiveAsGetter)},decls:20,vars:11,consts:[[1,"logo-src"],[1,"app-header__content",2,"padding-left","35%"],[1,"app-header-left"],[2,"font-size","20px","font-weight","600","color","#FF0013","letter-spacing","0.5px","padding-left","10px"],[2,"font-size","14px","font-weight","600","color","#033C73","letter-spacing","0.5px","padding-left","5px"],[1,"app-header-right"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],[1,"btn-icon","btn-icon-only","btn","btn-primary",3,"ngClass","click"],[1,"btn-icon-wrapper"],[3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275element"](2,"div",0),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"span",3),a["\u0275\u0275text"](6,"La Renon Healthcare Pvt. Ltd."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",4),a["\u0275\u0275text"](8,"(Credit Note)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275element"](10,"app-user-box"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",6),a["\u0275\u0275elementStart"](12,"button",7),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementStart"](13,"span",8),a["\u0275\u0275element"](14,"span",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"span"),a["\u0275\u0275elementStart"](17,"button",11),a["\u0275\u0275listener"]("click",function(){return t.toggleHeaderMobile()}),a["\u0275\u0275elementStart"](18,"div",12),a["\u0275\u0275element"](19,"fa-icon",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-header header-shadow "+a["\u0275\u0275pipeBind1"](1,5,t.config$).headerTheme),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](7,E,t.globals.toggleSidebarMobile)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](9,E,t.globals.toggleHeaderMobile)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faEllipsisV))},directives:[S,b.k,_.a],pipes:[b.b],encapsulation:2}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",v.a)],e.prototype,"config$",void 0),e}(),k=n("Kdsb");function w(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",21),a["\u0275\u0275element"](2,"i",22),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Create Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",23),a["\u0275\u0275element"](2,"i",24),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Draft Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",25),a["\u0275\u0275element"](2,"i",26),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Approval"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",27),a["\u0275\u0275element"](2,"i",28),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",29),a["\u0275\u0275element"](1,"i",30),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Master Management"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"i",31),a["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",33),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Users"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",34),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Divisions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",35),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",36),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Distributors"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",32),a["\u0275\u0275elementStart"](1,"div",11),a["\u0275\u0275template"](2,M,4,0,"div",16),a["\u0275\u0275template"](3,P,4,0,"div",16),a["\u0275\u0275template"](4,T,4,0,"div",16),a["\u0275\u0275template"](5,R,4,0,"div",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("5")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("7")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("9")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("12"))}}var j=function(e){return{"is-active":e}},A=function(){function e(e,t){this.globals=e,this.activatedRoute=t,this.loggedInUser=[],this.activeId="dashboardsMenu";var n=sessionStorage.getItem("laUser");this.loggedInUser=JSON.parse(n)}return e.prototype.toggleSidebar=function(){this.globals.toggleSidebar=!this.globals.toggleSidebar},e.prototype.sidebarHover=function(){this.globals.sidebarHover=!this.globals.sidebarHover},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.innerWidth=window.innerWidth,e.innerWidth<1200&&(e.globals.toggleSidebar=!0)}),this.extraParameter=this.activatedRoute.snapshot.firstChild.data.extraParameter},e.prototype.onResize=function(e){this.newInnerWidth=e.target.innerWidth,this.globals.toggleSidebar=this.newInnerWidth<1200},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g),a["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,a["\u0275\u0275resolveWindow"])},decls:26,vars:15,consts:[[3,"mouseover","mouseout"],[1,"app-header__logo"],[1,"logo-src"],[1,"header__pane","ms-auto"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-sidebar-content"],[1,"app-sidebar-scroll"],[3,"autoPropagation"],[1,"v-sidebar-menu","vsm-default"],[1,"vsm-list"],[1,"vsm-item"],["routerLink","/dashboard","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-home"],[1,"vsm-title"],["class","vsm-item",4,"ngIf"],[3,"destroyOnHide","closeOthers","activeIds"],["id","formElementsMenu"],["ngbPanelHeader",""],["ngbPanelContent",""],["routerLink","/stockiest/createClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-news-paper"],["routerLink","/stockiest/draftClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-notebook"],["routerLink","/headoffice/stockiestClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-check"],["routerLink","/stockiest/claimStatus","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-id"],["ngbPanelToggle","",1,"vsm-link"],[1,"vsm-icon","pe-7s-helm"],[1,"vsm-arrow"],[1,"vsm-dropdown"],["routerLink","users/listUser","routerLinkActive","active-item",1,"vsm-link"],["routerLink","division/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","stockiest/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","distributor/list","routerLinkActive","active-item",1,"vsm-link"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275listener"]("mouseover",function(){return t.sidebarHover()})("mouseout",function(){return t.sidebarHover()}),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275element"](3,"div",2),a["\u0275\u0275elementStart"](4,"div",3),a["\u0275\u0275elementStart"](5,"button",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebar()}),a["\u0275\u0275elementStart"](6,"span",5),a["\u0275\u0275element"](7,"span",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",7),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"perfect-scrollbar",9),a["\u0275\u0275elementStart"](11,"div",10),a["\u0275\u0275elementStart"](12,"div",11),a["\u0275\u0275elementStart"](13,"div",12),a["\u0275\u0275elementStart"](14,"a",13),a["\u0275\u0275element"](15,"i",14),a["\u0275\u0275elementStart"](16,"span",15),a["\u0275\u0275text"](17,"Dashboard"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](18,w,5,0,"div",16),a["\u0275\u0275template"](19,I,5,0,"div",16),a["\u0275\u0275template"](20,D,5,0,"div",16),a["\u0275\u0275template"](21,F,5,0,"div",16),a["\u0275\u0275elementStart"](22,"ngb-accordion",17),a["\u0275\u0275elementStart"](23,"ngb-panel",18),a["\u0275\u0275template"](24,O,5,0,"ng-template",19),a["\u0275\u0275template"](25,N,6,4,"ng-template",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-sidebar sidebar-shadow "+a["\u0275\u0275pipeBind1"](1,11,t.config$).sidebarTheme),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](13,j,t.globals.toggleSidebar)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("autoPropagation",!0),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("1")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("1")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("4")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("2")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("destroyOnHide",!1)("closeOthers",!0)("activeIds",t.extraParameter))},directives:[b.k,k.b,f.h,f.g,b.m,x.b,x.h,x.j,x.i,x.k],pipes:[b.b],encapsulation:2}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",v.a)],e.prototype,"config$",void 0),e}(),B=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"app-footer"],[1,"app-footer__inner"],[1,"app-footer-left"],[1,"ps-2"],[1,"app-footer-right"],["href","https://larenon.com","target","_blank",1,"btn","btn-sm","btn-primary","me-2"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"span",3),a["\u0275\u0275text"](4,"\xa9 2024 - All Rights Reserved by La Renon Healthcare Pvt. Ltd."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"a",5),a["\u0275\u0275text"](7,"La Renon Healthcare"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},encapsulation:2}),e}(),Q=n("lPP5"),U=function(e,t,n,i){return{"closed-sidebar-md":e,"closed-sidebar-open":t,"header-menu-open":n,"fixed-footer":i}},L=function(){function e(e,t){this.globals=e,this.configActions=t}return e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g),a["\u0275\u0275directiveInject"](m))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-base-layout"]],decls:11,vars:10,consts:[[3,"ngClass"],[1,"app-main__outer"],[1,"app-main__inner"],["o","outlet"],[1,"sidebar-menu-overlay",3,"click"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"app-header"),a["\u0275\u0275element"](2,"app-sidebar"),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275element"](6,"router-outlet",null,3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"app-footer"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"ngx-loading-bar",5)),2&e){var n=a["\u0275\u0275reference"](7);a["\u0275\u0275classMap"]("app-container app-theme-white closed-sidebar"),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction4"](5,U,t.globals.toggleSidebarMobile,t.globals.sidebarHover||t.globals.toggleSidebarMobile,t.globals.toggleHeaderMobile,t.globals.toggleFixedFooter)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[b.k,C,A,f.j,B,Q.a],encapsulation:2,data:{animation:[Object(h.l)("architectUIAnimation",[Object(h.k)("* <=> *",[Object(h.g)(":enter, :leave",[Object(h.j)({opacity:0,display:"flex",flex:"1",transform:"translateY(-20px)",flexDirection:"column"})]),Object(h.g)(":enter",[Object(h.e)("200ms ease",Object(h.j)({opacity:1,transform:"translateY(0)"}))]),Object(h.g)(":leave",[Object(h.e)("200ms ease",Object(h.j)({opacity:0,transform:"translateY(-20px)"}))],{optional:!0})])])]}}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",v.a)],e.prototype,"config$",void 0),e}(),q=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pages-layout"]],decls:4,vars:2,consts:[["o","outlet"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275element"](1,"router-outlet",null,0),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"ngx-loading-bar",1)),2&e){var n=a["\u0275\u0275reference"](2);a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[f.j,Q.a],encapsulation:2,data:{animation:[Object(h.l)("architectUIAnimation",[Object(h.k)("* <=> *",[Object(h.g)(":enter, :leave",[Object(h.j)({opacity:0,display:"flex",flex:"1",flexDirection:"column"})]),Object(h.g)(":enter",[Object(h.e)("200ms ease",Object(h.j)({opacity:1}))]),Object(h.g)(":leave",[Object(h.e)("200ms ease",Object(h.j)({opacity:0}))],{optional:!0})])])]}}),e}(),Y=n("PdH4"),V=n.n(Y),z=n("tk/3"),H=n("LRne"),J=n("JIr8"),G="http://65.1.70.106:7871",Z={headers:new z.c({"Content-Type":"application/json"})},W=function(){function e(e){this.http=e,this.apiURL=G}return e.prototype.fetch=function(e){return this.http.get(""+(this.apiURL+e),Z).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.get=function(e,t){return this.http.get(this.apiURL+e+"/"+t,Z).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.post=function(e,t){return this.http.post(""+(this.apiURL+e),t,Z).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.update=function(e,t){return this.http.put(""+(this.apiURL+e),t,Z).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.upload=function(e,t){return this.http.post(""+(this.apiURL+e),t).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.delete=function(e,t){return this.http.delete(""+(this.apiURL+e+t),Z).pipe(Object(J.a)(this.handleError("getData",[])))},e.prototype.observErrorHandler=function(e){return e},e.prototype.handleError=function(e,t){return void 0===e&&(e="operation"),function(e){return Object(H.a)(t)}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](z.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),K=function(){function e(e,t){this.router=e,this.apiService=t,this.temp=[],this.assets=[],this.loggedUserId="",this.notifications=[],this.heading="Dashboard",this.subheading="This is an example dashboard created using build-in elements and components.",this.icon="pe-7s-plane icon-gradient bg-tempting-azure",this.slideConfig6={className:"center",infinite:!0,slidesToShow:1,speed:500,adaptiveHeight:!0,dots:!0},this.datasets=[{label:"My First dataset",data:[65,59,80,81,46,55,38,59,80],datalabels:{display:!1}}],this.datasets2=[{label:"My First dataset",data:[46,55,59,80,81,38,65,59,80],datalabels:{display:!1}}],this.datasets3=[{label:"My First dataset",data:[65,59,80,81,55,38,59,80,46],datalabels:{display:!1}}],this.labels=["January","February","March","April","May","June","July","August"],this.options={layout:{padding:{left:0,right:8,top:0,bottom:0}},scales:{yAxes:[{ticks:{display:!1,beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{ticks:{display:!1},gridLines:{display:!1}}]},legend:{display:!1},responsive:!0,maintainAspectRatio:!1}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");console.log("sessionStorageDashboard---",e),e||this.router.navigateByUrl("/login")},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-analytics"]],decls:0,vars:0,template:function(e,t){},styles:[".blink[_ngcontent-%COMP%] {\n      animation: blinker 1.5s linear infinite;\n      color: red;\n      font-family: sans-serif;\n  }\n  @keyframes blinker {\n      50% {\n          opacity: 0;\n      }\n  }"]}),e}(),X=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgot-password-boxed"]],decls:32,vars:0,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-6"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-header"],[1,"h5","modal-title"],[1,"mt-1","mb-0","opacity-8"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["id","__BVID__132",1,"mb-3"],["tabindex","-1","role","group"],["for","exampleEmail",1,"form-label"],["id","exampleEmail","name","email","type","email","placeholder","Email here...",1,"form-control"],[1,"divider"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","clearfix"],[1,"float-end"],["type","button",1,"btn","btn-primary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275text"](8," Forgot your Password? "),a["\u0275\u0275elementStart"](9,"h6",8),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275text"](11,"Use the form below to recover it."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",9),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"form"),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"fieldset",12),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](22,"div",16),a["\u0275\u0275elementStart"](23,"h6",17),a["\u0275\u0275elementStart"](24,"a",18),a["\u0275\u0275text"](25,"Sign in existing account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",19),a["\u0275\u0275elementStart"](27,"div",20),a["\u0275\u0275elementStart"](28,"button",21),a["\u0275\u0275text"](29,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",22),a["\u0275\u0275text"](31," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[o.w,o.n,o.o,f.h],encapsulation:2}),e}();function ee(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",25),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.slug),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function te(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",26),a["\u0275\u0275text"](1,"Login to Dashboard"),a["\u0275\u0275elementEnd"]())}function ne(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",27),a["\u0275\u0275elementStart"](1,"span",28),a["\u0275\u0275element"](2,"img",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",30),a["\u0275\u0275text"](4,"Login to Dashboard"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var ie=function(){function e(e,t,n){this.router=e,this.fb=t,this.apiService=n,this.loggedUserId="",this.submitted=!1,this.loginForm=o.f,this.selectedType=3,this.portals=[]}return e.prototype.ngOnInit=function(){sessionStorage.getItem("laUser")&&this.router.navigateByUrl("/"),this.getPortals(),this.loginForm=this.fb.group({email:["",[o.v.required]],password:["",[o.v.required]]})},e.prototype.onSubmit=function(){var e=this;$("#errmsg").hide(),$(".invalid-feedback").hide(),$(".form-control").removeClass("is-invalid");var t=this.loginForm.value.email,n=this.loginForm.value.password;if(!t||!n)return t||($("#err-email").html("Email is required."),$("#email").addClass("is-invalid"),$("#err-email").show()),void(n||($("#err-pass").html("Password is required."),$("#password2").addClass("is-invalid"),$("#err-pass").show()));if(!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t))return $("#err-email").html("Enter a valid email address."),$("#email").addClass("is-invalid"),void $("#err-email").show();this.submitted=!0;var i={email:t,password:n,portal:"creditNoteApp",type:this.selectedType};sessionStorage.removeItem("laUser"),sessionStorage.clear(),this.apiService.post("/api/auth/signin",i).subscribe(function(t){200===t.status?(sessionStorage.setItem("laUser",JSON.stringify({id:t.data.id,img:t.data.image,name:t.data.name,type:t.data.type,workType:t.data.workType,permissions:t.data.permissions})),e.router.navigateByUrl("/dashboard")):(400===t.status?($("#errmsg").show(),$("#errmsg").html(t.message)):($("#errmsg").show(),$("#errmsg").html("Something went wrong please try again.")),e.submitted=!1)},function(t){e.errorHandling(t)})},e.prototype.radioChange=function(e){$("#portal").hide(),"1"===e.target.value&&$("#portal").show(),"2"===e.target.value&&$("#portal").val(""),this.selectedType=parseInt(e.target.value)},e.prototype.changePortal=function(e){var t=e.target.value,n=this.portals.filter(function(e){return-1!==e.slug.indexOf(t)||!t});this.selectedPortal=n[0]},e.prototype.getPortals=function(){var e=this;this.apiService.fetch("/api/portal/all").subscribe(function(t){200===t.status&&t.data.length&&(e.portals=t.data)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login-boxed"]],decls:34,vars:4,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100","mx-auto"],[1,"modal-content"],[1,"modal-body"],[1,"h5","modal-title","text-center"],[1,"mt-2",2,"margin-bottom","20px"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","15px","display","none"],[1,"employee",3,"formGroup","ngSubmit"],[1,"mb-3"],["id","email","type","email","formControlName","email","placeholder","Email address","required","",1,"form-control","shadow-sm"],["id","err-email",1,"invalid-feedback"],["id","password","type","password","formControlName","password","placeholder","Password","required","",1,"form-control","shadow-sm","text-primary"],["id","err-pass",1,"invalid-feedback"],["id","portal",1,"form-select","form-control",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err-portal",1,"invalid-feedback"],[1,"modal-footer","clearfix",2,"background","#ffffff"],[1,"float-end"],["type","submit","class","mb-2 me-2 btn-transition btn btn-primary",4,"ngIf"],["type","button","class","mb-2 me-2 btn-transition btn","style","color: #033C73; border-color: #033C73; cursor:inherit;",4,"ngIf"],[1,"text-center","text-white","opacity-8","mt-3"],[3,"value"],["type","submit",1,"mb-2","me-2","btn-transition","btn","btn-primary"],["type","button",1,"mb-2","me-2","btn-transition","btn",2,"color","#033C73","border-color","#033C73","cursor","inherit"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"span"),a["\u0275\u0275text"](10,"Login to Your Account."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](11,"div",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"form",10),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](13,"div",11),a["\u0275\u0275elementStart"](14,"div"),a["\u0275\u0275element"](15,"input",12),a["\u0275\u0275element"](16,"div",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",11),a["\u0275\u0275elementStart"](18,"div"),a["\u0275\u0275element"](19,"input",14),a["\u0275\u0275element"](20,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",11),a["\u0275\u0275elementStart"](22,"div"),a["\u0275\u0275elementStart"](23,"select",16),a["\u0275\u0275listener"]("change",function(e){return t.changePortal(e)}),a["\u0275\u0275elementStart"](24,"option",17),a["\u0275\u0275text"](25,"Select Portal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](26,ee,3,4,"option",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](27,"div",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"div",20),a["\u0275\u0275elementStart"](29,"div",21),a["\u0275\u0275template"](30,te,2,0,"button",22),a["\u0275\u0275template"](31,ne,5,0,"button",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",24),a["\u0275\u0275text"](33," Copyright \xa9 La Renon Healthcare Pvt. Ltd. 2024 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("formGroup",t.loginForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.portals),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",!t.submitted),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.submitted))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.t,o.q,o.x,b.l,b.m],pipes:[b.u],encapsulation:2}),e}(),ae=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register-boxed"]],decls:54,vars:0,consts:[[1,"h-100","bg-premium-dark"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-body"],[1,"modal-title"],[1,"mt-2"],[1,"text-success"],[1,"divider"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"mb-3"],["id","exampleInput1","type","email","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_",1,"form-control"],["tabindex","-1","id","exampleInputGroup1__BV_description_",1,"form-text","text-muted"],["id","exampleInputGroup12","role","group",1,"mb-3"],["id","exampleInput12","type","text","placeholder","Enter username...","required","required","aria-required","true",1,"form-control"],[1,"row"],[1,"col-md-6"],["id","exampleInputGroup2","role","group",1,"mb-3"],["id","exampleInput2","type","password","placeholder","Enter password...","required","required","aria-required","true",1,"form-control"],["id","exampleInput2","type","password","placeholder","Repeat password...","required","required","aria-required","true",1,"form-control"],[1,"custom-control","custom-checkbox","form-check"],["id","exampleCheck","type","checkbox","name","check","autocomplete","off","value","true",1,"form-check-input"],["for","exampleCheck",1,"form-label","form-check-label"],[3,"routerLink"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","d-block","text-center"],["type","button",1,"btn","btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn-secondary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"h5",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"div"),a["\u0275\u0275text"](10,"Welcome,"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"span"),a["\u0275\u0275text"](12,"It only takes a "),a["\u0275\u0275elementStart"](13,"span",9),a["\u0275\u0275text"](14,"few seconds"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](15," to create your account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](16,"div",10),a["\u0275\u0275elementStart"](17,"div",11),a["\u0275\u0275elementStart"](18,"div"),a["\u0275\u0275element"](19,"input",12),a["\u0275\u0275elementStart"](20,"small",13),a["\u0275\u0275text"](21," We'll never share your email with anyone else. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"div",14),a["\u0275\u0275elementStart"](23,"div"),a["\u0275\u0275element"](24,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"div",16),a["\u0275\u0275elementStart"](26,"div",17),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275elementStart"](28,"div"),a["\u0275\u0275element"](29,"input",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",17),a["\u0275\u0275elementStart"](31,"div",18),a["\u0275\u0275elementStart"](32,"div"),a["\u0275\u0275element"](33,"input",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",21),a["\u0275\u0275element"](35,"input",22),a["\u0275\u0275elementStart"](36,"label",23),a["\u0275\u0275text"](37," Accept our "),a["\u0275\u0275elementStart"](38,"a",24),a["\u0275\u0275text"](39,"Terms and Conditions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](40,". "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"div",10),a["\u0275\u0275elementStart"](42,"h6",25),a["\u0275\u0275text"](43," Already have an account? "),a["\u0275\u0275elementStart"](44,"a",26),a["\u0275\u0275text"](45,"Sign in"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](46," | "),a["\u0275\u0275elementStart"](47,"a",26),a["\u0275\u0275text"](48,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"div",27),a["\u0275\u0275elementStart"](50,"button",28),a["\u0275\u0275text"](51,"Create Account "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",29),a["\u0275\u0275text"](53," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[f.h],encapsulation:2}),e}(),re=function(){function e(){this.faStar=y.c,this.faPlus=y.b}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-page-title"]],inputs:{heading:"heading",subheading:"subheading",icon:"icon"},decls:15,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success"],[1,"me-2",3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus))},directives:[_.a],encapsulation:2}),e}();function oe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",14),a["\u0275\u0275elementStart"](1,"pre"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.closeResult)}}function le(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Basic demo"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275text"](4,"> "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",18),a["\u0275\u0275elementStart"](6,"perfect-scrollbar",22),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",19),a["\u0275\u0275elementStart"](14,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"button",21),a["\u0275\u0275text"](17,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("config",n.config)}}function de(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum ateros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"p"),a["\u0275\u0275text"](14," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"p"),a["\u0275\u0275text"](16," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"p"),a["\u0275\u0275text"](18," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",19),a["\u0275\u0275elementStart"](20,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](21,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"button",21),a["\u0275\u0275text"](23,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function ce(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function me(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var pe=function(){function e(e){this.modalService=e,this.heading="Modals",this.subheading="Wide selection of modal dialogs styles and animations available.",this.icon="pe-7s-phone icon-gradient bg-premium-dark"}return e.prototype.open=function(e){var t=this;this.modalService.open(e).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.openCentred=function(e){this.modalService.open(e,{centered:!0})},e.prototype.openSmall=function(e){this.modalService.open(e,{size:"sm"})},e.prototype.openLarge=function(e){this.modalService.open(e,{size:"lg"})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](x.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modals"]],decls:46,vars:4,consts:[[3,"heading","subheading","icon"],[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],["class","kt-section__sub",4,"ngIf"],[1,"divider"],["content",""],[1,"btn","btn-primary",3,"click"],["content5",""],["content6",""],[1,"btn","btn-success",3,"click"],["content7",""],[1,"kt-section__sub"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary"],[2,"height","250px",3,"config"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275text"](5," Basic "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275template"](7,oe,3,1,"span",6),a["\u0275\u0275element"](8,"div",7),a["\u0275\u0275template"](9,le,12,0,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](11,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](12,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",3),a["\u0275\u0275elementStart"](14,"div",4),a["\u0275\u0275text"](15," Scrollable Fixed Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",5),a["\u0275\u0275template"](17,se,18,1,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](19,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](20,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",3),a["\u0275\u0275elementStart"](22,"div",4),a["\u0275\u0275text"](23," Long Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",5),a["\u0275\u0275template"](25,de,24,0,"ng-template",null,10,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](27,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](26);return t.open(e)}),a["\u0275\u0275text"](28,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",2),a["\u0275\u0275elementStart"](30,"div",3),a["\u0275\u0275elementStart"](31,"div",4),a["\u0275\u0275text"](32," Large Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",5),a["\u0275\u0275template"](34,ce,12,0,"ng-template",null,11,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](36,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](35);return t.openLarge(e)}),a["\u0275\u0275text"](37,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",3),a["\u0275\u0275elementStart"](39,"div",4),a["\u0275\u0275text"](40," Small Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",5),a["\u0275\u0275template"](42,me,12,0,"ng-template",null,13,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](44,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](43);return t.openSmall(e)}),a["\u0275\u0275text"](45,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.closeResult))},directives:[re,b.m,k.b],encapsulation:2}),e}(),ue=function(){function e(){this.heading="Tooltips & Popovers",this.subheading="These Vue components are used to add interaction or extra information for your app's content.",this.icon="pe-7s-note2 icon-gradient bg-happy-fisher"}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tooltips-popovers"]],decls:14,vars:3,consts:[[3,"heading","subheading","icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"card-title"],[1,"text-center"],["id","exButton1","type","button","placement","top","ngbTooltip","Tooltip on top",1,"btn","me-2","btn-primary"],["id","exButton2","type","button","placement","right","ngbTooltip","Tooltip on right",1,"btn","me-2","btn-primary"],["id","exButton3","type","button","placement","bottom","ngbTooltip","Tooltip on bottom",1,"btn","me-2","btn-primary"],["id","exButton4","type","button","placement","left","ngbTooltip","Tooltip on left",1,"btn","btn-primary"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"h5",3),a["\u0275\u0275text"](4,"Tooltips"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"button",5),a["\u0275\u0275text"](7," Tooltip on top "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"button",6),a["\u0275\u0275text"](9," Tooltip on right "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",7),a["\u0275\u0275text"](11," Tooltip on bottom "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275text"](13," Tooltip on left "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon)},directives:[re,x.l],encapsulation:2}),e}();function fe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Current Password is required. "),a["\u0275\u0275elementEnd"]())}function ve(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," New Password is required. "),a["\u0275\u0275elementEnd"]())}function he(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Confirm Password is required. "),a["\u0275\u0275elementEnd"]())}function ge(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",23),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}function be(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",24),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}var ye=function(){function e(e,t,n,i){var a=this;this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.loggedUser=[],this.faStar=y.c,this.faPlus=y.b,this.heading="Change Password",this.subheading="Update old password.",this.icon="pe-7s-user icon-gradient bg-premium-dark",this.type="",this.ownerPercent="",this.coOwnerNumber="",this.submitted=!1,this.btnLoader=!1,this.selectedType="",this.activatedRoute.queryParams.subscribe(function(e){a.type=e.type})}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");console.log("sessionStorageCP---",e),e?this.loggedUser=JSON.parse(e):this.router.navigateByUrl("/login"),this.createForm(),this.type&&(this.selectedType=this.type,this.myForm.controls.type.setValue(this.type,{onlySelf:!0}),this.myForm.value.type=this.type)},Object.defineProperty(e.prototype,"f",{get:function(){return this.myForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.myForm=this.fb.group({old:["",[o.v.required]],new:["",[o.v.required]],confirm:["",[o.v.required]]})},e.prototype.onSubmit=function(){if(this.myForm.valid){if(this.myForm.value.old===this.myForm.value.new)return $("#errmsg").show(),void $("#errmsg").html("Current password and new password should not be same.");if(this.myForm.value.new!=this.myForm.value.confirm)return $("#errmsg").show(),void $("#errmsg").html("New password and confirm password must be same.");this.submitted=!0,this.btnLoader=!0;var e={userId:this.loggedUser.id,password:this.myForm.value.old,newPassword:this.myForm.value.new};console.log(this.loggedUser),console.log(e),this.apiService.post("/api/auth/password",e).subscribe(function(e){console.log("response---",e)})}else this.btnLoader=!1},e.prototype.isCoOwnerHandler=function(e){$(".formError").hide(),1==e.target.value.toLowerCase()?$(".showcoowner").show():$(".showcoowner").hide(),console.log(e.target.value)},e.prototype.ownerPercentHandler=function(e){$(".formError").hide()},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-password"]],decls:35,vars:11,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","5px","text-align","center","display","none"],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4","offset-md-4"],[1,"position-relative","mb-3","required"],["for","old",1,"form-label"],["type","text","id","old","formControlName","old","placeholder","Current Password",1,"form-control"],["class","text-danger",4,"ngIf"],["for","new",1,"form-label"],["type","text","id","new","formControlName","new","placeholder","New Password",1,"form-control"],["for","confirm",1,"form-label"],["type","text","id","confirm","formControlName","confirm","placeholder","Confirm Password",1,"form-control"],[1,"col-md-4","offset-md-4",2,"text-align","center"],["type","submit","class","mt-1 btn btn-success","style","padding: 6px 30px;",4,"ngIf"],["type","submit","class","mt-1 btn btn-success disabled","style","padding: 6px 30px;",4,"ngIf"],[1,"text-danger"],["type","submit",1,"mt-1","btn","btn-success",2,"padding","6px 30px"],["type","submit",1,"mt-1","btn","btn-success","disabled",2,"padding","6px 30px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275element"](11,"div",7),a["\u0275\u0275elementStart"](12,"form",8),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"label",12),a["\u0275\u0275text"](17,"Current Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"input",13),a["\u0275\u0275template"](19,fe,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",10),a["\u0275\u0275elementStart"](21,"div",11),a["\u0275\u0275elementStart"](22,"label",15),a["\u0275\u0275text"](23,"New Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"input",16),a["\u0275\u0275template"](25,ve,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",10),a["\u0275\u0275elementStart"](27,"div",11),a["\u0275\u0275elementStart"](28,"label",17),a["\u0275\u0275text"](29,"Confirm Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"input",18),a["\u0275\u0275template"](31,he,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",19),a["\u0275\u0275template"](33,ge,2,0,"button",20),a["\u0275\u0275template"](34,be,2,0,"button",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("formGroup",t.myForm),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",(t.f.old.touched||t.submitted)&&(null==t.f.old.errors?null:t.f.old.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.new.touched||t.submitted)&&(null==t.f.new.errors?null:t.f.new.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.confirm.touched||t.submitted)&&(null==t.f.confirm.errors?null:t.f.confirm.errors.required)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,b.m],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}']}),e}(),xe=n("wd/R"),Se=n("ZOsW");function _e(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",83),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Ee(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",83),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ce(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",84),a["\u0275\u0275text"](1," -- Self -- "),a["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",83),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function we(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",83),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ie(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",83),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function $e(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",86),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function De(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,$e,2,1,"span",85),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function Fe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",86),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function Oe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Fe,2,1,"span",85),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function Me(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",87),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275element"](2,"input",89),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",88),a["\u0275\u0275elementStart"](4,"input",90),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchDivision(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"img",91),a["\u0275\u0275elementStart"](6,"div",92),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().divisionSelection(e,i)}),a["\u0275\u0275element"](7,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"input",93),a["\u0275\u0275element"](9,"input",94),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",88),a["\u0275\u0275elementStart"](11,"input",95),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchProduct(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"img",96),a["\u0275\u0275elementStart"](13,"div",92),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().productSelection(e,i)}),a["\u0275\u0275element"](14,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](15,"input",97),a["\u0275\u0275element"](16,"input",98),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",88),a["\u0275\u0275elementStart"](18,"input",99),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](19,"img",91),a["\u0275\u0275elementStart"](20,"div",92),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](21,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",88),a["\u0275\u0275element"](23,"input",100),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",88),a["\u0275\u0275element"](25,"input",101),a["\u0275\u0275element"](26,"input",102),a["\u0275\u0275element"](27,"input",102),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",88),a["\u0275\u0275elementStart"](29,"input",103),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",88),a["\u0275\u0275elementStart"](31,"input",104),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"td",88),a["\u0275\u0275elementStart"](33,"input",105),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",88),a["\u0275\u0275element"](35,"input",106),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",88),a["\u0275\u0275element"](37,"input",107),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",88),a["\u0275\u0275element"](39,"input",108),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td",88),a["\u0275\u0275elementStart"](41,"input",68,69),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"button",70),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](42).click()}),a["\u0275\u0275text"](44,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"td",67),a["\u0275\u0275template"](46,Oe,2,1,"div",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"td",109),a["\u0275\u0275elementStart"](48,"span",73),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)})("keyup.enter",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)}),a["\u0275\u0275element"](49,"i",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"span",110),a["\u0275\u0275elementStart"](51,"i",111),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeClaim(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"input",112),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_id_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","plant_id_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+13),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_id_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_id_temp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+14),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+19),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate"]("value",i)}}function Pe(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",113),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()}),a["\u0275\u0275text"](1," Save as Draft "),a["\u0275\u0275elementEnd"]()}}function Te(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",114),a["\u0275\u0275elementStart"](1,"span",115),a["\u0275\u0275element"](2,"img",116),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",117),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var Re=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.config=a,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Claim",this.subheading="Create a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.batches=[],this.products=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.loggedUserId="",this.uniqueProducts=[],this.alignedStockiest=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.totalAmount=0}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.delay(1e3).then(function(t){var n=xe().format("MM");e.currentMonth=parseInt(n);var i=xe().format("YYYY");e.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)e.years.push({id:a,name:a});parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#type").val("scheme"),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear)}),this.createForm(),this.getDistributors(),this.getProduct(),this.getBatch(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_divisionId:"",def_plantId:"",def_product:"",def_productId:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getDivisions()})}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest()}))})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest()}))})},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.searchDivision=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#division_id_"+a).val(""),$("#plant_id_"+a).val(""),$("#product_"+a).val(""),$("#product_id_"+a).val(""),$("#product_id_temp_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#division_loader_"+a).show(),n=this.matchDivision(r,t),this.delay(10).then(function(e){i.divisionSuggestions(n,r,t)})):$("#division_suggestion_"+a).hide()},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n,i=-1===t?"def":t,a=document.querySelector("#division_suggestion_"+i+" ul");$("#division_"+i).val(e.target.innerText),(n=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",n),$("#division_id_"+i).val(""),$("#plant_id_"+i).val("")):($("#division_id_"+i).val(n[0].division),$("#plant_id_"+i).val(n[0].plant)),a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide()},e.prototype.searchProduct=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#product_id_"+a).val(""),$("#product_id_temp_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#product_loader_"+a).show(),n=this.matchProduct(r,t),this.delay(10).then(function(e){i.productSuggestions(n,r,t)})):$("#product_suggestion_"+a).hide()},e.prototype.matchProduct=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=($("#plant_id_"+n).val(),$("#division_id_"+n).val());return this.uniqueProducts.filter(function(e){return e.materialName.toLowerCase().indexOf(i)>-1&&e.division===Number(a)})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=[],i=-1===t?"def":t;n=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var a="";n.length>1?n.forEach(function(e,t){a+=t+1==n.length?e.material:e.material+","}):a=n[0].material;var r=document.querySelector("#product_suggestion_"+i+" ul");r.innerHTML="",r.classList.remove("has-suggestions"),$("#product_"+i).val(e.target.innerText),$("#product_id_temp_"+i).val(a),$("#product_suggestion_"+i).hide()},e.prototype.searchBatch=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#batch_loader_"+a).show(),n=this.matchBatch(r,t),this.delay(10).then(function(e){i.batchSuggestions(n,r,t)})):$("#batch_suggestion_"+a).hide()},e.prototype.matchBatch=function(e,t){var n=this,i=-1===t?"def":t,a=e.toLowerCase(),r=$("#division_id_"+i).val(),o=$("#product_id_temp_"+i).val(),l=($("#plant_id_"+i).val(),o.split(",")),s=[];return l.forEach(function(e){var t;(t=n.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(r)&&t.batch.toLowerCase().indexOf(a)>-1})).length&&s.push(t)}),s},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){e.forEach(function(e){var n=e.batch.match(new RegExp("^"+t,"i"));n&&(a.innerHTML+="<li>"+n.input+"</li>")})}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].material:"";$("#product_id_"+n).val(d),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if(a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}var m=$(".count").last().val();null==m&&(m=-1);for(var p=0,u=-1;u<=m;u++)s=$("#amount_"+(-1===u?"def":u)).val(),p+=parseFloat(s);this.totalAmount=p.toFixed(2)},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val(),i=this.userPlantStockists[n];console.log("stockist---",i),"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type&&t.push(Number(i)),this.getDivisions(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,console.log("stockiests---",e.stockiests),console.log("distributor---",n),"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n.toString())||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.delay(5).then(function(e){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getProduct=function(){var e=this;this.uniqueProducts=[],this.apiService.fetch("/api/product/all").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){e.products=t.data;var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.materialName)||(a.set(l.materialName,!0),e.uniqueProducts.push({division:l.division,material:l.material,materialName:l.materialName}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),$("#stockiest option:selected").val()||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid");var i=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&i>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var a=$("#distributor option:selected").val(),r=$("#stockiest option:selected").val(),o=$("#type option:selected").val(),l=$("#month option:selected").val(),s=$("#year option:selected").val(),d=function(e){var n,i=/^\d*\.?\d*$/,d=-1===e?"def":e;n=a+".::."+r+".::."+o+".::."+l+".::."+s+".::."+c.sessionData.id+".::."+c.sessionData.type;var m=$("#invoice_"+d).val(),p=$("#batch_"+d).val(),u=$("#division_"+d).val(),f=$("#division_id_"+d).val(),v=$("#product_"+d).val(),h=$("#product_id_"+d).val(),g=$("#mrp_"+d).val(),b=$("#pts_"+d).val(),y=$("#ptr_"+d).val(),x=$("#ptd_"+d).val(),S=$("#billingRate_"+d).val(),_=($("#margin_"+d).val(),$("#freeQuantity_"+d).val()),E=$("#saleQuantity_"+d).val(),C=$("#difference_"+d).val(),k=$("#totalDifference_"+d).val(),w=$("#amount_"+d).val();if(m||(t=!0,$("#invoice_"+d).addClass("grf-invalid")),u||(t=!0,$("#division_"+d).addClass("grf-invalid")),v||(t=!0,$("#product_"+d).addClass("grf-invalid")),p||(t=!0,$("#batch_"+d).addClass("grf-invalid")),i.test(S)||(t=!0,$("#billingRate_"+d).addClass("grf-invalid")),i.test(_)||(t=!0,$("#freeQuantity_"+d).addClass("grf-invalid")),i.test(E)||(t=!0,$("#saleQuantity_"+d).addClass("grf-invalid")),S||_||E||(t=!0,$("#billingRate_"+d).addClass("grf-invalid"),$("#freeQuantity_"+d).addClass("grf-invalid"),$("#saleQuantity_"+d).addClass("grf-invalid")),S||_||!E||(t=!0,$("#billingRate_"+d).addClass("grf-invalid")),!S||_||E||(t=!0,$("#saleQuantity_"+d).addClass("grf-invalid")),w<=0&&(t=!0,$("#amount_"+d).addClass("grf-invalid")),t)return c.btnLoader=!1,c.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var I="";c.fileNames[-1]&&c.fileNames[-1].length&&c.fileNames[-1].forEach(function(e,t){I=I+e.filename+".::."}),c.claimForm.value.def_image=I,c.claimForm.value.def_invoice=m,c.claimForm.value.def_batch=p,c.claimForm.value.def_division=u,c.claimForm.value.def_divisionId=f,c.claimForm.value.def_product=v,c.claimForm.value.def_productId=h,c.claimForm.value.def_mrp=g,c.claimForm.value.def_pts=b,c.claimForm.value.def_ptr=y,c.claimForm.value.def_ptd=x,c.claimForm.value.def_billingRate=S,c.claimForm.value.def_freeQuantity=_,c.claimForm.value.def_saleQuantity=E,c.claimForm.value.def_difference=C,c.claimForm.value.def_totalDifference=k,c.claimForm.value.def_amount=w,c.claimForm.value.header=n}else{var D="";c.fileNames[e]&&c.fileNames[e].length&&c.fileNames[e].forEach(function(e,t){D=D+e.filename+".::."}),c.claimForm.value.claims[e].image=D,c.claimForm.value.claims[e].invoice=m,c.claimForm.value.claims[e].batch=p,c.claimForm.value.claims[e].division=u,c.claimForm.value.claims[e].divisionId=f,c.claimForm.value.claims[e].product=v,c.claimForm.value.claims[e].productId=h,c.claimForm.value.claims[e].mrp=g,c.claimForm.value.claims[e].pts=b,c.claimForm.value.claims[e].ptr=y,c.claimForm.value.claims[e].ptd=x,c.claimForm.value.claims[e].billingRate=S,c.claimForm.value.claims[e].freeQuantity=_,c.claimForm.value.claims[e].saleQuantity=E,c.claimForm.value.claims[e].difference=C,c.claimForm.value.claims[e].totalDifference=k,c.claimForm.value.claims[e].amount=w,c.claimForm.value.claims[e].header=n}},c=this,m=-1;m<=n;m++){var p=d(m);if("object"==typeof p)return p.value}this.apiService.post("/api/claim/create",this.claimForm.value).subscribe(function(t){200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},3e3))})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W),a["\u0275\u0275directiveInject"](Se.b))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-claim"]],decls:170,vars:28,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","1",4,"ngIf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],[2,"position","relative"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_division","id","division_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","division_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","division_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_divisionId","id","division_id_def",1,"form-control"],["type","hidden","formControlName","def_plantId","id","plant_id_def",1,"form-control"],["type","text","formControlName","def_product","id","product_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","product_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","product_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_productId","id","product_id_def",1,"form-control"],["type","hidden","id","product_id_temp_def",1,"form-control"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc","grf-def"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["type","button",1,"btn-transition","btn","btn-outline-focus",3,"tabIndex","click"],[4,"ngIf"],[1,"tdpd1",2,"text-align","center"],["title","Add to this invoice",3,"tabIndex","click","keyup.enter"],[1,"vsm-icon","pe-7s-copy-file"],["formArrayName","claims",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],[2,"height","108px"],[1,"col-md-6",2,"font-weight","600"],[1,"col-md-6","tar"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],["type","button","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",3,"click",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[3,"value"],["value","1"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],[3,"formGroupName"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","division",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","hidden","formControlName","divisionId",1,"form-control",3,"id"],["type","hidden","formControlName","plantId",1,"form-control",3,"id"],["type","text","formControlName","product",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","hidden","formControlName","productId",1,"form-control",3,"id"],["type","hidden",1,"form-control",3,"id"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Delete this row",2,"color","red"],[1,"vsm-icon","pe-7s-trash",3,"click"],["type","hidden",1,"count",3,"value"],["type","button",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(){return t.getStockiest()}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,_e,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",12),a["\u0275\u0275text"](29," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,Ee,3,4,"option",13),a["\u0275\u0275template"](31,Ce,2,0,"option",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",20),a["\u0275\u0275elementStart"](33,"div",21),a["\u0275\u0275element"](34,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"div",8),a["\u0275\u0275elementStart"](36,"div",9),a["\u0275\u0275elementStart"](37,"label",22),a["\u0275\u0275text"](38,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"select",23),a["\u0275\u0275elementStart"](40,"option",24),a["\u0275\u0275text"](41," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](42,ke,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",8),a["\u0275\u0275elementStart"](45,"div",9),a["\u0275\u0275elementStart"](46,"label",26),a["\u0275\u0275text"](47,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"select",27),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](49,"option",24),a["\u0275\u0275text"](50," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](51,we,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"span",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",8),a["\u0275\u0275elementStart"](54,"div",9),a["\u0275\u0275elementStart"](55,"label",29),a["\u0275\u0275text"](56,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"select",30),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](58,"option",24),a["\u0275\u0275text"](59," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](60,Ie,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](61,"span",31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"div",7),a["\u0275\u0275elementStart"](63,"div",32),a["\u0275\u0275element"](64,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](65,"div",33),a["\u0275\u0275elementStart"](66,"form",34),a["\u0275\u0275elementStart"](67,"div",7),a["\u0275\u0275elementStart"](68,"div",35),a["\u0275\u0275elementStart"](69,"div",36),a["\u0275\u0275elementStart"](70,"table",37),a["\u0275\u0275elementStart"](71,"tr"),a["\u0275\u0275elementStart"](72,"td",38),a["\u0275\u0275elementStart"](73,"label",39),a["\u0275\u0275text"](74,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](75,"td",40),a["\u0275\u0275text"](76,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"td",40),a["\u0275\u0275elementStart"](78,"label",39),a["\u0275\u0275text"](79,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"td",38),a["\u0275\u0275elementStart"](81,"label",39),a["\u0275\u0275text"](82,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"td",40),a["\u0275\u0275text"](84,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](85,"td",40),a["\u0275\u0275text"](86,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](87,"td",38),a["\u0275\u0275elementStart"](88,"label",39),a["\u0275\u0275text"](89,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",38),a["\u0275\u0275elementStart"](91,"label",39),a["\u0275\u0275text"](92,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"td",38),a["\u0275\u0275elementStart"](94,"label",39),a["\u0275\u0275text"](95,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"td",40),a["\u0275\u0275text"](97,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](98,"td",40),a["\u0275\u0275text"](99,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](100,"td",40),a["\u0275\u0275text"](101,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",40),a["\u0275\u0275text"](103,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"td",40),a["\u0275\u0275text"](105,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",40),a["\u0275\u0275text"](107,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"tr",41),a["\u0275\u0275elementStart"](109,"td",42),a["\u0275\u0275element"](110,"input",43),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](111,"td",42),a["\u0275\u0275elementStart"](112,"input",44),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](113,"img",45),a["\u0275\u0275elementStart"](114,"div",46),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e,-1)}),a["\u0275\u0275element"](115,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](116,"input",47),a["\u0275\u0275element"](117,"input",48),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](118,"td",42),a["\u0275\u0275elementStart"](119,"input",49),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](120,"img",50),a["\u0275\u0275elementStart"](121,"div",51),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e,-1)}),a["\u0275\u0275element"](122,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](123,"input",52),a["\u0275\u0275element"](124,"input",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](125,"td",42),a["\u0275\u0275elementStart"](126,"input",54),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](127,"img",55),a["\u0275\u0275elementStart"](128,"div",56),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](129,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](130,"td",42),a["\u0275\u0275element"](131,"input",57),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](132,"td",42),a["\u0275\u0275element"](133,"input",58),a["\u0275\u0275element"](134,"input",59),a["\u0275\u0275element"](135,"input",60),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](136,"td",42),a["\u0275\u0275elementStart"](137,"input",61),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](138,"td",42),a["\u0275\u0275elementStart"](139,"input",62),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](140,"td",42),a["\u0275\u0275elementStart"](141,"input",63),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"td",42),a["\u0275\u0275element"](143,"input",64),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"td",42),a["\u0275\u0275element"](145,"input",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](146,"td",42),a["\u0275\u0275element"](147,"input",66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](148,"td",67),a["\u0275\u0275elementStart"](149,"input",68,69),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](151,"button",70),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](150).click()}),a["\u0275\u0275text"](152,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](153,"td",67),a["\u0275\u0275template"](154,De,2,1,"div",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](155,"td",72),a["\u0275\u0275elementStart"](156,"span",73),a["\u0275\u0275listener"]("click",function(){return t.addSameInvoice(-1)})("keyup.enter",function(){return t.addSameInvoice(-1)}),a["\u0275\u0275element"](157,"i",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](158,"div",75),a["\u0275\u0275template"](159,Me,53,37,"tr",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](160,"div",77),a["\u0275\u0275text"](161,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](162,"div",7),a["\u0275\u0275elementStart"](163,"div",78),a["\u0275\u0275text"](164),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](165,"div",79),a["\u0275\u0275elementStart"](166,"button",80),a["\u0275\u0275listener"]("click",function(){return t.addNewInvoice()}),a["\u0275\u0275text"](167," Add New Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](168,Pe,2,0,"button",81),a["\u0275\u0275template"](169,Te,5,0,"button",82),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","distributor"===t.sessionData.type),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](44),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"](" Total Amount: ",t.totalAmount," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.q,o.x,b.l,b.m,o.w,o.n,o.g,o.b,o.m,o.e,o.c,x.l,o.h],pipes:[b.u],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:108px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}();function Ne(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",72),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function je(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",72),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ae(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",72),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Be(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",72),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Qe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",72),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ue(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",74),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function Le(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Ue,2,1,"span",73),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function qe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",75),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function Ye(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",76),a["\u0275\u0275elementStart"](1,"span",77),a["\u0275\u0275element"](2,"img",78),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",79),a["\u0275\u0275text"](4,"Save as Draft"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var Ve=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Edit / Update Claim",this.subheading="Update a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.newFiles=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.loggedUserId="",this.alignedStockiest=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.selectedClaim=this.activatedRoute.snapshot.paramMap.get("claimId")}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=t,this.loggedUserId=JSON.parse(t).id;var n=xe().format("MM");this.currentMonth=parseInt(n);var i=xe().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.createForm(),this.getDistributors(),this.getProduct(),this.getBatch(),"ho"===JSON.parse(t).type||"field"===JSON.parse(t).type?this.getUserDistStockistDivision(this.loggedUserId):"stockist"===JSON.parse(t).type&&this.getStockistDistDivision(this.loggedUserId),this.delay(1e3).then(function(t){e.getData()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_divisionId:"",def_plantId:"",def_product:"",def_productId:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?(console.log("resp--",e.data),e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data,n.newFiles.push(e.data))):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchDivision=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#division_id_"+a).val(""),$("#plant_id_"+a).val(""),$("#product_"+a).val(""),$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#division_loader_"+a).show(),n=this.matchDivision(r,t),this.delay(10).then(function(e){i.divisionSuggestions(n,r,t)})):$("#division_suggestion_"+a).hide()},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n,i=-1===t?"def":t,a=document.querySelector("#division_suggestion_"+i+" ul");$("#division_"+i).val(e.target.innerText),(n=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",n),$("#division_id_"+i).val(""),$("#plant_id_"+i).val("")):($("#division_id_"+i).val(n[0].division),$("#plant_id_"+i).val(n[0].plant)),a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide()},e.prototype.searchProduct=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#product_loader_"+a).show(),n=this.matchProduct(r,t),console.log("results---",n),this.delay(10).then(function(e){i.productSuggestions(n,r,t)})):$("#product_suggestion_"+a).hide()},e.prototype.matchProduct=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=($("#plant_id_"+n).val(),$("#division_id_"+n).val());return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(i)>-1&&e.division===Number(a)})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n,i=-1===t?"def":t;if((n=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()})).length>1)console.log("...More then one product...",n),$("#product_"+i).val(""),$("#product_id_"+i).val("");else{var a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_"+i).val(e.target.innerText),$("#product_id_"+i).val(n[0].material)}$("#product_suggestion_"+i).hide()},e.prototype.searchBatch=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#batch_loader_"+a).show(),n=this.matchBatch(r,t),this.delay(10).then(function(e){i.batchSuggestions(n,r,t)})):$("#batch_suggestion_"+a).hide()},e.prototype.matchBatch=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=$("#division_id_"+n).val(),r=$("#product_id_"+n).val();return $("#plant_id_"+n).val(),this.batches.filter(function(e){return e.material===Number(r)&&e.division===Number(a)&&e.batch.toLowerCase().indexOf(i)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].divisionName:"",c=a.length?a[0].materialName:"";$("#division_"+n).val(d),$("#product_"+n).val(c),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if($("#margin_"+n).val(0),a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#margin_"+n).val(10),$("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(e){var t=this;this.apiService.get("/api/user/getDistStockistDivision",e).subscribe(function(e){200===e.status&&e.data&&e.data.forEach(function(e){var n=t.distributors.filter(function(t){return e.plant===t.plant});t.userDistributors.push(n[0]),t.userPlantStockists[e.plant]=e.stockists,t.userPlantDivisions[e.plant]=e.divisions})})},e.prototype.getStockistDistDivision=function(e){var t=this;this.apiService.get("/api/user/getStockistDistDivision",e).subscribe(function(e){200===e.status&&e.data&&e.data.forEach(function(e){var n=t.distributors.filter(function(t){return e.plant===t.plant});t.userDistributors.push(n[0]),t.userPlantStockists[e.plant]=e.customerId,t.userPlantDivisions[e.plant]=e.divisions})})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val(),i=this.userPlantStockists[n];"ho"===JSON.parse(this.sessionData).type||"field"===JSON.parse(this.sessionData).type?i.forEach(function(e){t.push(Number(e))}):"stockist"===JSON.parse(this.sessionData).type&&t.push(Number(i)),this.getDivisions(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getStockiest2=function(e,t){var n=this,i=[],a=this.userPlantStockists[e];"ho"===JSON.parse(this.sessionData).type||"field"===JSON.parse(this.sessionData).type?a.forEach(function(e){i.push(Number(e))}):"stockist"===JSON.parse(this.sessionData).type&&i.push(Number(a)),this.apiService.post("/api/getStockiest",i).subscribe(function(e){200===e.status&&e.data.length&&(n.stockiests=e.data,n.delay(5).then(function(e){$("#stockiest").val(t),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),$("#stockiest option:selected").val()||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid");var i=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&i>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var a=$("#distributor option:selected").val(),r=$("#stockiest option:selected").val(),o=$("#type option:selected").val(),l=$("#month option:selected").val(),s=$("#year option:selected").val(),d=function(e){var n=/^\d*\.?\d*$/,i=-1===e?"def":e,d=a+".::."+r+".::."+o+".::."+l+".::."+s+".::."+c.loggedUserId,m=$("#invoice_"+i).val(),p=$("#batch_"+i).val(),u=$("#division_"+i).val(),f=$("#division_id_"+i).val(),v=$("#product_"+i).val(),h=$("#product_id_"+i).val(),g=$("#mrp_"+i).val(),b=$("#pts_"+i).val(),y=$("#ptr_"+i).val(),x=$("#ptd_"+i).val(),S=$("#billingRate_"+i).val(),_=$("#freeQuantity_"+i).val(),E=$("#saleQuantity_"+i).val(),C=$("#difference_"+i).val(),k=$("#totalDifference_"+i).val(),w=$("#amount_"+i).val();if(m||(t=!0,$("#invoice_"+i).addClass("grf-invalid")),p||(t=!0,$("#batch_"+i).addClass("grf-invalid")),v||(t=!0,$("#product_"+i).addClass("grf-invalid")),S||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(S)||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(_)||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid")),n.test(E)||(t=!0,$("#saleQuantity_"+i).addClass("grf-invalid")),!S||_||E||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid"),$("#saleQuantity_"+i).addClass("grf-invalid")),w<=0&&(t=!0,$("#amount_"+i).addClass("grf-invalid")),t)return c.btnLoader=!1,c.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var I="";c.newFiles&&c.newFiles.length&&c.newFiles.forEach(function(e){e.length&&e.forEach(function(e){I=I+e.filename+".::."})}),c.claimForm.value.def_image=I,c.claimForm.value.def_invoice=m,c.claimForm.value.def_batch=p,c.claimForm.value.def_divisionId=f,c.claimForm.value.def_division=u,c.claimForm.value.def_product=v,c.claimForm.value.def_productId=h,c.claimForm.value.def_mrp=g,c.claimForm.value.def_pts=b,c.claimForm.value.def_ptr=y,c.claimForm.value.def_ptd=x,c.claimForm.value.def_billingRate=S,c.claimForm.value.def_freeQuantity=_,c.claimForm.value.def_saleQuantity=E,c.claimForm.value.def_difference=C,c.claimForm.value.def_totalDifference=k,c.claimForm.value.def_amount=w,c.claimForm.value.header=d,c.claimForm.value.id=c.selectedClaim}else{var D="";c.fileNames[e]&&c.fileNames[e].length&&c.fileNames[e].forEach(function(e,t){D=D+e.filename+".::."}),c.claimForm.value.claims[e].image=D,c.claimForm.value.claims[e].invoice=m,c.claimForm.value.claims[e].batch=p,c.claimForm.value.claims[e].divisionId=f,c.claimForm.value.claims[e].division=u,c.claimForm.value.claims[e].product=v,c.claimForm.value.claims[e].productId=h,c.claimForm.value.claims[e].mrp=g,c.claimForm.value.claims[e].pts=b,c.claimForm.value.claims[e].ptr=y,c.claimForm.value.claims[e].ptd=x,c.claimForm.value.claims[e].billingRate=S,c.claimForm.value.claims[e].freeQuantity=_,c.claimForm.value.claims[e].saleQuantity=E,c.claimForm.value.claims[e].difference=C,c.claimForm.value.claims[e].totalDifference=k,c.claimForm.value.claims[e].amount=w,c.claimForm.value.claims[e].header=d}},c=this,m=-1;m<=n;m++){var p=d(m);if("object"==typeof p)return p.value}this.apiService.post("/api/claim/update",this.claimForm.value).subscribe(function(t){200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},5e3))})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/getClaim",this.selectedClaim).subscribe(function(t){if(200===t.status)if(t.data.length){if(e.records=t.data[0],$("#distributor").val(e.records.plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getDivisions(),e.getStockiest2(e.records.plant,e.records.customerId),$("#type").val(e.records.claimType),$("#month").val(e.records.claimMonth),$("#year").val(e.records.claimYear),e.claimForm.controls.def_invoice.setValue(e.records.invoice,{onlySelf:!0}),e.claimForm.value.def_invoice=e.records.invoice,e.claimForm.controls.def_batch.setValue(e.records.batch,{onlySelf:!0}),e.claimForm.value.def_batch=e.records.batch,e.claimForm.controls.def_divisionId.setValue(e.records.divisionId,{onlySelf:!0}),e.claimForm.value.def_division=e.records.divisionId,e.claimForm.controls.def_division.setValue(e.records.divisionName,{onlySelf:!0}),e.claimForm.value.def_division=e.records.divisionName,e.claimForm.controls.def_product.setValue(e.records.materialName,{onlySelf:!0}),e.claimForm.value.def_product=e.records.materialName,e.claimForm.controls.def_productId.setValue(e.records.material,{onlySelf:!0}),e.claimForm.value.def_productId=e.records.material,e.claimForm.controls.def_particulars.setValue(e.records.particulars,{onlySelf:!0}),e.claimForm.value.def_particulars=e.records.particulars,e.claimForm.controls.def_mrp.setValue(e.records.mrp,{onlySelf:!0}),e.claimForm.value.def_mrp=e.records.mrp,e.claimForm.controls.def_pts.setValue(e.records.pts,{onlySelf:!0}),e.claimForm.value.def_pts=e.records.pts,e.claimForm.controls.def_billingRate.setValue(e.records.billingRate,{onlySelf:!0}),e.claimForm.value.def_billingRate=e.records.billingRate,e.claimForm.controls.def_freeQuantity.setValue(e.records.freeQuantity,{onlySelf:!0}),e.claimForm.value.def_freeQuantity=e.records.freeQuantity,e.claimForm.controls.def_saleQuantity.setValue(e.records.saleQuantity,{onlySelf:!0}),e.claimForm.value.def_saleQuantity=e.records.saleQuantity,e.claimForm.controls.def_difference.setValue(e.records.difference,{onlySelf:!0}),e.claimForm.value.def_difference=e.records.difference,e.claimForm.controls.def_totalDifference.setValue(e.records.totalDifference,{onlySelf:!0}),e.claimForm.value.def_totalDifference=e.records.totalDifference,e.claimForm.controls.def_amount.setValue(e.records.amount,{onlySelf:!0}),e.claimForm.value.def_amount=e.records.amount,e.records.files.length){var n=[];e.records.files.forEach(function(e){n.push({filename:e.filename,originalname:e.originalFilename})}),e.fileNames[-1]=n}}else e.toast("error",t.message);else e.toast("error",t.message)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-claim"]],decls:155,vars:23,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_division","id","division_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","division_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","division_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_divisionId","id","division_id_def",1,"form-control"],["type","hidden","formControlName","def_plantId","id","plant_id_def",1,"form-control"],["type","text","formControlName","def_product","id","product_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","product_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","product_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_productId","id","product_id_def",1,"form-control"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["type","button",1,"btn-transition","btn","btn-outline-focus",3,"tabIndex","click"],[4,"ngIf"],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(){return t.getStockiest()}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Ne,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",12),a["\u0275\u0275text"](29," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,je,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275element"](33,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",8),a["\u0275\u0275elementStart"](35,"div",9),a["\u0275\u0275elementStart"](36,"label",21),a["\u0275\u0275text"](37,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"select",22),a["\u0275\u0275elementStart"](39,"option",23),a["\u0275\u0275text"](40," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,Ae,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"div",8),a["\u0275\u0275elementStart"](44,"div",9),a["\u0275\u0275elementStart"](45,"label",25),a["\u0275\u0275text"](46,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"select",26),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](48,"option",23),a["\u0275\u0275text"](49," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](50,Be,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",8),a["\u0275\u0275elementStart"](53,"div",9),a["\u0275\u0275elementStart"](54,"label",28),a["\u0275\u0275text"](55,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"select",29),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](57,"option",23),a["\u0275\u0275text"](58," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](59,Qe,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](60,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"div",7),a["\u0275\u0275elementStart"](62,"div",31),a["\u0275\u0275element"](63,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"div",32),a["\u0275\u0275elementStart"](65,"form",33),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](66,"div",7),a["\u0275\u0275elementStart"](67,"div",34),a["\u0275\u0275elementStart"](68,"div",35),a["\u0275\u0275elementStart"](69,"table",36),a["\u0275\u0275elementStart"](70,"tr"),a["\u0275\u0275elementStart"](71,"td",37),a["\u0275\u0275elementStart"](72,"label",38),a["\u0275\u0275text"](73,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](74,"td",39),a["\u0275\u0275text"](75,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](76,"td",37),a["\u0275\u0275elementStart"](77,"label",38),a["\u0275\u0275text"](78,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"td",37),a["\u0275\u0275elementStart"](80,"label",38),a["\u0275\u0275text"](81,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"td",39),a["\u0275\u0275text"](83,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",39),a["\u0275\u0275text"](85,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",37),a["\u0275\u0275elementStart"](87,"label",38),a["\u0275\u0275text"](88,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](89,"td",37),a["\u0275\u0275elementStart"](90,"label",38),a["\u0275\u0275text"](91,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",37),a["\u0275\u0275elementStart"](93,"label",38),a["\u0275\u0275text"](94,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](95,"td",39),a["\u0275\u0275text"](96,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](97,"td",39),a["\u0275\u0275text"](98,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](99,"td",39),a["\u0275\u0275text"](100,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"td",39),a["\u0275\u0275text"](102,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](103,"td",39),a["\u0275\u0275text"](104,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](105,"tr"),a["\u0275\u0275elementStart"](106,"td",40),a["\u0275\u0275element"](107,"input",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",40),a["\u0275\u0275elementStart"](109,"input",42),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](110,"img",43),a["\u0275\u0275elementStart"](111,"div",44),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e,-1)}),a["\u0275\u0275element"](112,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](113,"input",45),a["\u0275\u0275element"](114,"input",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"td",40),a["\u0275\u0275elementStart"](116,"input",47),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](117,"img",48),a["\u0275\u0275elementStart"](118,"div",49),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e,-1)}),a["\u0275\u0275element"](119,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](120,"input",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"td",40),a["\u0275\u0275elementStart"](122,"input",51),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](123,"img",52),a["\u0275\u0275elementStart"](124,"div",53),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](125,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](126,"td",40),a["\u0275\u0275element"](127,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](128,"td",40),a["\u0275\u0275element"](129,"input",55),a["\u0275\u0275element"](130,"input",56),a["\u0275\u0275element"](131,"input",57),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](132,"td",40),a["\u0275\u0275elementStart"](133,"input",58),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](134,"td",40),a["\u0275\u0275elementStart"](135,"input",59),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](136,"td",40),a["\u0275\u0275elementStart"](137,"input",60),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](138,"td",40),a["\u0275\u0275element"](139,"input",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](140,"td",40),a["\u0275\u0275element"](141,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"td",40),a["\u0275\u0275element"](143,"input",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"td",64),a["\u0275\u0275elementStart"](145,"input",65,66),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](147,"button",67),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](146).click()}),a["\u0275\u0275text"](148,"Attach File"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](149,"td",64),a["\u0275\u0275template"](150,Le,2,1,"div",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](151,"div",7),a["\u0275\u0275elementStart"](152,"div",69),a["\u0275\u0275template"](153,qe,2,0,"button",70),a["\u0275\u0275template"](154,Ye,5,0,"button",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](42),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.q,o.x,b.l,o.w,o.n,o.g,o.b,o.m,o.e,b.m,x.l],pipes:[b.u],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}(),ze=n("IkSl");function He(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Je(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ge(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",42),a["\u0275\u0275text"](1," -- Self -- "),a["\u0275\u0275elementEnd"]())}function Ze(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function We(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ke(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Xe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",41),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function et(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",43),a["\u0275\u0275element"](1,"img",44),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function tt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",43),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function nt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",70),a["\u0275\u0275elementStart"](1,"i",71),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](78);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function it(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,nt,2,1,"span",69),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function at(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",57),a["\u0275\u0275elementStart"](1,"td",58),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",58),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",58),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",58),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",59),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",59),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",58),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",58),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",58),a["\u0275\u0275text"](23),a["\u0275\u0275pipe"](24,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",58),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",58),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",58),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",58),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",58),a["\u0275\u0275text"](37),a["\u0275\u0275pipe"](38,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",58),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td"),a["\u0275\u0275template"](43,it,2,1,"div",60),a["\u0275\u0275elementStart"](44,"div",61),a["\u0275\u0275text"](45," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",58),a["\u0275\u0275elementStart"](47,"span",62),a["\u0275\u0275elementStart"](48,"i",63),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2),r=a["\u0275\u0275reference"](80);return i.uploadwPopup(r,e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"span",64),a["\u0275\u0275elementStart"](50,"a",65),a["\u0275\u0275element"](51,"i",66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"span",67),a["\u0275\u0275elementStart"](53,"i",68),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).confirmBoxDelete(e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](r+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](5,23,i.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,25,i.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,27,i.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](18,29,i.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](21,32,i.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](24,35,i.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,38,i.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,41,i.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,44,i.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](38,47,i.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,50,i.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",i.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",i.invoice,""),a["\u0275\u0275advance"](6),a["\u0275\u0275propertyInterpolate1"]("href","stockiest/updateClaim/",i._id,"",a["\u0275\u0275sanitizeUrl"])}}function rt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",45),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",46),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",47),a["\u0275\u0275text"](7,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",48),a["\u0275\u0275text"](9,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",48),a["\u0275\u0275text"](11,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",49),a["\u0275\u0275text"](13,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",50),a["\u0275\u0275text"](15,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",51),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",51),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",52),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",53),a["\u0275\u0275text"](23,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",54),a["\u0275\u0275text"](25,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",54),a["\u0275\u0275text"](27,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",55),a["\u0275\u0275text"](29,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",55),a["\u0275\u0275text"](31,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",52),a["\u0275\u0275text"](33,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"th",52),a["\u0275\u0275text"](35,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"th",52),a["\u0275\u0275text"](37,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"tbody"),a["\u0275\u0275template"](39,at,54,53,"tr",56),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](39),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function ot(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",77),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).postClaim()}),a["\u0275\u0275text"](1,"Post Claim"),a["\u0275\u0275elementEnd"]()}}function lt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",78),a["\u0275\u0275elementStart"](1,"span",79),a["\u0275\u0275element"](2,"img",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",80),a["\u0275\u0275text"](4,"Post Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function st(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",72),a["\u0275\u0275elementStart"](1,"div",73),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",74),a["\u0275\u0275template"](4,ot,2,0,"button",75),a["\u0275\u0275template"](5,lt,5,0,"button",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!n.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.btnLoader)}}function dt(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",92),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function ct(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",93),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function mt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"h4",82),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",83),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",84),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",85),a["\u0275\u0275template"](7,dt,1,2,"pdf-viewer",86),a["\u0275\u0275template"](8,ct,1,2,"img",87),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",88),a["\u0275\u0275elementStart"](10,"button",89),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",90),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",91),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function pt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"h4",82),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",83),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",84),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",94),a["\u0275\u0275elementStart"](7,"input",95,96),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",88),a["\u0275\u0275elementStart"](10,"button",97),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",91),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var ut=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Drafts",this.subheading="Temporarily saved claim. The claim can be corrected (if necessary) and finally submitted for approval.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.pdfSource="",this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.delay(1e3).then(function(t){var n=xe().format("MM");e.currentMonth=parseInt(n);var i=xe().format("YYYY");e.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)e.years.push({id:a,name:a});parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),e.selectedFields.month=e.selectedMonth,e.selectedFields.year=e.selectedYear}),this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getDivisions(),e.delay(1e3).then(function(t){e.getData()})})}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()}))})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()}))})},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val(),i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type&&t.push(Number(i)),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n.toString())||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.delay(5).then(function(t){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var n=$("#stockiest option:selected").val();e.selectedFields.stockiest=n,e.getData()}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[];var t=$("#distributor option:selected").val(),n=$("#stockiest option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=$("#type option:selected").val(),o=$("#division option:selected").val(),l={plant:t,customerId:n,month:i,year:a};console.log(l),this.apiService.post("/api/getClaim",l).subscribe(function(t){200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,(r||o)&&e.filterDataTwice(r,o),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=this;this.loading=!0,this.showData=!0;var n=e.target.id;this.selectedFields[n]=e.target.value;var i=this.selectedFields.type,a=this.selectedFields.division;"distributor"===n&&(this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){t.getData(),t.selectedFields.type="",t.selectedFields.division="",$("#type").val(t.selectedFields.type),$("#division").val(t.selectedFields.division)})),"stockiest"!==n&&"month"!==n&&"year"!==n||(this.getData(),this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionName==a}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionName==a}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.viewPopup=function(e,t,n,i){var a=this;console.log(t),this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),console.log("images---",i),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){console.log("response---",e.status),200===e.status?(n.modalReference.close(),n.getData(),V.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this;V.a.fire({title:"Are you sure want to submit?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"No, keep it"}).then(function(t){if(t.value){var n=0,i=[];e.records.forEach(function(e){e.files.length&&i.push({invoice:e.invoice,file:e.files[0].filename})});var a=Object(c.g)(new Map(i.map(function(e){return[e.invoice,e]})).values()),r=e.records.filter(function(e){var t=e.invoice;return!a.some(function(e){return e.invoice===t})}),o=Object(c.g)(new Map(r.map(function(e){return[e.invoice,e]})).values());if(o&&o.forEach(function(t){n=1,$("."+t.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),e.tempRecords.length<=0&&(n=1,e.toast("error","Currently there are no claims on the list.")),0===n){var l=[];e.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:xe().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};l.push(i)}),e.apiService.post("/api/claim/submit",l).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}}else t.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-draft-claim"]],decls:81,vars:16,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none",3,"change"],["value","1",4,"ngIf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select",3,"change"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select",3,"change"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["uploads",""],[3,"value"],["value","1"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","50px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","110px"],[1,"border-right",2,"width","180px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["title","Upload Invoice",1,"option-span",2,"color","#6610f2"],[1,"vsm-icon","pe-7s-cloud-upload","option-tr",3,"click"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"],["title","Delete",1,"option-span",2,"color","red"],[1,"vsm-icon","pe-7s-trash","option-tr",3,"click"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",3,"click",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,He,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](28,"option",12),a["\u0275\u0275text"](29," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,Je,3,4,"option",13),a["\u0275\u0275template"](31,Ge,2,0,"option",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",20),a["\u0275\u0275elementStart"](33,"div",21),a["\u0275\u0275element"](34,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"div",8),a["\u0275\u0275elementStart"](36,"div",9),a["\u0275\u0275elementStart"](37,"label",22),a["\u0275\u0275text"](38,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"select",23),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](40,"option",24),a["\u0275\u0275text"](41," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](42,Ze,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",8),a["\u0275\u0275elementStart"](45,"div",9),a["\u0275\u0275elementStart"](46,"label",26),a["\u0275\u0275text"](47,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"select",27),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](49,"option",24),a["\u0275\u0275text"](50," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](51,We,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",8),a["\u0275\u0275elementStart"](53,"div",9),a["\u0275\u0275elementStart"](54,"label",28),a["\u0275\u0275text"](55,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"select",29),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](57,"option",30),a["\u0275\u0275text"](58," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](59,Ke,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](60,"span",31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"div",8),a["\u0275\u0275elementStart"](62,"div",9),a["\u0275\u0275elementStart"](63,"label",32),a["\u0275\u0275text"](64,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](65,"select",33),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](66,"option",30),a["\u0275\u0275text"](67," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](68,Xe,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](69,"span",34),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"div",7),a["\u0275\u0275elementStart"](71,"div",35),a["\u0275\u0275element"](72,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](73,et,4,0,"div",36),a["\u0275\u0275template"](74,tt,2,0,"div",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,rt,40,1,"div",37),a["\u0275\u0275template"](76,st,6,3,"div",38),a["\u0275\u0275template"](77,mt,16,3,"ng-template",null,39,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](79,pt,14,1,"ng-template",null,40,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","distributor"===t.sessionData.type),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[o.q,o.x,b.l,b.m,x.l,ze.a],pipes:[b.u,b.e],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}(),ft=n("lLjj");function vt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",66),a["\u0275\u0275elementStart"](1,"button",67),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",68),a["\u0275\u0275text"](3," Export to Excel "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function ht(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function gt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function bt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",70),a["\u0275\u0275text"](1,"-- Self --"),a["\u0275\u0275elementEnd"]())}function yt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",71),a["\u0275\u0275text"](1,"-- All --"),a["\u0275\u0275elementEnd"]())}function xt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function St(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function _t(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Et(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",69),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ct(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",72),a["\u0275\u0275element"](1,"img",73),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function kt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",72),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function wt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",77),a["\u0275\u0275text"](1,"Stockist"),a["\u0275\u0275elementEnd"]())}function It(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",75),a["\u0275\u0275text"](1,"Acc. QTY"),a["\u0275\u0275elementEnd"]())}function $t(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",75),a["\u0275\u0275text"](1,"Acc. Amount"),a["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",82),a["\u0275\u0275text"](1,"Options"),a["\u0275\u0275elementEnd"]())}function Ft(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"Self"),a["\u0275\u0275elementEnd"]())}function Ot(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.stockiest[0].organization)}}function Mt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",89),a["\u0275\u0275template"](1,Ft,2,0,"span",63),a["\u0275\u0275template"](2,Ot,2,1,"span",63),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!==n.customerId)}}function Pt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",89),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.approvedQty)}}function Tt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",89),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](2,1,n.approvedAmount,"1.2-2"))}}function Rt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",93),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](2).$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function Nt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",89),a["\u0275\u0275template"](1,Rt,1,0,"img",92),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function jt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",88),a["\u0275\u0275elementStart"](1,"td",89),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,Mt,3,2,"td",90),a["\u0275\u0275elementStart"](4,"td",89),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",89),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",91),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",91),a["\u0275\u0275text"](13),a["\u0275\u0275pipe"](14,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",89),a["\u0275\u0275text"](16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",89),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",89),a["\u0275\u0275text"](21),a["\u0275\u0275pipe"](22,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",89),a["\u0275\u0275text"](24),a["\u0275\u0275pipe"](25,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"td",89),a["\u0275\u0275text"](27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",89),a["\u0275\u0275text"](29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",89),a["\u0275\u0275text"](31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"td",89),a["\u0275\u0275text"](33),a["\u0275\u0275pipe"](34,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",89),a["\u0275\u0275text"](36),a["\u0275\u0275pipe"](37,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",89),a["\u0275\u0275text"](39),a["\u0275\u0275pipe"](40,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,Pt,2,1,"td",90),a["\u0275\u0275template"](42,Tt,3,4,"td",90),a["\u0275\u0275template"](43,Nt,2,1,"td",90),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.allField),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](8,19,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,21,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](14,23,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](19,25,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](22,28,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](25,31,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.freeQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](34,34,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](37,37,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](40,40,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.optionField)}}function At(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",74),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",75),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](6,wt,2,0,"th",76),a["\u0275\u0275elementStart"](7,"th",77),a["\u0275\u0275text"](8,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",78),a["\u0275\u0275text"](10,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",79),a["\u0275\u0275text"](12,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",80),a["\u0275\u0275text"](14,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",77),a["\u0275\u0275text"](16,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",81),a["\u0275\u0275text"](18,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",81),a["\u0275\u0275text"](20,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",82),a["\u0275\u0275text"](22,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",83),a["\u0275\u0275text"](24,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",75),a["\u0275\u0275text"](26,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",75),a["\u0275\u0275text"](28,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",84),a["\u0275\u0275text"](30,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",84),a["\u0275\u0275text"](32,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",82),a["\u0275\u0275text"](34,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](35,It,2,0,"th",85),a["\u0275\u0275template"](36,$t,2,0,"th",85),a["\u0275\u0275template"](37,Dt,2,0,"th",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"tbody"),a["\u0275\u0275template"](39,jt,44,43,"tr",87),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",n.allField),a["\u0275\u0275advance"](29),a["\u0275\u0275property"]("ngIf",n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.optionField),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function Bt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" Total Amount: ",a["\u0275\u0275pipeBind2"](2,1,n.totalAmount,"1.2-2")," ")}}function Qt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" Total Accepted Amount: ",a["\u0275\u0275pipeBind2"](2,1,n.accAmount,"1.2-2")," ")}}function Ut(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",94),a["\u0275\u0275elementStart"](1,"div",95),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,Bt,3,4,"div",96),a["\u0275\u0275template"](4,Qt,3,4,"div",96),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.accField)}}function Lt(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",108),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function qt(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",109),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function Yt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",98),a["\u0275\u0275elementStart"](1,"h4",99),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",100),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",101),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",102),a["\u0275\u0275template"](7,Lt,1,2,"pdf-viewer",103),a["\u0275\u0275template"](8,qt,1,2,"img",104),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",105),a["\u0275\u0275elementStart"](10,"button",106),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",107),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Vt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function zt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function Ht(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function Jt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function Gt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function Zt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",110),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",111),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}var Wt=function(){function e(e,t,n){this.router=e,this.modalService=t,this.apiService=n,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Claim Status",this.subheading="Approved/Accepted/Rejected and Inprogress claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!1,this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.tempRecords=[],this.accAmount=0,this.totalAmount=0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.divisions=[],this.stockiests=[],this.loggedUserId="",this.selectedFields=[],this.pdfSource="",this.clickedFile=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.loggedUserId=JSON.parse(t).id,this.delay(1e3).then(function(t){var n=xe().format("MM");e.currentMonth=parseInt(n);var i=xe().format("YYYY");e.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)e.years.push({id:a,name:a});parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear)}),this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.clear=function(){var e=xe().format("MM"),t=xe().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.getDistributorStockists(n[0]),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getStockiest(),e.getDivisions()})}})},e.prototype.getDistributorStockists=function(e){var t=this;this.apiService.post("/api/stockiest/distributorStockiest",{plant:e.plant}).subscribe(function(n){if(200===n.status&&n.data){var i=[];n.data.forEach(function(e){i.push(e.customerId)}),t.apiService.post("/api/user/getUserByCodes",{codes:i}).subscribe(function(i){if(200===i.status&&n.data){var a=[];i.data.forEach(function(e){a.push(e.code)}),t.userPlantStockists[e.plant]=a}})}})},e.prototype.getDistributors=function(){var e=this;this.distributors=[],this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val(),i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type?t.push(Number(i)):"distributor"===this.sessionData.type&&(t=i),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n)||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.delay(5).then(function(e){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&(console.log("response.data--",t.data),t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()})))})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()}))})},e.prototype.distributorChange=function(){this.getStockiest(),this.getDivisions()},e.prototype.getData=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o,l,s=this;return Object(c.d)(this,function(d){return this.loading=this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.records=this.tempRecords=[],this.totalAmount=0,this.accAmount=0,$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide(),e=$("#distributor option:selected").val(),t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#division option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val(),o=$("#status option:selected").val(),t&&o?a>this.currentMonth&&r>=this.currentYear?($("#err_month").text("You can't claim for this month.").show(),[2]):(l={plant:e,customerId:t,month:a,year:r,status:o},n&&(l.claimType=n),i&&(l.division=i),console.log("requestData-----",l),this.apiService.post("/api/getApprovedClaim",l).subscribe(function(e){200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),s.records=e.data,s.tempRecords=e.data,s.tempRecords.forEach(function(e){s.totalAmount=s.totalAmount+e.amount,s.accAmount=s.accAmount+e.approvedAmount}),s.loading=!1,s.showData=!0,"approved"===o?s.accField=!0:"rejected"===o&&(s.optionField=!0),"all"===t&&(s.allField=!0)):s.loading=s.showData=!1:s.toast("error",e.message)}),[2]):(e||$("#err_distributor").text("it's a required field.").show(),t||$("#err_stockiest").text("it's a required field.").show(),o||$("#err_status").text("it's a required field.").show(),[2])})})},e.prototype.exportToExcel=function(){var e=[];this.tempRecords.forEach(function(t){var n={Stockiest:t.customerId,"Claim Type":t.claimType,Month:t.claimMonth,Year:t.claimYear,"Reference No":t.invoice,Batch:t.batch,Division:t.divisionName,Material:t.material,"Material Name":t.materialName,MRP:t.mrp,PTS:t.pts,"Billing Rate":t.billingRate,Margin:t.margin,"Free QTY":t.freeQuantity,"Sale QTY":t.saleQuantity,Difference:t.difference,"Total Difference":t.totalDifference,Amount:t.amount};1===t.ftStatus&&1===t.suhStatus&&1===t.hoStatus&&1===t.ho1Status&&(t.approvedQty&&(n["Accepted QTY"]=t.approvedQty),t.approvedAmount&&(n["Accepted Amount"]=t.approvedAmount)),e.push(n)});var t=ft.utils.json_to_sheet(e);for(var n in t["!cols"]=[{wch:10},{wch:10},{wch:8},{wch:5},{wch:15},{wch:10},{wch:20},{wch:15},{wch:40},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20},{wch:20},{wch:20}],t)if("object"==typeof t[n]){var i=ft.utils.decode_cell(n);t[n].s={alignment:{vertical:"center",wrapText:1}},0==i.r&&(t[n].s.alignment={vertical:"center",wrapText:!0},t[n].s.fill={fgColor:{rgb:"585858"}},t[n].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var a=ft.utils.book_new();ft.utils.book_append_sheet(a,t,"Sheet1"),ft.writeFile(a,"ClaimStatus.xlsx")},e.prototype.viewPopup=function(e,t){var n=this;this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){this.clickedRecord=e,document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-status"]],decls:126,vars:25,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col",2,"padding","0px 5px 0px 5px"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","1",4,"ngIf"],["value","all",4,"ngIf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],[1,"position-relative","mb-3"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select"],["value","","selected",""],["id","err_division",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"form-select"],["value","inprogress"],["value","approved"],["value","rejected"],["id","err_status",1,"text-danger",2,"display","none"],[1,"col"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["id","modalComments",1,"modal",2,"top","70px !important"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],[1,"modal-footer",2,"padding","5px 15px"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[3,"value"],["value","1"],["value","all"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","70px"],["class","border-right","style","width: 90px;",4,"ngIf"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","75px"],["class","border-right","style","width: 70px;",4,"ngIf"],["class","border-right","style","width: 80px;",4,"ngIf"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],["class","border-right",4,"ngIf"],[1,"border-right","tal"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],["class","col-md-6 tar","style","padding-top: 10px; font-weight: 600;",4,"ngIf"],[1,"col-md-6","tar",2,"padding-top","10px","font-weight","600"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,vt,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"label",11),a["\u0275\u0275text"](16,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"select",12),a["\u0275\u0275listener"]("change",function(){return t.distributorChange()}),a["\u0275\u0275elementStart"](18,"option",13),a["\u0275\u0275text"](19," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,ht,3,5,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"span",15),a["\u0275\u0275elementStart"](22,"div",16),a["\u0275\u0275element"](23,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"div",10),a["\u0275\u0275elementStart"](26,"label",18),a["\u0275\u0275text"](27,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"select",19),a["\u0275\u0275elementStart"](29,"option",13),a["\u0275\u0275text"](30," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](31,gt,3,4,"option",14),a["\u0275\u0275template"](32,bt,2,0,"option",20),a["\u0275\u0275template"](33,yt,2,0,"option",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](34,"span",22),a["\u0275\u0275elementStart"](35,"div",23),a["\u0275\u0275element"](36,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",9),a["\u0275\u0275elementStart"](38,"div",24),a["\u0275\u0275elementStart"](39,"label",25),a["\u0275\u0275text"](40,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"select",26),a["\u0275\u0275elementStart"](42,"option",27),a["\u0275\u0275text"](43," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](44,xt,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](45,"span",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",9),a["\u0275\u0275elementStart"](47,"div",24),a["\u0275\u0275elementStart"](48,"label",29),a["\u0275\u0275text"](49,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"select",30),a["\u0275\u0275elementStart"](51,"option",31),a["\u0275\u0275text"](52," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](53,St,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](54,"span",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"div",9),a["\u0275\u0275elementStart"](56,"div",10),a["\u0275\u0275elementStart"](57,"label",33),a["\u0275\u0275text"](58,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"select",34),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](60,"option",27),a["\u0275\u0275text"](61," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](62,_t,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](63,"span",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"div",9),a["\u0275\u0275elementStart"](65,"div",10),a["\u0275\u0275elementStart"](66,"label",36),a["\u0275\u0275text"](67,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"select",37),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](69,"option",27),a["\u0275\u0275text"](70," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](71,Et,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](72,"span",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",9),a["\u0275\u0275elementStart"](74,"div",10),a["\u0275\u0275elementStart"](75,"label",39),a["\u0275\u0275text"](76,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"select",40),a["\u0275\u0275elementStart"](78,"option",27),a["\u0275\u0275text"](79," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"option",41),a["\u0275\u0275text"](81,"Inprogress"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"option",42),a["\u0275\u0275text"](83,"Accepted"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"option",43),a["\u0275\u0275text"](85,"Rejected"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](86,"span",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](87,"div",45),a["\u0275\u0275elementStart"](88,"div",46),a["\u0275\u0275elementStart"](89,"button",47),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](90,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](91,"button",48),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](92,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"div",8),a["\u0275\u0275elementStart"](94,"div",49),a["\u0275\u0275element"](95,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](96,Ct,4,0,"div",50),a["\u0275\u0275template"](97,kt,2,0,"div",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](98,At,40,5,"div",51),a["\u0275\u0275template"](99,Ut,5,3,"div",52),a["\u0275\u0275template"](100,Yt,14,3,"ng-template",null,53,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](102,"div",54),a["\u0275\u0275elementStart"](103,"div",55),a["\u0275\u0275elementStart"](104,"div",56),a["\u0275\u0275elementStart"](105,"h2",57),a["\u0275\u0275text"](106,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](107,"span",58),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](108,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"div",59),a["\u0275\u0275elementStart"](110,"div",8),a["\u0275\u0275elementStart"](111,"table",60),a["\u0275\u0275elementStart"](112,"tr"),a["\u0275\u0275elementStart"](113,"th",61),a["\u0275\u0275text"](114,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"th",62),a["\u0275\u0275text"](116,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](117,Vt,7,1,"tr",63),a["\u0275\u0275template"](118,zt,7,1,"tr",63),a["\u0275\u0275template"](119,Ht,7,1,"tr",63),a["\u0275\u0275template"](120,Jt,7,1,"tr",63),a["\u0275\u0275template"](121,Gt,7,1,"tr",63),a["\u0275\u0275template"](122,Zt,7,1,"tr",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](123,"div",64),a["\u0275\u0275elementStart"](124,"button",65),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](125," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.sessionData.permissions.includes("7")),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","distributor"===t.sessionData.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho1"===t.sessionData.workType),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](25),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[b.m,o.q,o.x,b.l,_.a,x.l,ze.a],pipes:[b.u,b.e],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}(),Kt=n("XNiG");function Xt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",25),a["\u0275\u0275element"](1,"img",26),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Uploading... Please wait"),a["\u0275\u0275element"](4,"br"),a["\u0275\u0275elementStart"](5,"b"),a["\u0275\u0275text"](6,"Don`t close this window while uploading"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function en(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",17),a["\u0275\u0275elementStart"](1,"h4",18),a["\u0275\u0275text"](2,"Upload Stockiest Data"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",19),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",20),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275elementStart"](6,"input",21),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onFileSelected(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",22),a["\u0275\u0275elementStart"](8,"button",23),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",24),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().uploadStockiest(e)}),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](12,Xt,7,0,"div",16),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",i.loading)}}function tn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",27),a["\u0275\u0275elementStart"](1,"td",14),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",14),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",14),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",14),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",14),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",14),a["\u0275\u0275elementStart"](12,"span",28),a["\u0275\u0275elementStart"](13,"a",29),a["\u0275\u0275element"](14,"i",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.organization),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.customerId),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("href","stockiest/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function nn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",25),a["\u0275\u0275element"](1,"img",26),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}var an=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.modalService=a,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Stockiest",this.subheading="Create a Stockiest",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.stockiest=[],this.selectedFiles=[],this.dtOptions={},this.dtTrigger=new Kt.a}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getallstockiest()},e.prototype.addNewStockiest=function(){this.router.navigateByUrl("/stockiest/add")},e.prototype.getallstockiest=function(){var e=this;this.loading=!0,this.apiService.fetch("/api/stockiest/all").subscribe(function(t){200===t.status&&(t.data.length&&(e.stockiest=t.data,e.dtTrigger.next()),e.loading=!1)})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.open=function(e){var t=this;this.modalService.open(e).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.onFileSelected=function(e){this.selectedFiles=e.target.files},e.prototype.uploadStockiest=function(){for(var e=this,t=new FormData,n=0;n<this.selectedFiles.length;n++)t.append("file",this.selectedFiles[n]);console.log("Test 2===",t),this.loading=!0,$("#uploadstockiestid").attr("disabled",!0),this.apiService.upload("/api/stockiestImport",t).subscribe(function(t){200===t.status&&(e.loading=!1,e.closeResult="success",V.a.fire({icon:"success",title:"Stockiest Uploaded Successfully",showConfirmButton:!1,timer:1500}),e.modalService.dismissAll(),window.location.reload())})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W),a["\u0275\u0275directiveInject"](x.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-stockiest"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](r.a,1),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.dtElement=n.first)},decls:38,vars:10,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["content",""],["type","button",1,"btn-shadow","me-3","btn","btn-dark",3,"click"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[1,"border-right"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["type","file",1,"file-input",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","id","uploadstockiestid",1,"btn","btn-primary",3,"click"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"],[1,"border-bottom",2,"height","35px"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275template"](10,en,13,1,"ng-template",null,6,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](12,"button",7),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](11);return t.open(e)}),a["\u0275\u0275text"](13," Upload Stockiest "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",8),a["\u0275\u0275listener"]("click",function(){return t.addNewStockiest()}),a["\u0275\u0275element"](15,"fa-icon",9),a["\u0275\u0275text"](16," Create New Stockiest "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275elementStart"](20,"table",13),a["\u0275\u0275elementStart"](21,"thead"),a["\u0275\u0275elementStart"](22,"tr"),a["\u0275\u0275elementStart"](23,"th",14),a["\u0275\u0275text"](24,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",14),a["\u0275\u0275text"](26,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",14),a["\u0275\u0275text"](28,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",14),a["\u0275\u0275text"](30,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",14),a["\u0275\u0275text"](32,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",14),a["\u0275\u0275text"](34,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"tbody"),a["\u0275\u0275template"](36,tn,15,6,"tr",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](37,nn,4,0,"div",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("icon",t.faPlus),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),a["\u0275\u0275advance"](16),a["\u0275\u0275property"]("ngForOf",t.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loading))},directives:[_.a,r.a,b.l,b.m],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function rn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n," ")}}function on(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var ln=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Stockiest",this.subheading="Create a stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getuniqueplant(),this.createForm()},e.prototype.getuniqueplant=function(){var e=this;this.apiService.fetch("/api/stockiest/getdistinctplan").subscribe(function(t){200===t.status&&(e.plants=t.data)})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.stockiestForm=this.fb.group({organization:["",[o.v.required]],plant:[""],customerid:["",[o.v.required]],status:[""],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Organization is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),r?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/stockiest/add",this.stockiestForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-stockiest"]],decls:46,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Organization Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerid","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Organization Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,rn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",8),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",16),a["\u0275\u0275text"](39," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,on,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",25),a["\u0275\u0275elementStart"](43,"div",26),a["\u0275\u0275elementStart"](44,"button",27),a["\u0275\u0275text"](45,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.stockiestForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.l,o.r,o.t],styles:[""]}),e}();function sn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n," ")}}function dn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var cn=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Edit / Update Stockiest",this.subheading="Update a stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.records=[],this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.selectedStockiest=this.activatedRoute.snapshot.paramMap.get("stockiestId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getuniqueplant(),this.getData(),this.createForm()},e.prototype.getuniqueplant=function(){var e=this;this.apiService.fetch("/api/stockiest/getdistinctplan").subscribe(function(t){200===t.status&&(e.plants=t.data)})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/stockiest",this.selectedStockiest).subscribe(function(t){200===t.status&&(e.records=t.data,e.stockiestForm.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.stockiestForm.value.plant=e.records.plant,e.stockiestForm.controls.oldplantcode.setValue(e.records.plant,{onlySelf:!0}),e.stockiestForm.value.oldplantcode=e.records.plant,e.stockiestForm.controls.organization.setValue(e.records.organization,{onlySelf:!0}),e.stockiestForm.value.organization=e.records.organization,e.stockiestForm.controls.customerid.setValue(e.records.customerId,{onlySelf:!0}),e.stockiestForm.value.customerid=e.records.customerId,e.stockiestForm.controls.oldcustomerId.setValue(e.records.customerId,{onlySelf:!0}),e.stockiestForm.value.oldcustomerId=e.records.customerId,e.stockiestForm.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.stockiestForm.value.status=e.records.isActive,e.stockiestForm.controls._id.setValue(e.records._id,{onlySelf:!0}),e.stockiestForm.value._id=e.records._id)})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.stockiestForm=this.fb.group({_id:[this.selectedStockiest,[o.v.required]],organization:["",[o.v.required]],plant:[""],customerid:["",[o.v.required]],status:[""],oldplantcode:[this.records.plant,[o.v.required]],oldcustomerId:[this.records.newcustomerId,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;console.log("xxxxxxxxxx",this.stockiestForm.value),this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Organization is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),r?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/stockiest/edit",this.stockiestForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-stockiest"]],decls:46,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Organization Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerid","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Organization Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,sn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",8),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",16),a["\u0275\u0275text"](39," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,dn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",25),a["\u0275\u0275elementStart"](43,"div",26),a["\u0275\u0275elementStart"](44,"button",27),a["\u0275\u0275text"](45,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.stockiestForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.l,o.r,o.t],styles:[""]}),e}();function mn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.organization))}}function pn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function un(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function fn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",129),a["\u0275\u0275template"](1,pn,2,0,"span",108),a["\u0275\u0275template"](2,un,2,1,"span",108),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function vn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.organization))}}function hn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function gn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function bn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function yn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function xn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",130),a["\u0275\u0275element"](1,"img",131),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading...Please wait "),a["\u0275\u0275elementEnd"]())}function Sn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",130),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function _n(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1," Particulars"),a["\u0275\u0275elementEnd"]())}function En(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1," Category"),a["\u0275\u0275elementEnd"]())}function Cn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1," Supply Proof"),a["\u0275\u0275elementEnd"]())}function kn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1," Pur. Order"),a["\u0275\u0275elementEnd"]())}function wn(e,t){1&e&&a["\u0275\u0275element"](0,"div",157)}function In(e,t){1&e&&a["\u0275\u0275element"](0,"div",158)}function $n(e,t){1&e&&a["\u0275\u0275element"](0,"div",159)}function Dn(e,t){1&e&&a["\u0275\u0275element"](0,"div",160)}function Fn(e,t){1&e&&a["\u0275\u0275element"](0,"div",161)}function On(e,t){1&e&&a["\u0275\u0275element"](0,"div",162)}function Mn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",163),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Pn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",164),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Tn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",146),a["\u0275\u0275template"](1,wn,1,0,"div",147),a["\u0275\u0275template"](2,In,1,0,"div",148),a["\u0275\u0275template"](3,$n,1,0,"div",149),a["\u0275\u0275template"](4,Dn,1,0,"div",150),a["\u0275\u0275template"](5,Fn,1,0,"div",151),a["\u0275\u0275template"](6,On,1,0,"div",152),a["\u0275\u0275template"](7,Mn,1,1,"div",153),a["\u0275\u0275template"](8,Pn,1,1,"div",154),a["\u0275\u0275element"](9,"div",155),a["\u0275\u0275element"](10,"div",156),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ho1Status),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ho1Status),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Rn(e,t){1&e&&a["\u0275\u0275element"](0,"div",157)}function Nn(e,t){1&e&&a["\u0275\u0275element"](0,"div",158)}function jn(e,t){1&e&&a["\u0275\u0275element"](0,"div",159)}function An(e,t){1&e&&a["\u0275\u0275element"](0,"div",160)}function Bn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",163),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Qn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",164),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Un(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",146),a["\u0275\u0275template"](1,Rn,1,0,"div",147),a["\u0275\u0275template"](2,Nn,1,0,"div",148),a["\u0275\u0275template"](3,jn,1,0,"div",149),a["\u0275\u0275template"](4,An,1,0,"div",150),a["\u0275\u0275template"](5,Bn,1,1,"div",153),a["\u0275\u0275template"](6,Qn,1,1,"div",154),a["\u0275\u0275element"](7,"div",155),a["\u0275\u0275element"](8,"div",156),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Ln(e,t){1&e&&a["\u0275\u0275element"](0,"div",157)}function qn(e,t){1&e&&a["\u0275\u0275element"](0,"div",158)}function Yn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",163),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Vn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",164),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function zn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",146),a["\u0275\u0275template"](1,Ln,1,0,"div",147),a["\u0275\u0275template"](2,qn,1,0,"div",148),a["\u0275\u0275template"](3,Yn,1,1,"div",153),a["\u0275\u0275template"](4,Vn,1,1,"div",154),a["\u0275\u0275element"](5,"div",155),a["\u0275\u0275element"](6,"div",156),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Hn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",163),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Jn(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",164),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Gn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",146),a["\u0275\u0275template"](1,Hn,1,1,"div",153),a["\u0275\u0275template"](2,Jn,1,1,"div",154),a["\u0275\u0275element"](3,"div",155),a["\u0275\u0275element"](4,"div",156),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Zn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",166),a["\u0275\u0275elementStart"](1,"i",167),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](77);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function Wn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Zn,2,1,"span",165),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Kn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,n.mrp,"1.2-2")," ")}}function Xn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,n.mrp,"1.2-2")," ")}}function ei(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"span",168),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"img",169),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).showMrp(e.batchDetail,e.material,e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"input",170),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_batchMrp_",i._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](3,3,i.mrp,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","batchMrp_selected_",i._id,"")}}function ti(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"td",139),a["\u0275\u0275elementStart"](1,"div",171),a["\u0275\u0275elementStart"](2,"input",172),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).searchParticulars(e,t._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",173),a["\u0275\u0275element"](4,"i",174),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",175),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).particularsSelection(e,t._id)}),a["\u0275\u0275element"](6,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.particulars),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i._id,"")}}function ni(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"td",139),a["\u0275\u0275elementStart"](1,"div",171),a["\u0275\u0275elementStart"](2,"input",176),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).searchCategory(e,t._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",173),a["\u0275\u0275element"](4,"i",174),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",177),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).categorySelection(e,t._id)}),a["\u0275\u0275element"](6,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","category_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.category),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i._id,"")}}function ii(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",184),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function ai(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",185),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function ri(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",186),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function oi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",187),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function li(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",139),a["\u0275\u0275elementStart"](1,"div",178),a["\u0275\u0275elementStart"](2,"select",179),a["\u0275\u0275elementStart"](3,"option",57),a["\u0275\u0275text"](4," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,ii,2,0,"option",180),a["\u0275\u0275template"](6,ai,2,0,"option",181),a["\u0275\u0275template"](7,ri,2,0,"option",182),a["\u0275\u0275template"](8,oi,2,0,"option",183),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",173),a["\u0275\u0275element"](10,"i",174),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","sproof_",n._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sproof_loader_",n._id,"")}}function si(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",184),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function di(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",185),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function ci(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",186),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function mi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",187),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function pi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",190),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function ui(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",191),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function fi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",139),a["\u0275\u0275elementStart"](1,"div",178),a["\u0275\u0275elementStart"](2,"select",179),a["\u0275\u0275elementStart"](3,"option",57),a["\u0275\u0275text"](4," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,si,2,0,"option",180),a["\u0275\u0275template"](6,di,2,0,"option",181),a["\u0275\u0275template"](7,ci,2,0,"option",182),a["\u0275\u0275template"](8,mi,2,0,"option",183),a["\u0275\u0275template"](9,pi,2,0,"option",188),a["\u0275\u0275template"](10,ui,2,0,"option",189),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",173),a["\u0275\u0275element"](12,"i",174),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","porder_",n._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","porder_loader_",n._id,"")}}function vi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",192),a["\u0275\u0275elementStart"](1,"span",193),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",194),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function hi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",192),a["\u0275\u0275elementStart"](1,"span",193),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",194),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",195),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function gi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",192),a["\u0275\u0275elementStart"](1,"span",193),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",194),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function bi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",192),a["\u0275\u0275elementStart"](1,"span",193),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",194),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",195),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function yi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",196),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function xi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",136),a["\u0275\u0275elementStart"](1,"td",137),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",137),a["\u0275\u0275template"](4,Tn,11,10,"div",138),a["\u0275\u0275template"](5,Un,9,8,"div",138),a["\u0275\u0275template"](6,zn,7,6,"div",138),a["\u0275\u0275template"](7,Gn,5,4,"div",138),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",139),a["\u0275\u0275template"](9,Wn,2,1,"div",108),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",137),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",137),a["\u0275\u0275text"](14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",140),a["\u0275\u0275text"](16),a["\u0275\u0275pipe"](17,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"td",140),a["\u0275\u0275text"](19),a["\u0275\u0275pipe"](20,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"td",137),a["\u0275\u0275text"](22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",137),a["\u0275\u0275text"](24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",137),a["\u0275\u0275template"](26,Kn,3,4,"div",108),a["\u0275\u0275template"](27,Xn,3,4,"div",108),a["\u0275\u0275template"](28,ei,6,6,"div",108),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",137),a["\u0275\u0275elementStart"](30,"div",141),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",137),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",137),a["\u0275\u0275text"](37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",137),a["\u0275\u0275text"](39),a["\u0275\u0275pipe"](40,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"td",137),a["\u0275\u0275text"](42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"td",137),a["\u0275\u0275text"](44),a["\u0275\u0275pipe"](45,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",137),a["\u0275\u0275text"](47),a["\u0275\u0275pipe"](48,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"td",137),a["\u0275\u0275text"](50),a["\u0275\u0275pipe"](51,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](52,ti,7,4,"td",142),a["\u0275\u0275template"](53,ni,7,4,"td",142),a["\u0275\u0275template"](54,li,11,6,"td",142),a["\u0275\u0275template"](55,fi,13,8,"td",142),a["\u0275\u0275elementStart"](56,"td",143),a["\u0275\u0275template"](57,vi,3,0,"span",144),a["\u0275\u0275template"](58,hi,4,0,"span",144),a["\u0275\u0275template"](59,gi,3,0,"span",144),a["\u0275\u0275template"](60,bi,4,0,"span",144),a["\u0275\u0275template"](61,yi,1,0,"img",145),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&"ho1"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,33,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](17,35,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](20,37,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batchDetail[0].material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho1"===r.sessionData.workType||"field"===r.sessionData.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!("ho"!==r.sessionData.type||null!==r.sessionData.workType&&""!==r.sessionData.workType||n.batchDetail[0].mrp2||n.batchDetail[0].mrp3||n.batchDetail[0].mrp4)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)&&(n.batchDetail[0].mrp2||n.batchDetail[0].mrp3||n.batchDetail[0].mrp4)),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,39,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,42,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](40,45,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](45,48,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](48,51,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](51,54,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",1===n.hoStatus&&"ho"===r.sessionData.type&&"ho1"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus&&"ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus&&"field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function Si(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",10),a["\u0275\u0275elementStart"](1,"div",132),a["\u0275\u0275elementStart"](2,"div",133),a["\u0275\u0275elementStart"](3,"table",62),a["\u0275\u0275elementStart"](4,"tr"),a["\u0275\u0275elementStart"](5,"th",63),a["\u0275\u0275text"](6,"SNo."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",63),a["\u0275\u0275text"](8,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",63),a["\u0275\u0275text"](10,"Attachment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",63),a["\u0275\u0275text"](12,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",63),a["\u0275\u0275text"](14,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",63),a["\u0275\u0275text"](16,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",63),a["\u0275\u0275text"](18,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",63),a["\u0275\u0275text"](20,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",63),a["\u0275\u0275text"](22,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",63),a["\u0275\u0275text"](24,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",63),a["\u0275\u0275text"](26,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",63),a["\u0275\u0275text"](28,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",63),a["\u0275\u0275text"](30,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",63),a["\u0275\u0275text"](32,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",63),a["\u0275\u0275text"](34,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"th",63),a["\u0275\u0275text"](36,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"th",63),a["\u0275\u0275text"](38,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"th",63),a["\u0275\u0275text"](40,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,_n,2,0,"th",134),a["\u0275\u0275template"](42,En,2,0,"th",134),a["\u0275\u0275template"](43,Cn,2,0,"th",134),a["\u0275\u0275template"](44,kn,2,0,"th",134),a["\u0275\u0275elementStart"](45,"th",63),a["\u0275\u0275text"](46,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](47,xi,62,57,"tr",135),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](41),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function _i(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",197),a["\u0275\u0275elementStart"](1,"div",198),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function Ei(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",205),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function Ci(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",206),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function ki(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",119),a["\u0275\u0275elementStart"](1,"h4",120),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",199),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",49),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",200),a["\u0275\u0275template"](7,Ei,1,2,"pdf-viewer",201),a["\u0275\u0275template"](8,Ci,1,2,"img",202),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",122),a["\u0275\u0275elementStart"](10,"button",203),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",204),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function wi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",119),a["\u0275\u0275elementStart"](1,"h4",120),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",199),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",49),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",207),a["\u0275\u0275elementStart"](7,"input",208,209),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",122),a["\u0275\u0275elementStart"](10,"button",210),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",204),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}function Ii(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function $i(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Di(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Fi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Oi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Mi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function Pi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function Ti(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function Ri(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function Ni(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function ji(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",212),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}function Ai(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",213),a["\u0275\u0275elementStart"](1,"td",143),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",143),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",143),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",143),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distInvoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distInvQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distRemnQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.totalSaleQuantity)}}function Bi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",112),a["\u0275\u0275text"](1,"Distributor"),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3,"Invoice No."),a["\u0275\u0275elementEnd"]())}function Qi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",112),a["\u0275\u0275text"](1,"Distributor"),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3,"Invoice QTY."),a["\u0275\u0275elementEnd"]())}function Ui(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",143),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.allotedHoInvoiceQty[0].distInvoice)}}function Li(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",143),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.allotedHoInvoiceQty[0].distInvQty)}}function qi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",213),a["\u0275\u0275template"](1,Ui,2,1,"td",214),a["\u0275\u0275template"](2,Li,2,1,"td",214),a["\u0275\u0275elementStart"](3,"td",143),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",143),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",143),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",143),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoiceQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkRemnQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.totalSaleQuantity)}}function Yi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",211),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",211),a["\u0275\u0275element"](4,"input",215),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",211),a["\u0275\u0275text"](6),a["\u0275\u0275pipe"](7,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",211),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate"]("value",i),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](7,4,n.mrp,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](10,7,n.pts,"1.2-2")," ")}}var Vi=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Approval",this.subheading="To approve the claim sent by the stockist.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.categories=[],this.particulars=[],this.clickedFile=[],this.batchPrices=[],this.tempRecords=[],this.sessionData="",this.selectedFields=[],this.divisions_edit=[],this.alignedStockiest=[],this.pdfSource="",this.salesAndRemainings=[],this.allotedInvoiceQty=[],this.allotedHoInvoiceQty=[],this.allotedQty=0,this.hoAllotedQty=0,this.requestedQty=0,this.displayStyle="none",this.approvalClickedClaim=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.heading="ho"===this.sessionData.type?"HO Approval":"Field Approval",this.delay(1e3).then(function(t){var n=xe().format("MM");e.currentMonth=parseInt(n);var i=xe().format("YYYY");e.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)e.years.push({id:a,name:a});parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#type").val("scheme"),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),e.selectedFields.month=e.selectedMonth,e.selectedFields.year=e.selectedYear,e.selectedFields.division=0,e.selectedFields.type=0}),this.getDistributors(),this.getParticulars(),this.getCategories(),this.getProduct(),this.getBatch(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e,t){$("#err_month").hide(),this.selectedFields.month>this.currentMonth&&this.selectedFields.year>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e,t)},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?this.getUserDistStockistDivision():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.delay(500).then(function(t){e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()}))})},e.prototype.getStockiest=function(){var e=this,t=[],n=this.selectedFields.distributor,i=this.userPlantStockists[n];i.forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,i.includes(n.toString())&&e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getData())})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[],this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data,e.divisions_edit=t.data)})},e.prototype.getStockiest_edit=function(){var e=this,t=[],n=$("#edit_distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.getDivisions_edit(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#edit_stockiest").val($("#edit_stockiest option:eq(1)").val())}))})},e.prototype.getDivisions_edit=function(){var e=this,t=[];this.divisions=[];var n=$("#edit_distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions_edit=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[];var t=[];this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/claimForApproval",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,divisions:t,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(t){200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,(e.selectedFields.type||e.selectedFields.division)&&e.filterDataTwice(e.selectedFields.type,e.selectedFields.division),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e,t){var n=this;this.loading=!0,this.showData=!0,this.selectedFields[t]="type"===t?e:parseInt(e),$("#divisionCode").text(""),"distributor"===t&&(this.selectedFields.type=0,this.selectedFields.division=0,this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){n.getData()})),"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type=0,this.selectedFields.division=0,this.getData()),console.log("this.selectedFields--",this.selectedFields);var i=this.selectedFields.type,a=this.selectedFields.division;if(a){var r=this.divisions.filter(function(e){return e.division==Number(a)})[0].division;$("#divisionCode").text("("+r+")")}i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionId===Number(a)}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionId===Number(a)}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(),V.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:xe().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.searchParticulars=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a,r=this;return Object(c.d)(this,function(o){switch(o.label){case 0:return n=e.currentTarget.value,i=-1===t?"def":t,"Tab"==e.key?[3,4]:(console.log("inputVal.length--",n.length),n.length>2?($("#particulars_loader_"+i).show(),[4,this.matchParticulars(n,t)]):[3,2]);case 1:return a=o.sent(),console.log("results--",a),this.delay(200).then(function(e){console.log("results2--",a),r.particularsSuggestions(a,n,t)}),[3,3];case 2:$("#particulars_suggestion_"+i).hide(),o.label=3;case 3:return[3,5];case 4:n.length<=0&&($("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()),o.label=5;case 5:return[2]}})})},e.prototype.matchParticulars=function(e,t){var n=this,i=e.toLowerCase();return this.apiService.get("/api/particulars",i).subscribe(function(e){n.particulars=200===e.status&&e.data.length?e.data:[]}),this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(i)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#particulars_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#particulars_"+i).val(""):1==r.length?($("#particulars_"+i).val(r[0].input),$("#particulars_suggestion_"+i).hide()):(a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show()),$("#particulars_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide(),$("#particulars_loader_"+n).hide()},e.prototype.getCategories=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.categories=t.data)})},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.categories.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#category_"+i).val(""):1==r.length?$("#category_"+i).val(r[0].input):(a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show()),$("#category_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide()},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide(),$("#category_loader_"+n).show()},e.prototype.searchDivision=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_division_id").val(""),$("#edit_product").val(""),$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_division_loader").show(),t=this.matchDivision(i),this.delay(10).then(function(e){n.divisionSuggestions(t,i)})):$("#edit_division_suggestion").hide()},e.prototype.matchDivision=function(e){var t=e.toLowerCase();return this.divisions_edit.filter(function(e){return e.name.toLowerCase().indexOf(t)>-1})},e.prototype.divisionSuggestions=function(e,t){var n=document.querySelector("#edit_division_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.name.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_division_suggestion").show(),$("#edit_division_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide(),$("#edit_division_loader").hide())},e.prototype.divisionSelection=function(e){var t,n=document.querySelector("#edit_division_suggestion ul");$("#edit_division").val(e.target.innerText),(t=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",t),$("#edit_division_id").val("")):$("#edit_division_id").val(t[0].division),n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide()},e.prototype.searchProduct=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_product_loader").show(),t=this.matchProduct(i),this.delay(10).then(function(e){n.productSuggestions(t,i)})):$("#edit_product_suggestion").hide()},e.prototype.matchProduct=function(e){var t=e.toLowerCase(),n=$("#edit_division_id").val();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(t)>-1&&e.division===Number(n)})},e.prototype.productSuggestions=function(e,t){var n=document.querySelector("#edit_product_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.materialName.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_product_suggestion").show(),$("#edit_product_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_product_suggestion").hide(),$("#edit_product_loader").hide())},e.prototype.productSelection=function(e){var t=[];t=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var n="";t.length>1?t.forEach(function(e,i){n+=i+1==t.length?e.material:e.material+","}):n=t[0].material;var i=document.querySelector("#edit_product_suggestion ul");i.innerHTML="",i.classList.remove("has-suggestions"),$("#edit_product").val(e.target.innerText),$("#edit_material").val(n),$("#edit_product_suggestion").hide()},e.prototype.searchBatch=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_batch_loader").show(),t=this.matchBatch(i),this.delay(10).then(function(e){n.batchSuggestions(t,i)})):$("#edit_batch_suggestion").hide()},e.prototype.matchBatch=function(e){var t=this,n=e.toLowerCase(),i=$("#edit_division_id").val(),a=$("#edit_material").val().split(","),r=[];return a.forEach(function(e){var a;(a=t.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(i)&&t.batch.toLowerCase().indexOf(n)>-1})).length&&r.push(a)}),r},e.prototype.batchSuggestions=function(e,t){var n=document.querySelector("#edit_batch_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){e.forEach(function(e){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(n.innerHTML+="<li>"+i.input+"</li>")})}),n.classList.add("has-suggestions"),$("#edit_batch_suggestion").show(),$("#edit_batch_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide(),$("#edit_batch_loader").hide())},e.prototype.batchSelection=function(e){var t=document.querySelector("#edit_batch_suggestion ul");$("#edit_batch").val(e.target.innerText),t.innerHTML="",t.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide();var n=this.batches.filter(function(t){return t.batch===e.target.innerText}),i=n.length?n[0].mrp:0,a=n.length?n[0].pts:0,r=n.length?n[0].ptr:0,o=n.length?n[0].ptd:0,l=n.length?n[0].material:"";$("#edit_material").val(l),$("#edit_mrp").val(i.toFixed(2)),$("#edit_pts").val(a.toFixed(2)),$("#edit_ptr").val(r.toFixed(2)),$("#edit_ptd").val(o.toFixed(2))},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.validateFoApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i;return Object(c.d)(this,function(a){switch(a.label){case 0:return n="",this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=a.sent()){if("field"===this.sessionData.type&&"field"===this.sessionData.workType&&0!=i.suhStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("field"===this.sessionData.type&&"suh"===this.sessionData.workType&&0!=i.hoStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t){if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(1===i.ftStatus)return V.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.ftStatus=1,i.ftApprovalComment=null,i.ftActionBy=this.sessionData.id,i.ftActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error"),[2];if(1===i.suhStatus)return V.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.suhStatus=1,i.suhApprovalComment=null,i.suhActionBy=this.sessionData.id,i.suhActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>"}else if("Unapprove"===t)if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(2===i.ftStatus)return V.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.ftStatus=2,i.ftActionBy=this.sessionData.id,i.ftActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.suhStatus)return V.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.suhStatus=2,i.suhActionBy=this.sessionData.id,i.suhActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}}else n+="Clam doesn't exists.<br>";return n?V.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}):"Unapprove"===t?($("#comments").val(""),this.approvalClickedClaim=i,document.getElementById("myModalComment").style.display="block"):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(n){200===n.status?"Approve"===t&&($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).show(),$("#unapprovedIcon_"+e._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Oops","Something went wrong please try again.","error")}),[2]}})})},e.prototype.validateApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a,r,o,l,s,d,m,p,u,f,v=this;return Object(c.d)(this,function(h){switch(h.label){case 0:return n="",this.allotedQty=0,this.allotedInvoiceQty=[],this.salesAndRemainings=[],this.allotedHoInvoiceQty=[],this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(!(i=h.sent()))return V.a.fire("Sorry","Clam doesn't exists.","error"),[2];if("ho"===this.sessionData.type&&"ho1"!=this.sessionData.workType&&0!=i.ho1Status)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t)if("ho"===this.sessionData.type&&"ho1"===this.sessionData.workType){if(1===i.ho1Status)return V.a.fire("Oops... can't proceed","This claim has already been approved.","error"),[2]}else{if(1===i.hoStatus)return V.a.fire("Oops... can't proceed","This claim has already been approved.","error"),[2];if(0==$("#batchMrp_selected_"+e._id).val())return V.a.fire("Oops... can't proceed","There is more than one price in this batch.<br>Please confirm price first.","error"),[2];a=!1,r=!1,i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>",(o=$("#particulars_"+e._id).val())?(this.particulars.forEach(function(e){o!==e.name||(r=!0)}),r?i.particulars=o:n+="Particulars not matched.<br>"):n+="Enter particulars.<br>",(l=$("#category_"+e._id).val())?(this.categories.forEach(function(e){l!==e.name||(a=!0)}),a?i.category=l:n+="Category not matched.<br>"):n+="Enter category.<br>",(m=$("#sproof_"+e._id).val())?i.supplyProof=m:n+="Select supply proof.<br>",(p=$("#porder_"+e._id).val())?i.purchaseOrder=p:n+="Select purchase order.<br>"}else if("Unapprove"===t)if("ho"===this.sessionData.type&&"ho1"===this.sessionData.workType){if(2===i.ho1Status)return V.a.fire("Oops... can't proceed","This claim has already been unapproved.","error"),[2];i.ho1Status=2,i.ho1ActionBy=this.sessionData.id,i.ho1ActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else{if(2===i.hoStatus)return V.a.fire("Oops... can't proceed","This claim has already been unapproved.","error"),[2];s=$("#particulars_"+e._id).val(),i.particulars=s,d=$("#category_"+e._id).val(),i.category=d,m=$("#sproof_"+e._id).val(),i.supplyProof=m,p=$("#porder_"+e._id).val(),i.purchaseOrder=p,i.hoStatus=2,i.hoActionBy=this.sessionData.id,i.hoActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}return n?(V.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}),[3,7]):[3,2];case 2:return this.approvalClickedClaim=i,"Unapprove"!==t?[3,3]:($("#comments").val(""),document.getElementById("myModalComment").style.display="block",[3,7]);case 3:return[4,this.checkDuplicacy(this.approvalClickedClaim)];case 4:return u=h.sent(),console.log("duplicacy--",u),u.data&&1===u.data.ho1Status?(V.a.fire({title:"Pay attention",text:"Such claim has already been accepted!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(v,void 0,void 0,function(){var t,n,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return e.value?[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)]:[3,2];case 1:return t=r.sent(),"ho1"===this.sessionData.workType&&t.length?(n={_id:i._id,ho1Status:1,ho1ApprovalComment:null,ho1ActionBy:this.sessionData.id,ho1ActionOn:xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")},this.apiService.post("/api/claim/updateClaim",n).subscribe(function(e){200===e.status?V.a.fire("Approved!","You approved the claim successfully.","success"):V.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+i._id).hide(),$("#def_unapprovedIcon_"+i._id).hide(),$("#approvedIcon_"+i._id).show(),$("#unapprovedIcon_"+i._id).hide()})):(t.length&&t.forEach(function(e){return Object(c.b)(a,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?a.getRemaining(i):V.a.fire("Oops","Something went wrong please try again.","error")})),[3,3];case 2:e.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),r.label=3;case 3:return[2]}})})}),[2]):[3,5];case 5:return[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)];case 6:f=h.sent(),console.log("allocatedQty------------",f),f.length?(console.log("==================================",i),"ho1"===this.sessionData.workType?(i.ho1Status=1,i.ho1ActionBy=this.sessionData.id,i.ho1ActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+v.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+v.approvalClickedClaim._id).hide(),$("#approvedIcon_"+v.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+v.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Oops","Something went wrong please try again.","error")})):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?v.getRemaining(i):V.a.fire("Oops","Something went wrong please try again.","error")})):(console.log("---------------------------------------",i),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?v.getRemaining(i):V.a.fire("Oops","Something went wrong please try again.","error")})),h.label=7;case 7:return[2]}})})},e.prototype.checkDuplicacy=function(e){var t=this,n={plant:e.plant,batch:e.batch,invoice:e.invoice,material:e.material,customerId:e.customerId};return new Promise(function(e){t.apiService.post("/api/claim/checkDuplicacy",n).subscribe(function(t){e(200===t.status?t:[])})})},e.prototype.findUpdateRemaining=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/remaining/findUpdateRemaining",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.findUpdateHoRemaining=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/remaining/findUpdateHoRemaining",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getRemaining=function(e){return Object(c.b)(this,void 0,void 0,function(){var t,n,i,a,r,o,l,s=this;return Object(c.d)(this,function(d){switch(d.label){case 0:return console.log("demand--",e),this.allotedHoInvoiceQty=[],t=[],[4,this.getDistributorByPlant(e.plant)];case 1:return(n=d.sent()).length&&n.forEach(function(e){t.push(e.customerId)}),1!==e.customerId?[3,3]:(i=0,[4,this.hoInvoice({customerId:{$in:t},batch:e.batch})]);case 2:return r=d.sent(),console.log("hoInvoice--",r),r[0].length?(r[0].forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,a,r,o,l;return Object(c.d)(this,function(s){return console.log("hoRemaining--",t),i>=e.saleQuantity?(console.log("Break foreach"),[2]):(console.log("Break foreach else"),a=e.saleQuantity-i,r=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit,console.log(a,r),i+=n=r>=e.saleQuantity?a:a>=r?r:a,l={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:t.billDocNumber,distInvQty:t.saleUnit,stkInvoice:"",stkInvoiceQty:"",distRemnQty:r-n,stkRemnQty:"",hdnStkRemnQty:r,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:o=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*o/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*o/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},console.log("claimData--",l),this.allotedHoInvoiceQty.push(l),[2])})})}),this.allotedHoInvoiceQty&&(this.hoAllotedQty=i,this.requestedQty=e.saleQuantity,this.openSelfPopup())):V.a.fire("Oops... can't proceed","The distributor has no stock of this batch/material.","error"),[3,6];case 3:return a=0,[4,this.hoInvoice({customerId:{$in:t},batch:e.batch})];case 4:return(r=d.sent())[0].forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,i,r,o,l;return Object(c.d)(this,function(s){return a>=e.saleQuantity?(console.log("Break foreach"),[2]):(console.log("Break foreach else"),n=0,i=e.saleQuantity-a,(r=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit)&&(n=r>=e.saleQuantity?i:i>=r?r:i),a+=n,l={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:t.billDocNumber,distInvQty:t.saleUnit,stkInvoice:"",stkInvoiceQty:"",distRemnQty:r-n,stkRemnQty:"",hdnStkRemnQty:r,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:o=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*o/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*o/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},this.allotedHoInvoiceQty.push(l),[2])})})}),[4,this.salesAndRemainingQuantity({customerId:e.customerId,batch:e.batch})];case 5:o=d.sent(),console.log("salesAndRemainingQuantity--",o),o.length?(l=0,this.salesAndRemainings.push(o),o.forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,i,a,r,o;return Object(c.d)(this,function(s){return l>=e.saleQuantity?(console.log("Break foreach"),[2]):(i=e.saleQuantity-l,a=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit,console.log("requiredQty--",i,a),l+=n=a>=e.saleQuantity?i:i>=a?a:i,o={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:t.billDocNumber,stkInvoiceQty:t.saleUnit,stkRemnQty:a-n,hdnStkRemnQty:a,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:r=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*r/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*r/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},this.allotedInvoiceQty.push(o),[2])})})}),a<=0&&(this.allotedHoInvoiceQty=[],$("#stockistMod").css("width","515px"),console.log("this.allotedHoInvoiceQty--",this.allotedHoInvoiceQty)),this.allotedInvoiceQty&&(this.allotedQty=l,this.requestedQty=e.saleQuantity,this.openPopup())):V.a.fire("Oops... can't proceed","The stockist has no stock of this batch/material.","error"),console.log("allotedInvoiceQty---",this.allotedInvoiceQty),d.label=6;case 6:return[2]}})})},e.prototype.hoInvoice=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/ho/invoice",e).subscribe(function(e){n(200===e.status&&e.data?[e.data]:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getDistributorByPlant=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getCustomer",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getClaimById=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getClaim",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data[0]:[])})})},e.prototype.openPopup=function(){this.displayStyle="block"},e.prototype.closePopup=function(){this.displayStyle="none"},e.prototype.openSelfPopup=function(){document.getElementById("modalSelf").style.display="block"},e.prototype.closeSelfPopup=function(){document.getElementById("modalSelf").style.display="none"},e.prototype.approveSelf=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return this.requestedQty>this.hoAllotedQty?(V.a.fire({title:"Are you sure want to approve?",text:"Only "+this.hoAllotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(a,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return e.value?[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)]:[3,2];case 1:return t.sent(),this.closeSelfPopup(),[3,3];case 2:e.dismiss===V.a.DismissReason.cancel&&(V.a.fire("Cancelled","Your record is safe :)","error"),this.closeSelfPopup()),t.label=3;case 3:return[2]}})})}),[3,3]):[3,1];case 1:return[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)];case 2:r.sent(),e=0,t=this.approvalClickedClaim.pts,n=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?e=t*this.hoAllotedQty:n&&(e=(t-(i=this.approvalClickedClaim.billingRate)+i*this.approvalClickedClaim.margin/100)*this.hoAllotedQty),this.approvalClickedClaim.approvedQty=this.hoAllotedQty,this.approvalClickedClaim.approvedAmount=e,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+a.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+a.approvalClickedClaim._id).hide(),$("#approvedIcon_"+a.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+a.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closeSelfPopup(),r.label=3;case 3:return[2]}})})},e.prototype.allocateHoQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateHoQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.approve=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return this.requestedQty>this.allotedQty?(V.a.fire({title:"Are you sure want to approve?",text:"Only "+this.allotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(a,void 0,void 0,function(){var t,n,i,a,r=this;return Object(c.d)(this,function(o){switch(o.label){case 0:return e.value?[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)]:[3,3];case 1:return o.sent(),[4,this.allocateQuantity(this.allotedInvoiceQty)];case 2:return o.sent(),t=0,n=this.approvalClickedClaim.pts,i=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?t=n*this.allotedQty:i&&(t=(n-(a=this.approvalClickedClaim.billingRate)+a*this.approvalClickedClaim.margin/100)*this.allotedQty),this.approvalClickedClaim.approvedQty=this.allotedQty,this.approvalClickedClaim.approvedAmount=t,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),console.log("this.approvalClickedClaim--",this.approvalClickedClaim),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+r.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+r.approvalClickedClaim._id).hide(),$("#approvedIcon_"+r.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+r.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),[3,4];case 3:e.dismiss===V.a.DismissReason.cancel&&(V.a.fire("Cancelled","Your record is safe :)","error"),this.closePopup()),o.label=4;case 4:return[2]}})})}),[3,4]):[3,1];case 1:return[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)];case 2:return r.sent(),[4,this.allocateQuantity(this.allotedInvoiceQty)];case 3:r.sent(),e=0,t=this.approvalClickedClaim.pts,n=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?e=t*this.allotedQty:n&&(e=(t-(i=this.approvalClickedClaim.billingRate)+i*this.approvalClickedClaim.margin/100)*this.allotedQty),this.approvalClickedClaim.approvedQty=this.allotedQty,this.approvalClickedClaim.approvedAmount=e,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),console.log("this.approvalClickedClaim--",this.approvalClickedClaim),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+a.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+a.approvalClickedClaim._id).hide(),$("#approvedIcon_"+a.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+a.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),r.label=4;case 4:return[2]}})})},e.prototype.allocateQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getAllocatedQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.allocatedHoQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedHoQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.editRecord=function(e){return Object(c.b)(this,void 0,void 0,function(){var t;return Object(c.d)(this,function(n){switch(n.label){case 0:return[4,this.getClaimById(e._id)];case 1:if(t=n.sent(),"field"===this.sessionData.type&&"field"===this.sessionData.workType){if(0!=t.suhStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2]}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0!=t.hoStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2]}else if("ho"===this.sessionData.type){if(0!=t.ho1Status)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];1===t.hoStatus&&V.a.fire("Sorry","You have accepted this claim, if you update it you will need to accept or reject this claim again.","info")}return $("#edit_id").val(e._id),$("#edit_distributor").val(e.plant),$("#edit_stockiest").val(e.customerId),$("#edit_type").val(e.claimType),$("#edit_month").val(e.claimMonth),$("#edit_year").val(e.claimYear),$("#edit_invoice").val(e.invoice),$("#edit_batch").val(e.batch),$("#edit_division").val(e.divisionName),$("#edit_product").val(e.materialName),$("#edit_material").val(e.batchDetail[0].material),$("#edit_mrp").val(e.mrp),$("#edit_pts").val(e.pts),$("#edit_billingRate").val(e.billingRate),$("#edit_margin").val(e.margin),$("#edit_freeQuantity").val(e.freeQuantity),$("#edit_saleQuantity").val(e.saleQuantity),$("#edit_difference").val(e.difference),$("#edit_totalDifference").val(e.totalDifference),$("#edit_amount").val(e.amount),$("#edit_hoStatus").val(e.hoStatus),document.getElementById("myModal").style.display="block",this.validateClaim(),[2]}})})},e.prototype.closeEditModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModal").style.display="none"},e.prototype.closeCommentModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModalComment").style.display="none"},e.prototype.rejectClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i=this;return Object(c.d)(this,function(a){switch(a.label){case 0:return(e=$.trim($("#comments").val()))?"field"!==this.sessionData.type||"field"!==this.sessionData.workType?[3,1]:(this.approvalClickedClaim.ftApprovalComment=e,[3,6]):[3,7];case 1:return"field"!==this.sessionData.type||"suh"!==this.sessionData.workType?[3,2]:(this.approvalClickedClaim.suhApprovalComment=e,[3,6]);case 2:return"ho"!==this.sessionData.type?[3,6]:("ho1"===this.sessionData.workType?this.approvalClickedClaim.ho1ApprovalComment=e:this.approvalClickedClaim.hoApprovalComment=e,this.approvalClickedClaim.approvedAmount=0,this.approvalClickedClaim.approvedQty=0,1!==this.approvalClickedClaim.customerId?[3,4]:[4,this.allocatedHoQuantity(this.approvalClickedClaim._id)]);case 3:return(t=a.sent()).length&&t.forEach(function(e){return Object(c.b)(i,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateHoRemaining({billDocNumber:e.distInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),[3,6];case 4:return[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)];case 5:(n=a.sent()).length&&n.forEach(function(e){return Object(c.b)(i,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),a.label=6;case 6:return this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?V.a.fire("Un-Approved!","You un-approved the claim successfully.","success"):V.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+i.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+i.approvalClickedClaim._id).hide(),$("#approvedIcon_"+i.approvalClickedClaim._id).hide(),$("#unapprovedIcon_"+i.approvalClickedClaim._id).show(),i.closeCommentModal()}),[3,8];case 7:V.a.fire("Sorry","Please write the reason for rejection.","error"),a.label=8;case 8:return[2]}})})},e.prototype.closeUpdateCommentModal=function(){document.getElementById("updateModalComment").style.display="none"},e.prototype.updateCommentClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o=this;return Object(c.d)(this,function(l){switch(l.label){case 0:return(e=$.trim($("#update_comments").val()))?(t=$("#edit_id").val(),n=$("#edit_stockiest").val(),i=$("#edit_batch").val(),a={_id:t,plant:$("#edit_distributor").val(),customerId:n,claimType:$("#edit_type").val(),claimMonth:$("#edit_month").val(),claimYear:$("#edit_year").val(),invoice:$("#edit_invoice").val(),batch:i,divisionName:$("#edit_division").val(),material:$("#edit_material").val(),materialName:$("#edit_product").val(),mrp:$("#edit_mrp").val(),pts:$("#edit_pts").val(),ptr:$("#edit_ptr").val(),ptd:$("#edit_ptd").val(),billingRate:$("#edit_billingRate").val(),margin:$("#edit_margin").val(),freeQuantity:$("#edit_freeQuantity").val(),saleQuantity:$("#edit_saleQuantity").val(),difference:$("#edit_difference").val(),totalDifference:$("#edit_totalDifference").val(),amount:$("#edit_amount").val()},"field"===this.sessionData.type&&"field"===this.sessionData.workType?(a.ftUpdateComment=e,a.ftActionBy=this.sessionData.id,a.ftActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):"field"===this.sessionData.type&&"suh"===this.sessionData.workType?(a.suhUpdateComment=e,a.suhActionBy=this.sessionData.id,a.suhActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(a.hoUpdateComment=e,a.hoActionBy=this.sessionData.id,a.hoActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),1!=$("#edit_hoStatus").val()?[3,2]:(a.hoStatus=0,a.approvedQty=0,a.approvedAmount=0,[4,this.getAllocatedQuantity(t)])):[3,3];case 1:(r=l.sent()).length&&r.forEach(function(e){return Object(c.b)(o,void 0,void 0,function(){return Object(c.d)(this,function(a){switch(a.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:n,batch:i,allocatedQty:e.allocatedQty,claimId:t})];case 1:return a.sent(),[2]}})})}),l.label=2;case 2:return this.apiService.post("/api/claim/updateClaim",a).subscribe(function(e){200===e.status?(o.toast("success","Successfully updated."),o.getData(),setTimeout(function(){o.closeUpdateCommentModal(),o.closeEditModal()},2e3)):o.toast("error","Something went wrong. Try refreshing the page or try again later.")}),[3,4];case 3:V.a.fire("Sorry","Please write the reason for update.","error"),l.label=4;case 4:return[2]}})})},e.prototype.changeCalculation=function(e){$("#edit_freeQuantity").attr("readonly",!1),$("#edit_billingRate").removeClass("grf-invalid"),$("#edit_freeQuantity").removeClass("grf-invalid"),$("#edit_saleQuantity").removeClass("grf-invalid");var t=$("#edit_billingRate").val(),n=$("#edit_freeQuantity").val(),i=$("#edit_saleQuantity").val(),a=/^\d*\.?\d*$/;if(a.test(t)||$("#edit_billingRate").addClass("grf-invalid"),a.test(n)||$("#edit_freeQuantity").addClass("grf-invalid"),a.test(i)||$("#edit_saleQuantity").addClass("grf-invalid"),0==t)if($("#edit_margin").val(0),n){var r=$("#edit_pts").val()*n;$("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(r.toFixed(2))}else $("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(Number(0).toFixed(2));else if($("#edit_freeQuantity").val(""),$("#edit_freeQuantity").attr("readonly",!0),t&&i){""!=$("#edit_margin").val()&&0!=$("#edit_margin").val()||$("#edit_margin").val(10);var o=$("#edit_margin").val(),l=$("#edit_pts").val()-t,s=l+t*o/100;r=s*i,$("#edit_difference").val(l.toFixed(2)),$("#edit_totalDifference").val(s.toFixed(2)),$("#edit_amount").val(r.toFixed(2))}},e.prototype.validateClaim=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass");var e=0,t=$("#edit_stockiest").val(),n=$("#edit_type").val(),i=$("#edit_month").val(),a=$("#edit_year").val(),r=$("#edit_invoice").val(),o=$("#edit_batch").val(),l=$("#edit_division").val(),s=$("#edit_product").val(),d=$("#edit_material").val(),c=$("#edit_mrp").val(),m=$("#edit_pts").val(),p=$("#edit_billingRate").val(),u=$("#edit_freeQuantity").val(),f=$("#edit_amount").val();t||(e=1,$("#edit_stockiest").addClass("errorClass")),n||(e=1,$("#edit_type").addClass("errorClass")),i||(e=1,$("#edit_month").addClass("errorClass")),a||(e=1,$("#edit_year").addClass("errorClass")),r||(e=1,$("#edit_invoice").addClass("errorClass")),o||(e=1,$("#edit_batch").addClass("errorClass")),l||(e=1,$("#edit_batch").addClass("errorClass")),s||(e=1,$("#edit_batch").addClass("errorClass")),d||(e=1,$("#edit_batch").addClass("errorClass")),c||(e=1,$("#edit_batch").addClass("errorClass")),m||(e=1),p<0&&(e=1,$("#edit_batch").addClass("errorClass"),$("#edit_billingRate").addClass("errorClass")),f<=0&&(e=1,$("#edit_amount").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),$("#edit_error").val(e)},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.updateClaim=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(e){return this.validateClaim(),0!=$("#edit_error").val()?this.toast("error","Something is wrong please fix before updating."):($("#update_comments").val(""),document.getElementById("updateModalComment").style.display="block"),[2]})})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){this.clickedRecord=e,document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.showMrp=function(e,t,n){var i=this;$("#batchMrp_id").val(""),this.batchPrices=[],e.forEach(function(e){e.material===t&&(i.batchPrices.push({mrp:e.mrp,pts:e.pts}),e.mrp2&&i.batchPrices.push({mrp:e.mrp2,pts:e.pts2}),e.mrp3&&i.batchPrices.push({mrp:e.mrp3,pts:e.pts3}),e.mrp4&&i.batchPrices.push({mrp:e.mrp4,pts:e.pts4}))}),$("#batchMrp_id").val(n),document.getElementById("modalBatchPrice").style.display="block"},e.prototype.closeBatchPriceModal=function(){document.getElementById("modalBatchPrice").style.display="none"},e.prototype.confirmBatchPrice=function(){var e=this,t=$("#batchMrp_id").val(),n=$('input[name="batchMrp"]:checked').val();this.apiService.post("/api/claim/updateClaim",{_id:t,mrp:this.batchPrices[n].mrp,pts:this.batchPrices[n].pts}).subscribe(function(i){200===i.status?($("#err_batchMrp_"+t).text(parseFloat(e.batchPrices[n].mrp).toFixed(2)),$("#pts_"+t).text(parseFloat(e.batchPrices[n].pts).toFixed(2)),$("#batchMrp_selected_"+t).val(1),e.closeBatchPriceModal(),V.a.fire("MRP PTS","Updated successfully.","success")):(e.closeBatchPriceModal(),V.a.fire("Oops","Something went wrong please try again.","error"))})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stockiest-claim"]],decls:352,vars:67,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading",2,"width","50%"],[1,"page-title-icon"],[1,"page-title-subheading"],["id","headLoader",1,"tc",2,"display","none","font-size","14px","font-weight","600","color","#FF0013","letter-spacing","1px"],["src","./../../../assets/images/btn_loader.gif"],["id","pageLoader",2,"position","absolute","width","100%","height","100%","background-color","#F1F4F6","z-index","1","opacity","0.5","display","none"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[3,"value"],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","row",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["style","width: 1000px;"],["details",""],["uploads",""],["id","myModal",1,"modal"],[1,"modal-content"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body"],["for","edit_distributor",1,"form-label","fb"],["id","edit_distributor",1,"form-select",3,"change"],["value","","disabled","","hidden","","selected",""],["for","edit_stockiest",1,"form-label","fb"],["id","edit_stockiest",1,"form-select",3,"tabIndex","change"],["for","edit_type",1,"form-label","fb"],["id","edit_type",1,"form-select",3,"tabIndex","change"],["value","","disabled","","selected",""],["for","edit_month",1,"form-label","fb"],["id","edit_month",1,"form-select",3,"tabIndex","change"],["for","edit_year",1,"form-label","fb"],["id","edit_year",1,"form-select",3,"tabIndex","change"],["id","table1",1,"table"],[1,"td-head"],["type","text","id","edit_invoice",1,"form-control","grf-am",3,"tabIndex","change"],["type","text","id","edit_division",1,"form-control","grf-am",3,"keyup"],["id","edit_division_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_division_suggestion",1,"suggestions",2,"display","none",3,"click"],["type","hidden","id","edit_division_id"],["type","text","id","edit_product",1,"form-control","grf-am",3,"keyup"],["id","edit_product_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_product_suggestion",1,"suggestions",2,"left","18%","display","none",3,"click"],["type","hidden","id","edit_material"],["type","text","id","edit_batch","autocomplete","off",1,"form-control","grf-am",3,"tabIndex","keyup"],["id","edit_batch_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_batch_suggestion",1,"suggestions",2,"left","26%","display","none",3,"click"],["type","text","id","edit_mrp","disabled","",1,"form-control","grf-am"],["type","text","id","edit_pts","disabled","",1,"form-control","grf-am"],["type","hidden","id","edit_ptr",1,"form-control","grf-am"],["type","hidden","id","edit_ptd",1,"form-control","grf-am"],["type","hidden","id","edit_margin",1,"form-control","grf-am"],["type","text","id","edit_billingRate",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_freeQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_saleQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_difference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_totalDifference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_amount","disabled","",1,"form-control","grf-am",3,"tabIndex"],[1,"modal-footer",2,"padding","5px 15px"],["type","hidden","id","edit_id","value","",1,"form-control"],["type","hidden","id","edit_error","value","0",1,"form-control","grf-am"],["type","hidden","id","edit_hoStatus","value","0",1,"form-control"],["type","button",1,"btn","btn-success",3,"tabIndex","click"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],["id","updateModalComment",1,"modal"],[1,"modal-content",2,"width","380px","margin","auto"],[1,"modal-body",2,"padding-top","22px"],["id","update_comments","name","update_comments","rows","4","cols","50"],["id","myModalComment",1,"modal"],["type","hidden","id","comments_id","value",""],["type","hidden","id","comments_batch","value",""],["type","hidden","id","comments_customerId","value",""],["id","comments","name","comments","rows","4","cols","50"],["id","modalComments",1,"modal"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],["id","modalSelf",1,"modal"],[2,"width","720px","overflow-x","auto"],[2,"font-weight","600","height","50px"],[1,"tc",2,"width","120px"],["style","height: 30px;",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog"],["id","stockistMod",1,"modal-content",2,"width","755px","margin","auto"],[1,"modal-header"],[1,"modal-title"],["class","tc","style","width: 120px;",4,"ngIf"],[1,"modal-footer"],["id","modalBatchPrice",1,"modal"],[1,"modal-content",2,"width","435px","margin","auto"],["type","hidden","id","batchMrp_id","value",""],[2,"overflow-x","hidden","margin-bottom","15px"],[2,"padding","0 0 0 5px","text-align","center","width","25%"],[4,"ngFor","ngForOf"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["class","td-head",4,"ngIf"],["class","border-bottom tc","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom","tc",2,"height","35px"],[1,"border-right","tc"],["class","fl",4,"ngIf"],[1,"border-right"],[1,"border-right","tal"],[3,"id"],["class","border-right",4,"ngIf"],[1,"tc"],["style","padding: 0px;",4,"ngIf"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],[1,"fl"],["placement","bottom","ngbTooltip","Accepted by FT","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by FT","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by SUH","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by SUH","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by HO","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by HO","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted","class","legend-bullet mlr8 fl approved",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected","class","legend-bullet mlr8 fl rejected",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Accepted by FT",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by FT",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by SUH",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by SUH",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by HO",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by HO",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",3,"id"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[2,"color","#FF0013",3,"id"],["src","./../../../assets/images/question.png",1,"question",3,"click"],["type","hidden","value","0",3,"id"],[1,"inputcontainer"],["type","text","placeholder","Enter Particulars",1,"form-control","tc",2,"width","160px",3,"id","value","keyup"],[1,"icon-container",3,"id"],[1,"loader"],[1,"suggestions",2,"left","52%","display","none",3,"id","click"],["type","text","placeholder","Enter Category",1,"form-control","tc",2,"width","120px",3,"id","value","keyup"],[1,"suggestions",2,"left","61%","display","none",3,"id","click"],[1,"position-relative",2,"padding","0px"],[1,"form-select",3,"id"],["value","yes","selected","",4,"ngIf"],["value","yes",4,"ngIf"],["value","no","selected","",4,"ngIf"],["value","no",4,"ngIf"],["value","yes","selected",""],["value","yes"],["value","no","selected",""],["value","no"],["value","na","selected","",4,"ngIf"],["value","na",4,"ngIf"],["value","na","selected",""],["value","na"],[2,"padding","0px"],["placement","bottom","ngbTooltip","Accept",1,"option-icon","pe-7s-check","iconpe_green",3,"click"],["placement","bottom","ngbTooltip","Reject",1,"option-icon","pe-7s-close-circle","iconpe_red",3,"click"],["placement","bottom","ngbTooltip","Edit",1,"option-icon","pe-7s-edit","iconpe_blue",3,"click"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"],[2,"height","30px"],["class","tc",4,"ngIf"],["name","batchMrp","type","radio",1,"form-check-input",3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",2),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275element"](11,"img",6),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275text"](13," Processing... Please wait! "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"div",7),a["\u0275\u0275elementStart"](15,"div",8),a["\u0275\u0275elementStart"](16,"div",9),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275elementStart"](20,"label",13),a["\u0275\u0275text"](21,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"ng-select",14),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(e){return t.filterData(e,"distributor")}),a["\u0275\u0275template"](23,mn,3,4,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"span",16),a["\u0275\u0275elementStart"](25,"div",17),a["\u0275\u0275element"](26,"img",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",11),a["\u0275\u0275elementStart"](28,"div",12),a["\u0275\u0275elementStart"](29,"label",19),a["\u0275\u0275text"](30," Stockiest "),a["\u0275\u0275template"](31,fn,3,2,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"ng-select",21),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e})("change",function(e){return t.filterData(e,"stockiest")}),a["\u0275\u0275template"](33,vn,3,4,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](34,"span",22),a["\u0275\u0275elementStart"](35,"div",23),a["\u0275\u0275element"](36,"img",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",11),a["\u0275\u0275elementStart"](38,"div",12),a["\u0275\u0275elementStart"](39,"label",24),a["\u0275\u0275text"](40,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"ng-select",25),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e})("change",function(e){return t.filterData(e,"type")}),a["\u0275\u0275elementStart"](42,"ng-option",26),a["\u0275\u0275text"](43," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](44,hn,3,4,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](45,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",11),a["\u0275\u0275elementStart"](47,"div",12),a["\u0275\u0275elementStart"](48,"label",28),a["\u0275\u0275text"](49,"Division "),a["\u0275\u0275element"](50,"span",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"ng-select",30),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e})("change",function(e){return t.filterData(e,"division")}),a["\u0275\u0275elementStart"](52,"ng-option",26),a["\u0275\u0275text"](53," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](54,gn,3,4,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"div",11),a["\u0275\u0275elementStart"](56,"div",12),a["\u0275\u0275elementStart"](57,"label",31),a["\u0275\u0275text"](58,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"ng-select",32),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(e){return t.validateMonth(e,"month")}),a["\u0275\u0275template"](60,bn,2,2,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](61,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"div",11),a["\u0275\u0275elementStart"](63,"div",12),a["\u0275\u0275elementStart"](64,"label",34),a["\u0275\u0275text"](65,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"ng-select",35),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(e){return t.validateMonth(e,"year")}),a["\u0275\u0275template"](67,yn,2,2,"ng-option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](68,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](69,"div",10),a["\u0275\u0275elementStart"](70,"div",37),a["\u0275\u0275element"](71,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](72,xn,4,0,"div",38),a["\u0275\u0275template"](73,Sn,2,0,"div",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](74,Si,48,5,"div",39),a["\u0275\u0275template"](75,_i,3,1,"div",40),a["\u0275\u0275template"](76,ki,14,3,"ng-template",41,42,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](78,wi,14,1,"ng-template",null,43,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](80,"div",44),a["\u0275\u0275elementStart"](81,"div",45),a["\u0275\u0275elementStart"](82,"div",46),a["\u0275\u0275elementStart"](83,"h2",47),a["\u0275\u0275text"](84,"Update Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](85,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](86,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](87,"div",49),a["\u0275\u0275elementStart"](88,"div",10),a["\u0275\u0275elementStart"](89,"div",11),a["\u0275\u0275elementStart"](90,"div",12),a["\u0275\u0275elementStart"](91,"label",50),a["\u0275\u0275text"](92,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"select",51),a["\u0275\u0275listener"]("change",function(){return t.getStockiest_edit()}),a["\u0275\u0275elementStart"](94,"option",52),a["\u0275\u0275text"](95," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](96,Ii,3,5,"option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](97,"div",11),a["\u0275\u0275elementStart"](98,"div",12),a["\u0275\u0275elementStart"](99,"label",53),a["\u0275\u0275text"](100,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"select",54),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](102,"option",52),a["\u0275\u0275text"](103," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](104,$i,3,4,"option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](105,"div",11),a["\u0275\u0275elementStart"](106,"div",12),a["\u0275\u0275elementStart"](107,"label",55),a["\u0275\u0275text"](108,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"select",56),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](110,"option",57),a["\u0275\u0275text"](111," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,Di,3,4,"option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](113,"div",11),a["\u0275\u0275elementStart"](114,"div",12),a["\u0275\u0275elementStart"](115,"label",58),a["\u0275\u0275text"](116,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](117,"select",59),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](118,"option",57),a["\u0275\u0275text"](119," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](120,Fi,2,2,"option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"div",11),a["\u0275\u0275elementStart"](122,"div",12),a["\u0275\u0275elementStart"](123,"label",60),a["\u0275\u0275text"](124,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](125,"select",61),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](126,"option",57),a["\u0275\u0275text"](127," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](128,Oi,2,2,"option",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](129,"div",10),a["\u0275\u0275elementStart"](130,"table",62),a["\u0275\u0275elementStart"](131,"tr"),a["\u0275\u0275elementStart"](132,"th",63),a["\u0275\u0275text"](133,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](134,"th",63),a["\u0275\u0275text"](135,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](136,"th",63),a["\u0275\u0275text"](137,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](138,"th",63),a["\u0275\u0275text"](139,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](140,"th",63),a["\u0275\u0275text"](141,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"th",63),a["\u0275\u0275text"](143,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"th",63),a["\u0275\u0275text"](145,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](146,"th",63),a["\u0275\u0275text"](147,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](148,"th",63),a["\u0275\u0275text"](149,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](150,"th",63),a["\u0275\u0275text"](151,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](152,"th",63),a["\u0275\u0275text"](153,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](154,"th",63),a["\u0275\u0275text"](155,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](156,"tr"),a["\u0275\u0275elementStart"](157,"td"),a["\u0275\u0275elementStart"](158,"input",64),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](159,"td"),a["\u0275\u0275elementStart"](160,"input",65),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](161,"img",66),a["\u0275\u0275elementStart"](162,"div",67),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e)}),a["\u0275\u0275element"](163,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](164,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](165,"td"),a["\u0275\u0275elementStart"](166,"input",69),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](167,"img",70),a["\u0275\u0275elementStart"](168,"div",71),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e)}),a["\u0275\u0275element"](169,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](170,"input",72),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](171,"td"),a["\u0275\u0275elementStart"](172,"input",73),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](173,"img",74),a["\u0275\u0275elementStart"](174,"div",75),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e)}),a["\u0275\u0275element"](175,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](176,"td"),a["\u0275\u0275element"](177,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](178,"td"),a["\u0275\u0275element"](179,"input",77),a["\u0275\u0275element"](180,"input",78),a["\u0275\u0275element"](181,"input",79),a["\u0275\u0275element"](182,"input",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](183,"td"),a["\u0275\u0275elementStart"](184,"input",81),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](185,"td"),a["\u0275\u0275elementStart"](186,"input",82),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](187,"td"),a["\u0275\u0275elementStart"](188,"input",83),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](189,"td"),a["\u0275\u0275element"](190,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](191,"td"),a["\u0275\u0275element"](192,"input",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](193,"td"),a["\u0275\u0275element"](194,"input",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](195,"div",87),a["\u0275\u0275element"](196,"input",88),a["\u0275\u0275element"](197,"input",89),a["\u0275\u0275element"](198,"input",90),a["\u0275\u0275elementStart"](199,"button",91),a["\u0275\u0275listener"]("click",function(){return t.updateClaim()}),a["\u0275\u0275text"](200," Update "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](201,"button",92),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](202," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](203,"div",93),a["\u0275\u0275elementStart"](204,"div",94),a["\u0275\u0275elementStart"](205,"div",46),a["\u0275\u0275elementStart"](206,"h2",47),a["\u0275\u0275text"](207,"Reason for update"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](208,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](209,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](210,"div",95),a["\u0275\u0275elementStart"](211,"div",10),a["\u0275\u0275elementStart"](212,"div",37),a["\u0275\u0275elementStart"](213,"div",12),a["\u0275\u0275element"](214,"textarea",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](215,"div",87),a["\u0275\u0275elementStart"](216,"button",91),a["\u0275\u0275listener"]("click",function(){return t.updateCommentClaim()}),a["\u0275\u0275text"](217," Update Now "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](218,"button",92),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](219," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](220,"div",97),a["\u0275\u0275elementStart"](221,"div",94),a["\u0275\u0275elementStart"](222,"div",46),a["\u0275\u0275elementStart"](223,"h2",47),a["\u0275\u0275text"](224,"Reason for rejection"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](225,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](226,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](227,"div",95),a["\u0275\u0275elementStart"](228,"div",10),a["\u0275\u0275elementStart"](229,"div",37),a["\u0275\u0275element"](230,"input",98),a["\u0275\u0275element"](231,"input",99),a["\u0275\u0275element"](232,"input",100),a["\u0275\u0275elementStart"](233,"div",12),a["\u0275\u0275element"](234,"textarea",101),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](235,"div",87),a["\u0275\u0275elementStart"](236,"button",91),a["\u0275\u0275listener"]("click",function(){return t.rejectClaim()}),a["\u0275\u0275text"](237," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](238,"button",92),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](239," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](240,"div",102),a["\u0275\u0275elementStart"](241,"div",103),a["\u0275\u0275elementStart"](242,"div",46),a["\u0275\u0275elementStart"](243,"h2",47),a["\u0275\u0275text"](244,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](245,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](246,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](247,"div",104),a["\u0275\u0275elementStart"](248,"div",10),a["\u0275\u0275elementStart"](249,"table",105),a["\u0275\u0275elementStart"](250,"tr"),a["\u0275\u0275elementStart"](251,"th",106),a["\u0275\u0275text"](252,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](253,"th",107),a["\u0275\u0275text"](254,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](255,Mi,7,1,"tr",108),a["\u0275\u0275template"](256,Pi,7,1,"tr",108),a["\u0275\u0275template"](257,Ti,7,1,"tr",108),a["\u0275\u0275template"](258,Ri,7,1,"tr",108),a["\u0275\u0275template"](259,Ni,7,1,"tr",108),a["\u0275\u0275template"](260,ji,7,1,"tr",108),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](261,"div",87),a["\u0275\u0275elementStart"](262,"button",92),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](263," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](264,"div",109),a["\u0275\u0275elementStart"](265,"div",103),a["\u0275\u0275elementStart"](266,"div",46),a["\u0275\u0275elementStart"](267,"h2",47),a["\u0275\u0275text"](268,"Invoice/Quantity Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](269,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](270,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](271,"div",104),a["\u0275\u0275elementStart"](272,"div",10),a["\u0275\u0275elementStart"](273,"table",110),a["\u0275\u0275elementStart"](274,"tr",111),a["\u0275\u0275elementStart"](275,"td",112),a["\u0275\u0275text"](276,"Distributor"),a["\u0275\u0275element"](277,"br"),a["\u0275\u0275text"](278,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](279,"td",112),a["\u0275\u0275text"](280,"Distributor"),a["\u0275\u0275element"](281,"br"),a["\u0275\u0275text"](282,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](283,"td",112),a["\u0275\u0275text"](284,"Distributor"),a["\u0275\u0275element"](285,"br"),a["\u0275\u0275text"](286,"Remn. QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](287,"td",112),a["\u0275\u0275text"](288,"Total Sale QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](289,Ai,9,4,"tr",113),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](290,"div",87),a["\u0275\u0275elementStart"](291,"button",114),a["\u0275\u0275listener"]("click",function(){return t.approveSelf()}),a["\u0275\u0275text"](292," Approve "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](293,"button",115),a["\u0275\u0275listener"]("click",function(){return t.closeSelfPopup()}),a["\u0275\u0275text"](294," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](295,"div",116),a["\u0275\u0275elementStart"](296,"div",117),a["\u0275\u0275elementStart"](297,"div",118),a["\u0275\u0275elementStart"](298,"div",119),a["\u0275\u0275elementStart"](299,"h4",120),a["\u0275\u0275text"](300,"Invoice/Quantity Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](301,"div",49),a["\u0275\u0275elementStart"](302,"table",110),a["\u0275\u0275elementStart"](303,"tr",111),a["\u0275\u0275template"](304,Bi,4,0,"td",121),a["\u0275\u0275template"](305,Qi,4,0,"td",121),a["\u0275\u0275elementStart"](306,"td",112),a["\u0275\u0275text"](307,"Stockiest"),a["\u0275\u0275element"](308,"br"),a["\u0275\u0275text"](309,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](310,"td",112),a["\u0275\u0275text"](311,"Stockiest"),a["\u0275\u0275element"](312,"br"),a["\u0275\u0275text"](313,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](314,"td",112),a["\u0275\u0275text"](315,"Stockiest Remn."),a["\u0275\u0275element"](316,"br"),a["\u0275\u0275text"](317,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](318,"td",112),a["\u0275\u0275text"](319,"Total Sale QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](320,qi,11,6,"tr",113),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](321,"div",122),a["\u0275\u0275elementStart"](322,"button",114),a["\u0275\u0275listener"]("click",function(){return t.approve()}),a["\u0275\u0275text"](323," Approve "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](324,"button",115),a["\u0275\u0275listener"]("click",function(){return t.closePopup()}),a["\u0275\u0275text"](325," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](326,"div",123),a["\u0275\u0275elementStart"](327,"div",124),a["\u0275\u0275elementStart"](328,"div",46),a["\u0275\u0275elementStart"](329,"h2",47),a["\u0275\u0275text"](330,"Batch MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](331,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](332,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](333,"div",104),a["\u0275\u0275elementStart"](334,"div",10),a["\u0275\u0275element"](335,"input",125),a["\u0275\u0275elementStart"](336,"table",126),a["\u0275\u0275elementStart"](337,"tr"),a["\u0275\u0275elementStart"](338,"th",127),a["\u0275\u0275text"](339,"Sl.No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](340,"th",127),a["\u0275\u0275text"](341,"#"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](342,"th",127),a["\u0275\u0275text"](343,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](344,"th",127),a["\u0275\u0275text"](345,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](346,Yi,11,10,"tr",128),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](347,"div",87),a["\u0275\u0275elementStart"](348,"button",114),a["\u0275\u0275listener"]("click",function(){return t.confirmBatchPrice()}),a["\u0275\u0275text"](349," Confirm "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](350,"button",92),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](351," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",11),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](27),a["\u0275\u0275property"]("ngForOf",t.allotedHoInvoiceQty),a["\u0275\u0275advance"](6),a["\u0275\u0275styleMapInterpolate1"]("display:",t.displayStyle,""),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngIf",t.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.allotedInvoiceQty),a["\u0275\u0275advance"](26),a["\u0275\u0275property"]("ngForOf",t.batchPrices),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",13))},directives:[Se.a,o.m,o.p,b.l,b.m,Se.d,o.q,o.x,x.l,ze.a],pipes:[b.u,b.e],styles:['.errorClass[_ngcontent-%COMP%]{border:1px solid #ff0013}.fl[_ngcontent-%COMP%]{float:left}.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.mlr8[_ngcontent-%COMP%]{margin:0 4px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.td-head[_ngcontent-%COMP%]{font-weight:600;height:30px;background:#efefef}.grf-am[_ngcontent-%COMP%], .td-head[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1;left:10%}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.inputcontainer[_ngcontent-%COMP%]{position:relative;padding:0}.icon-container[_ngcontent-%COMP%]{position:absolute;right:15px;top:calc(50% - 9px);display:none}.loader[_ngcontent-%COMP%]{position:relative;height:15px;width:15px;display:inline-block;-webkit-animation:around 5.4s infinite;animation:around 5.4s infinite}@-webkit-keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";background:#fff;position:absolute;display:inline-block;width:100%;height:100%;border-color:#e15b64 #e15b64 transparent transparent;border-style:solid;border-width:2px;border-radius:20px;box-sizing:border-box;top:0;left:0;-webkit-animation:around .7s ease-in-out infinite;animation:around .7s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{-webkit-animation:around .7s ease-in-out .1s infinite;animation:around .7s ease-in-out .1s infinite;background:transparent}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto 7%;width:92%;padding:0;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.wpseo-score-icon[_ngcontent-%COMP%]{background:#888;border-radius:50%!important;height:12px!important;width:12px!important;margin:auto}.wpseo-score-icon.good[_ngcontent-%COMP%]{background-color:#4bae4f}.wpseo-score-icon.bad[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_green[_ngcontent-%COMP%]{background-color:#4bae4f}.iconpe_green[_ngcontent-%COMP%], .iconpe_red[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#fff;border-radius:50%;text-align:center;padding:0 0 0 .5px;margin:2px;cursor:pointer}.iconpe_red[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_blue[_ngcontent-%COMP%]{font-size:15px;background-color:#2fa4e7;padding:3px 3px 2px 3.5px}.iconpe_blue[_ngcontent-%COMP%], .iconpe_purp[_ngcontent-%COMP%]{font-weight:800;color:#fff;border-radius:50%;text-align:center;margin:2px;cursor:pointer}.iconpe_purp[_ngcontent-%COMP%]{font-size:20px;background-color:#6610f2;padding:0 0 0 .5px}.disabledd[_ngcontent-%COMP%]{background-color:#ccc}.npicon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.bg-ripe-malin-np[_ngcontent-%COMP%]{background-image:linear-gradient(120deg,#ff0013,#ff0013)!important}.bg-grow-early-np[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#03ac13 0,#03ac13)!important}.legend-bullet[_ngcontent-%COMP%]{width:12px;height:12px;min-width:12px;border-radius:50%}.rejected[_ngcontent-%COMP%]{background-color:#df2a4a}.approved[_ngcontent-%COMP%]{background-color:#00aa63}.inprogress[_ngcontent-%COMP%]{background-color:#e8e8eb}.question[_ngcontent-%COMP%]{padding:0;cursor:pointer;margin-left:5px}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.mat-autocomplete-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-autocomplete-panel[_ngcontent-%COMP%]{background:#fff;color:rgba(0,0,0,.87)}.mat-autocomplete-panel.mat-autocomplete-visible[_ngcontent-%COMP%]{visibility:visible}.mat-autocomplete-panel[_ngcontent-%COMP%]{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1}.mat-option[_ngcontent-%COMP%], .mat-option-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;color:rgba(0,0,0,.87);font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px}.mat-option-ripple[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;overflow:hidden}.mat-option.mat-active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04);color:rgba(0,0,0,.87)}.ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel-items{max-height:125px}.ng-select.custom[_ngcontent-%COMP%]     .ng-option{padding:5px 8px}']}),e}();function zi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Hi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Ji(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Gi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Zi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275elementStart"](1,"div",41),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4," Loading... Please wait "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Wi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275elementStart"](1,"i",86),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](3),r=a["\u0275\u0275reference"](120);return i.viewPopup(r,e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalname)}}function Ki(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Wi,2,1,"span",85),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function Xi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",43),a["\u0275\u0275elementStart"](1,"td",44),a["\u0275\u0275elementStart"](2,"input",45,46),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"i",47),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](3).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,Ki,2,1,"div",48),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",49),a["\u0275\u0275element"](7,"input",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",49),a["\u0275\u0275elementStart"](9,"input",51),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"img",52),a["\u0275\u0275elementStart"](11,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](12,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",49),a["\u0275\u0275element"](14,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",49),a["\u0275\u0275element"](16,"input",55),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",49),a["\u0275\u0275element"](18,"input",56),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",49),a["\u0275\u0275elementStart"](20,"input",57),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchParticulars(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"img",58),a["\u0275\u0275elementStart"](22,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().particularsSelection(e,i)}),a["\u0275\u0275element"](23,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",49),a["\u0275\u0275elementStart"](25,"input",59),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchCategory(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"img",58),a["\u0275\u0275elementStart"](27,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().categorySelection(e,i)}),a["\u0275\u0275element"](28,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",49),a["\u0275\u0275element"](30,"input",60),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",49),a["\u0275\u0275element"](32,"input",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",49),a["\u0275\u0275element"](34,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",49),a["\u0275\u0275element"](36,"input",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",49),a["\u0275\u0275element"](38,"input",64),a["\u0275\u0275element"](39,"input",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td",49),a["\u0275\u0275element"](41,"input",66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td",49),a["\u0275\u0275element"](43,"input",67),a["\u0275\u0275element"](44,"input",68),a["\u0275\u0275element"](45,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",49),a["\u0275\u0275elementStart"](47,"input",69),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"billingRate")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"td",49),a["\u0275\u0275elementStart"](49,"input",70),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeMargin(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"td",49),a["\u0275\u0275elementStart"](51,"input",71),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"freeQuantity")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"td",49),a["\u0275\u0275elementStart"](53,"input",72),a["\u0275\u0275listener"]("blur",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().checkQuantity(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"td",49),a["\u0275\u0275element"](55,"input",73),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"td",49),a["\u0275\u0275element"](57,"input",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"td",49),a["\u0275\u0275element"](59,"input",75),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"td",49),a["\u0275\u0275element"](61,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",49),a["\u0275\u0275element"](63,"input",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",49),a["\u0275\u0275element"](65,"input",78),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",79),a["\u0275\u0275elementStart"](67,"span",80),a["\u0275\u0275element"](68,"i",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](69,"span",82),a["\u0275\u0275element"](70,"i",83),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](71,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","material_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","category_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","distInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distInvQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoiceQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkRemnQty_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","hdn_stkRemnQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","margin_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalSaleQuantity_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalPtdAmt_",i,""),a["\u0275\u0275advance"](6),a["\u0275\u0275propertyInterpolate"]("value",i)}}function ea(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",87),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function ta(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",88),a["\u0275\u0275elementStart"](1,"span",89),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",90),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function na(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",102),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function ia(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",103),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function aa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",91),a["\u0275\u0275elementStart"](1,"h4",92),a["\u0275\u0275text"](2,"Attachment of invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",93),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",94),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",95),a["\u0275\u0275template"](7,na,1,2,"pdf-viewer",96),a["\u0275\u0275template"](8,ia,1,2,"img",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",98),a["\u0275\u0275elementStart"](10,"button",99),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",100),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",101),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}var ra=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Claims for Approval",this.subheading="Approve or reject stockiest claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.category=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.particulars=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.salesAndRemainings=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.pdfSource="",this.clickedFile=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest();var n=xe().format("MM");this.currentMonth=parseInt(n);var i=xe().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){$("#type").val("scheme"),$("#month").val(parseInt(n)-1),$("#year").val(i),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var a=e.activatedRoute.snapshot.paramMap.get("stockiest"),r=e.activatedRoute.snapshot.paramMap.get("month"),o=e.activatedRoute.snapshot.paramMap.get("year"),l=e.activatedRoute.snapshot.paramMap.get("type"),s=e.activatedRoute.snapshot.paramMap.get("invoice");e.getData(a,r,o,l,s)}),this.createForm(),this.getBatch(),this.getDivision(),this.getProduct(),this.getCategory(),this.getParticulars()},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",hdnStkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchBatch=function(e,t){var n=this,i=e.currentTarget.value,a=-1===t?"def":t;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2));var r=[];if("Tab"!=e.key)if(i.length>2)$("#batch_loader_"+a).show(),r=this.matchBatch(i,t),this.delay(10).then(function(e){n.batchSuggestions(r,i,t)});else{var o=document.querySelector("#batch_suggestion_"+a+" ul");o.innerHTML="",o.classList.remove("has-suggestions"),$("#batch_suggestion_"+a).hide()}},e.prototype.matchBatch=function(e,t){var n=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(n)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].division:0,c=a.length?a[0].material:0;d&&this.getBatchDivision(d,n),c&&this.getBatchProduct(c,n),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.searchDivision=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#division_loader_"+(-1===t?"def":t)).show(),a=this.matchDivision(i,t),this.delay(10).then(function(e){n.divisionSuggestions(a,i,t)}))},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#division_suggestion_"+n+" ul");$("#division_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#division_suggestion_"+n).hide()},e.prototype.searchProduct=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#product_loader_"+(-1===t?"def":t)).show(),a=this.matchProduct(i,t),console.log(a),this.delay(10).then(function(e){n.productSuggestions(a,i,t)}))},e.prototype.matchProduct=function(e,t){var n=e.toLowerCase();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(n)>-1})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#product_suggestion_"+n+" ul");$("#product_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#product_suggestion_"+n).hide()},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(10).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#particulars_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show(),$("#particulars_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide())},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide()},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.category.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#category_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show(),$("#category_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide())},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide()},e.prototype.changeMargin=function(e,t){var n=$("#pts_"+t).val(),i=$("#margin_"+t).val(),a=$("#billingRate_"+t).val(),r=n-a+a*i/100,o=r*$("#saleQuantity_"+t).val();$("#totalDifference_"+t).val(r.toFixed(2)),$("#amount_"+t).val(o.toFixed(2))},e.prototype.changeCalculation=function(e,t,n){console.log(n);var i=-1===t?"def":t;$("#freeQuantity_"+i).attr("readonly",!1),$("#billingRate_"+i).removeClass("grf-invalid"),$("#freeQuantity_"+i).removeClass("grf-invalid"),$("#saleQuantity_"+i).removeClass("grf-invalid");var a=$("#pts_"+i).val(),r=$("#billingRate_"+i).val(),o=$("#freeQuantity_"+i).val(),l=$("#saleQuantity_"+i).val(),s=/^\d*\.?\d*$/;if(s.test(r)||$("#billingRate_"+i).addClass("grf-invalid"),s.test(o)||$("#freeQuantity_"+i).addClass("grf-invalid"),s.test(l)||$("#saleQuantity_"+i).addClass("grf-invalid"),0==r)if($("#margin_"+i).val(0),o){var d=(m=a-r)+0*r/100,c=a*o;$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2))}else $("#difference_"+i).val(Number(0).toFixed(2)),$("#totalDifference_"+i).val(Number(0).toFixed(2)),$("#amount_"+i).val(Number(0).toFixed(2));else{var m,p=$("#margin_"+i).val(),u=parseInt(p)?p:10;$("#margin_"+i).val(u),$("#freeQuantity_"+i).val(""),$("#freeQuantity_"+i).attr("readonly",!0),r&&l&&(c=(d=(m=a-r)+r*u/100)*l,$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2)))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getCategory=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.category=t.data)})},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&(console.log(e.data),$("#product_"+t).val(e.data.materialName),$("#material_"+t).val(e.data.material))})},e.prototype.fetchRemaining=function(e,t,n){return Object(c.b)(this,void 0,void 0,function(){var e,i;return Object(c.d)(this,function(a){return console.log(t,n),e=-1===t?"def":t,i={customerId:this.activatedRoute.snapshot.paramMap.get("stockiest"),invoice:$("#invoice_"+e).val(),batch:$("#batch_"+e).val(),billingRate:$("#billingRate_"+e).val(),saleQuantity:$("#saleQuantity_"+e).val(),freeQuantity:$("#freeQuantity_"+e).val(),margin:parseInt($("#margin_"+e).val())?$("#margin_"+e).val():10,files:[]},console.log("fetchRemaining---",i),[2]})})},e.prototype.checkQuantity=function(e,t){console.log(this.salesAndRemainings);var n=parseInt($("#saleQuantity_"+t).val()),i=parseInt($("#hdn_stkRemnQty_"+t).val());if(i>=n){var a=i-n;$("#stkRemnQty_"+t).val(a),$("#totalSaleQuantity_"+t).val(n)}else $("#stkRemnQty_"+t).val(i),$("#saleQuantity_"+t).val(0),$("#totalSaleQuantity_"+t).val(0)},e.prototype.getData=function(e,t,n,i,a){return Object(c.b)(this,void 0,void 0,function(){var r,o=this;return Object(c.d)(this,function(l){switch(l.label){case 0:return[4,this.getClaimForApproval({customerId:e,month:t,year:n,type:i,invoice:a})];case 1:return r=l.sent(),this.records=r,this.records.length&&this.records.forEach(function(e,t){return Object(c.b)(o,void 0,void 0,function(){return Object(c.d)(this,function(n){return this.getRemaining(e,t),[2]})})}),[2]}})})},e.prototype.getRemaining=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return[4,this.salesAndRemainingQuantity({customerId:e.customerId,batch:e.batch})];case 1:return(n=r.sent())&&(this.salesAndRemainings.push(n),i=0,n.forEach(function(n){return Object(c.b)(a,void 0,void 0,function(){var a,r,o,l,s,d;return Object(c.d)(this,function(c){return i>=e.saleQuantity||(r=e.saleQuantity-i,i+=a=(o=n.remainingData.length?n.remainingData[0].quantity:n.saleUnit)>=e.saleQuantity?r:r>=o?o:r,l=e.margin?e.margin:10,this.fileNames[t]=e.files,s={invoice:e.invoice,batch:n.batch,division:n.divisionName,product:n.materialDesc,material:n.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:n.billDocNumber,stkInvoiceQty:n.saleUnit,stkRemnQty:n.saleUnit-a,hdnStkRemnQty:o,mrp:n.mrp,pts:n.pts,billingRate:e.billingRate,margin:l,freeQuantity:e.freeQuantity,saleQuantity:a,difference:(n.pts-e.billingRate).toFixed(2),totalDifference:(n.pts-e.billingRate+e.billingRate*l/100).toFixed(2),amount:((n.pts-e.billingRate+10*e.billingRate/100)*a).toFixed(2),totalSaleQuantity:a,ptd:n.ptd,totalPtdAmt:(n.ptd*a).toFixed(2),image:""},d=this.fb.group(s),this.claims().push(d)),[2]})})})),this.loading=!1,[2]}})})},e.prototype.getClaimForApproval=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/getClaimForApproval",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getHoSales=function(e,t){var n=this;return new Promise(function(i){n.apiService.post("/api/sales/ho/invoice",{batch:e,custIds:t}).subscribe(function(e){i(e)})})},e.prototype.onSubmit=function(){var e=$(".count").last().val();null==e&&(e=-1);for(var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=function(e){var r=-1===e?"def":e,l=t+".::."+n+".::."+i+".::."+a+".::."+o.loggedUserId,s=$("#invoice_"+r).val(),d=$("#batch_"+r).val(),c=$("#division_"+r).val(),m=$("#product_"+r).val(),p=$("#mrp_"+r).val(),u=$("#pts_"+r).val(),f=$("#ptr_"+r).val(),v=$("#ptd_"+r).val(),h=$("#billingRate_"+r).val(),g=$("#margin_"+r).val(),b=$("#freeQuantity_"+r).val(),y=$("#saleQuantity_"+r).val(),x=$("#difference_"+r).val(),S=$("#totalDifference_"+r).val(),_=$("#amount_"+r).val();if(-1===e){var E="";o.fileNames[-1]&&o.fileNames[-1].length&&o.fileNames[-1].forEach(function(e,t){E=E+e.filename+".::."}),o.claimForm.value.def_image=E,o.claimForm.value.def_invoice=s,o.claimForm.value.def_batch=d,o.claimForm.value.def_division=c,o.claimForm.value.def_product=m,o.claimForm.value.def_mrp=p,o.claimForm.value.def_pts=u,o.claimForm.value.def_ptr=f,o.claimForm.value.def_ptd=v,o.claimForm.value.def_billingRate=h,o.claimForm.value.def_margin=g,o.claimForm.value.def_freeQuantity=b,o.claimForm.value.def_saleQuantity=y,o.claimForm.value.def_difference=x,o.claimForm.value.def_totalDifference=S,o.claimForm.value.def_amount=_,o.claimForm.value.header=l}else{var C="";o.fileNames[e]&&o.fileNames[e].length&&o.fileNames[e].forEach(function(e,t){C=C+e.filename+".::."}),o.claimForm.value.claims[e].image=C,o.claimForm.value.claims[e].invoice=s,o.claimForm.value.claims[e].batch=d,o.claimForm.value.claims[e].division=c,o.claimForm.value.claims[e].product=m,o.claimForm.value.claims[e].mrp=p,o.claimForm.value.claims[e].pts=u,o.claimForm.value.claims[e].ptr=f,o.claimForm.value.claims[e].ptd=v,o.claimForm.value.claims[e].billingRate=h,o.claimForm.value.claims[e].margin=g,o.claimForm.value.claims[e].freeQuantity=b,o.claimForm.value.claims[e].saleQuantity=y,o.claimForm.value.claims[e].difference=x,o.claimForm.value.claims[e].totalDifference=S,o.claimForm.value.claims[e].amount=_,o.claimForm.value.claims[e].header=l}},o=this,l=-1;l<=e;l++)r(l);console.log("submit--",this.claimForm.value)},e.prototype.viewPopup=function(e,t){var n=this;console.log(t),this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.confirmBoxDeleteFile=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?(delete t.fileNames[0],console.log({_id:e._id,deletedBy:t.loggedUserId})):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-approval"]],decls:121,vars:14,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head"],["class","row",4,"ngIf"],["formArrayName","claims"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["details",""],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[3,"formGroupName"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["placement","bottom","ngbTooltip","Upload",1,"pe-7s-upload",2,"float","left",3,"click"],[4,"ngIf"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","text","formControlName","division","readonly","",1,"form-control",3,"id"],["type","text","formControlName","product","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","material","readonly","",1,"form-control",3,"id","tabIndex"],["type","text","formControlName","particulars",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","text","formControlName","category",1,"form-control",3,"id","tabIndex","keyup"],["type","text","formControlName","distInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","distInvQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoiceQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkRemnQty","readonly","",1,"form-control",3,"id"],["type","hidden","formControlName","hdnStkRemnQty",3,"id"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","margin",1,"form-control","tc",3,"id","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","blur"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalSaleQuantity","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","ptd","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalPtdAmt","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Approve",2,"color","green"],[1,"vsm-icon","pe-7s-check"],["title","Unapprove",2,"color","red"],[1,"vsm-icon","pe-7s-close-circle"],["type","hidden",1,"count",3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip","click"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,zi,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,Hi,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,Ji,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,Gi,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",7),a["\u0275\u0275elementStart"](51,"div",27),a["\u0275\u0275element"](52,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",7),a["\u0275\u0275elementStart"](54,"form",28),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](55,"div",7),a["\u0275\u0275elementStart"](56,"div",29),a["\u0275\u0275elementStart"](57,"div",30),a["\u0275\u0275elementStart"](58,"table",31),a["\u0275\u0275elementStart"](59,"tr"),a["\u0275\u0275elementStart"](60,"td",32),a["\u0275\u0275text"](61,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",32),a["\u0275\u0275text"](63,"Reference No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",32),a["\u0275\u0275text"](65,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",32),a["\u0275\u0275text"](67,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",32),a["\u0275\u0275text"](69,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"td",32),a["\u0275\u0275text"](71,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"td",32),a["\u0275\u0275text"](73,"Particulars"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](74,"td",32),a["\u0275\u0275text"](75,"Category"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](76,"td",32),a["\u0275\u0275text"](77,"Distributor Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"td",32),a["\u0275\u0275text"](79,"Distributor Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"td",32),a["\u0275\u0275text"](81,"Stockiest Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"td",32),a["\u0275\u0275text"](83,"Stockiest Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",32),a["\u0275\u0275text"](85,"Remn. STK Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",32),a["\u0275\u0275text"](87,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",32),a["\u0275\u0275text"](89,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",32),a["\u0275\u0275text"](91,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",32),a["\u0275\u0275text"](93,"Margin (%)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",32),a["\u0275\u0275text"](95,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"td",32),a["\u0275\u0275text"](97,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](98,"td",32),a["\u0275\u0275text"](99,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](100,"td",32),a["\u0275\u0275text"](101,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",32),a["\u0275\u0275text"](103,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"td",32),a["\u0275\u0275text"](105,"Total Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",32),a["\u0275\u0275text"](107,"PTD"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",32),a["\u0275\u0275text"](109,"Total PTD Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](110,"td",32),a["\u0275\u0275text"](111,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,Zi,5,0,"div",33),a["\u0275\u0275elementStart"](113,"div",34),a["\u0275\u0275template"](114,Xi,72,45,"tr",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"div",7),a["\u0275\u0275elementStart"](116,"div",36),a["\u0275\u0275template"](117,ea,2,0,"button",37),a["\u0275\u0275template"](118,ta,5,0,"button",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](119,aa,16,2,"ng-template",null,39,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](58),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.q,o.x,b.l,o.w,o.n,o.g,b.m,o.c,o.h,x.l,o.b,o.m,o.e,ze.a],pipes:[b.u],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}();function oa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",46),a["\u0275\u0275elementStart"](1,"button",47),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",48),a["\u0275\u0275text"](3," Export to Excel "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function la(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," - ",n.customerId," ")}}function sa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function da(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ca(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ma(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function pa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275element"](1,"img",51),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function ua(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function fa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",70),a["\u0275\u0275elementStart"](1,"i",71),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](87);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function va(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,fa,2,1,"span",69),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function ha(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",64),a["\u0275\u0275elementStart"](1,"td",65),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",65),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",65),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",65),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",66),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",66),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",65),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",65),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",65),a["\u0275\u0275text"](23),a["\u0275\u0275pipe"](24,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",65),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",65),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",65),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",65),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",65),a["\u0275\u0275text"](37),a["\u0275\u0275pipe"](38,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",65),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td"),a["\u0275\u0275template"](43,va,2,1,"div",67),a["\u0275\u0275elementStart"](44,"div",68),a["\u0275\u0275text"](45," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](5,22,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,24,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,26,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](18,28,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](21,31,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](24,34,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,37,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,40,n.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,43,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](38,46,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,49,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",n.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",n.invoice,"")}}function ga(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",52),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",53),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",54),a["\u0275\u0275text"](7,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",55),a["\u0275\u0275text"](9,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",55),a["\u0275\u0275text"](11,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",56),a["\u0275\u0275text"](13,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",57),a["\u0275\u0275text"](15,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",58),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",58),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",59),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",60),a["\u0275\u0275text"](23,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",61),a["\u0275\u0275text"](25,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",61),a["\u0275\u0275text"](27,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",62),a["\u0275\u0275text"](29,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",62),a["\u0275\u0275text"](31,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",59),a["\u0275\u0275text"](33,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"th",59),a["\u0275\u0275text"](35,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"tbody"),a["\u0275\u0275template"](37,ha,46,52,"tr",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](37),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function ba(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",72),a["\u0275\u0275elementStart"](1,"div",73),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"div",74),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function ya(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",86),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function xa(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",87),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function Sa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",75),a["\u0275\u0275elementStart"](1,"h4",76),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",77),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",78),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",79),a["\u0275\u0275template"](7,ya,1,2,"pdf-viewer",80),a["\u0275\u0275template"](8,xa,1,2,"img",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",82),a["\u0275\u0275elementStart"](10,"button",83),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",84),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",85),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function _a(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",75),a["\u0275\u0275elementStart"](1,"h4",76),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",77),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",78),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",88),a["\u0275\u0275elementStart"](7,"input",89,90),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",82),a["\u0275\u0275elementStart"](10,"button",91),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",85),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var Ea=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Claim Status",this.subheading="Approved and Un-approved claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.loggedInUser=[],this.selectedFields=[],this.alignedStockiest=[],this.pdfSource=""}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.loggedInUser=JSON.parse(t),this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest(),this.getDivision();var n=xe().format("MM");this.currentMonth=parseInt(n);var i=xe().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val(),$("#stockiest_loader").hide(),$("#stockiest").show()})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getStockiest=function(){var e=this;this.apiService.get("/api/stockiest/all","").subscribe(function(t){if(200===t.status&&t.data.length){var n=t.data.sort(function(e,t){return e.organization.trim()>t.organization.trim()?1:-1});e.stockiests=n}})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.clear=function(){var e=xe().format("MM"),t=xe().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#division").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide();var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#division option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val(),o=$("#status option:selected").val();if(!t||!o)return t||$("#err_stockiest").text("it's a required field.").show(),void(o||$("#err_status").text("it's a required field.").show());if(a>this.currentMonth&&r>=this.currentYear)$("#err_month").text("You can't claim for this month.").show();else{var l={customerId:t,month:a,year:r,status:o};n&&(l.claimType=n),i&&(l.divisionName=i),this.apiService.post("/api/getApprovedClaim",l).subscribe(function(t){console.log(t.data),200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,console.log("records---",e.records),(n||i)&&e.filterDataTwice(n,i),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})}},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=e.target.id;this.selectedFields[t]=e.target.value;var n=this.selectedFields.type,i=this.selectedFields.division;"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),n&&i?this.tempRecords=this.records.filter(function(e){return e.claimType==n&&e.divisionName==i}):n&&!i?this.tempRecords=this.records.filter(function(e){return e.claimType==n}):!n&&i?this.tempRecords=this.records.filter(function(e){return e.divisionName==i}):n||i||(this.tempRecords=this.records)},e.prototype.exportToExcel=function(){var e=[];this.tempRecords.forEach(function(t){e.push({Stockiest:t.customerId,"Claim Type":t.claimType,Month:t.claimMonth,Year:t.claimYear,"Reference No":t.invoice,Batch:t.batch,Division:t.divisionName,Material:t.material,"Material Name":t.materialName,MRP:t.mrp,PTS:t.pts,PTR:t.ptr,PTD:t.ptd,"Billing Rate":t.billingRate,Margin:t.margin,"Free QTY":t.freeQuantity,"Sale QTY":t.saleQuantity,Difference:t.difference,"Total Difference":t.totalDifference,Amount:t.amount})});var t=ft.utils.json_to_sheet(e);for(var n in t["!cols"]=[{wch:10},{wch:10},{wch:8},{wch:5},{wch:15},{wch:10},{wch:20},{wch:15},{wch:40},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20}],t)if("object"==typeof t[n]){var i=ft.utils.decode_cell(n);t[n].s={alignment:{vertical:"center",wrapText:1}},0==i.r&&(t[n].s.alignment={vertical:"center",wrapText:!0},t[n].s.fill={fgColor:{rgb:"585858"}},t[n].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var a=ft.utils.book_new();ft.utils.book_append_sheet(a,t,"Sheet1"),ft.writeFile(a,"ClaimStatus.xlsx")},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&V.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&V.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.loggedUserId})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),V.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.loggedUserId,submittedOn:xe().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-status-claim"]],decls:90,vars:15,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select"],["for","month",1,"form-label","fb"],["id","month",1,"form-select"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"form-select"],["value","approved"],["value","unapproved"],["value","inprogress"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["uploads",""],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","50px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,oa,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"label",11),a["\u0275\u0275text"](16,"Stockiest *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"select",12),a["\u0275\u0275elementStart"](18,"option",13),a["\u0275\u0275text"](19," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,la,3,5,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"span",15),a["\u0275\u0275elementStart"](22,"div",16),a["\u0275\u0275element"](23,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"div",10),a["\u0275\u0275elementStart"](26,"label",18),a["\u0275\u0275text"](27,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"select",19),a["\u0275\u0275elementStart"](29,"option",20),a["\u0275\u0275text"](30," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](31,sa,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"div",10),a["\u0275\u0275elementStart"](35,"label",22),a["\u0275\u0275text"](36,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",20),a["\u0275\u0275text"](39," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,da,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",9),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Month *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275elementStart"](46,"option",26),a["\u0275\u0275text"](47," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,ca,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",9),a["\u0275\u0275elementStart"](51,"div",10),a["\u0275\u0275elementStart"](52,"label",28),a["\u0275\u0275text"](53,"Year *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"select",29),a["\u0275\u0275elementStart"](55,"option",26),a["\u0275\u0275text"](56," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](57,ma,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](58,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"div",9),a["\u0275\u0275elementStart"](60,"div",10),a["\u0275\u0275elementStart"](61,"label",31),a["\u0275\u0275text"](62,"Status *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"select",32),a["\u0275\u0275elementStart"](64,"option",26),a["\u0275\u0275text"](65," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"option",33),a["\u0275\u0275text"](67,"Approved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"option",34),a["\u0275\u0275text"](69,"UnApproved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"option",35),a["\u0275\u0275text"](71,"Inprogress"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](72,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",9),a["\u0275\u0275elementStart"](74,"div",37),a["\u0275\u0275elementStart"](75,"button",38),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](76,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"button",39),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](78,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",8),a["\u0275\u0275elementStart"](80,"div",40),a["\u0275\u0275element"](81,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,pa,4,0,"div",41),a["\u0275\u0275template"](83,ua,2,0,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](84,ga,38,1,"div",42),a["\u0275\u0275template"](85,ba,4,1,"div",43),a["\u0275\u0275template"](86,Sa,16,3,"ng-template",null,44,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](88,_a,14,1,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("7")),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](25),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[b.m,o.q,o.x,b.l,_.a,x.l,ze.a],pipes:[b.u,b.e],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function Ca(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function ka(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",106),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" (",n.selectedFields.stockiest,") ")}}function wa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ia(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function $a(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Da(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Fa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Oa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",107),a["\u0275\u0275element"](1,"img",108),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading...Please wait "),a["\u0275\u0275elementEnd"]())}function Ma(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",107),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function Pa(e,t){1&e&&a["\u0275\u0275element"](0,"div",129)}function Ta(e,t){1&e&&a["\u0275\u0275element"](0,"div",130)}function Ra(e,t){1&e&&a["\u0275\u0275element"](0,"div",131)}function Na(e,t){1&e&&a["\u0275\u0275element"](0,"div",132)}function ja(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Aa(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Ba(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,Pa,1,0,"div",121),a["\u0275\u0275template"](2,Ta,1,0,"div",122),a["\u0275\u0275template"](3,Ra,1,0,"div",123),a["\u0275\u0275template"](4,Na,1,0,"div",124),a["\u0275\u0275template"](5,ja,1,1,"div",125),a["\u0275\u0275template"](6,Aa,1,1,"div",126),a["\u0275\u0275element"](7,"div",127),a["\u0275\u0275element"](8,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Qa(e,t){1&e&&a["\u0275\u0275element"](0,"div",129)}function Ua(e,t){1&e&&a["\u0275\u0275element"](0,"div",130)}function La(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function qa(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Ya(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,Qa,1,0,"div",121),a["\u0275\u0275template"](2,Ua,1,0,"div",122),a["\u0275\u0275template"](3,La,1,1,"div",125),a["\u0275\u0275template"](4,qa,1,1,"div",126),a["\u0275\u0275element"](5,"div",127),a["\u0275\u0275element"](6,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Va(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function za(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Ha(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,Va,1,1,"div",125),a["\u0275\u0275template"](2,za,1,1,"div",126),a["\u0275\u0275element"](3,"div",127),a["\u0275\u0275element"](4,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Ja(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",136),a["\u0275\u0275elementStart"](1,"i",137),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](85);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function Ga(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Ja,2,1,"span",135),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Za(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",141),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Wa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Ka(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",141),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Xa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",142),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function er(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",112),a["\u0275\u0275elementStart"](1,"td",113),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",113),a["\u0275\u0275template"](4,Ba,9,8,"div",114),a["\u0275\u0275template"](5,Ya,7,6,"div",114),a["\u0275\u0275template"](6,Ha,5,4,"div",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",115),a["\u0275\u0275template"](8,Ga,2,1,"div",104),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",113),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",113),a["\u0275\u0275text"](13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",116),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",116),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",113),a["\u0275\u0275text"](21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",113),a["\u0275\u0275text"](23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",113),a["\u0275\u0275text"](25),a["\u0275\u0275pipe"](26,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",113),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",113),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",113),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",113),a["\u0275\u0275text"](37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",113),a["\u0275\u0275text"](39),a["\u0275\u0275pipe"](40,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"td",113),a["\u0275\u0275text"](42),a["\u0275\u0275pipe"](43,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"td",113),a["\u0275\u0275text"](45),a["\u0275\u0275pipe"](46,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"td",117),a["\u0275\u0275template"](48,Za,4,0,"span",118),a["\u0275\u0275template"](49,Wa,3,0,"span",118),a["\u0275\u0275template"](50,Ka,4,0,"span",118),a["\u0275\u0275template"](51,Xa,1,0,"img",119),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,23,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](16,25,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](19,27,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batchDetail[0].material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](26,29,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,32,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,35,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,38,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](40,41,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](43,44,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](46,47,n.amount,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",1===n.suhStatus&&"ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus&&"field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function tr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",10),a["\u0275\u0275elementStart"](1,"div",109),a["\u0275\u0275elementStart"](2,"div",110),a["\u0275\u0275elementStart"](3,"table",62),a["\u0275\u0275elementStart"](4,"tr"),a["\u0275\u0275elementStart"](5,"th",63),a["\u0275\u0275text"](6,"SNo."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",63),a["\u0275\u0275text"](8,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",63),a["\u0275\u0275text"](10,"Attachment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",63),a["\u0275\u0275text"](12,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",63),a["\u0275\u0275text"](14,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",63),a["\u0275\u0275text"](16,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",63),a["\u0275\u0275text"](18,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",63),a["\u0275\u0275text"](20,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",63),a["\u0275\u0275text"](22,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",63),a["\u0275\u0275text"](24,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",63),a["\u0275\u0275text"](26,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",63),a["\u0275\u0275text"](28,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",63),a["\u0275\u0275text"](30,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",63),a["\u0275\u0275text"](32,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",63),a["\u0275\u0275text"](34,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"th",63),a["\u0275\u0275text"](36,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"th",63),a["\u0275\u0275text"](38,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"th",63),a["\u0275\u0275text"](40,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,er,52,50,"tr",111),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](41),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function nr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",143),a["\u0275\u0275elementStart"](1,"div",144),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function ir(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",155),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function ar(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",156),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function rr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",145),a["\u0275\u0275elementStart"](1,"h4",146),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",147),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",148),a["\u0275\u0275template"](7,ir,1,2,"pdf-viewer",149),a["\u0275\u0275template"](8,ar,1,2,"img",150),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",151),a["\u0275\u0275elementStart"](10,"button",152),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",153),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",154),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function or(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",145),a["\u0275\u0275elementStart"](1,"h4",146),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",147),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",157),a["\u0275\u0275elementStart"](7,"input",158,159),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",151),a["\u0275\u0275elementStart"](10,"button",160),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",154),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}function lr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function sr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function dr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function cr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function mr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function pr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function ur(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function fr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function vr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function hr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function gr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}var br=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=G,this.faStar=y.c,this.faPlus=y.b,this.heading="Approval",this.subheading="To approve the claim sent by the stockist.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.categories=[],this.particulars=[],this.clickedFile=[],this.tempRecords=[],this.sessionData="",this.selectedFields=[],this.divisions_edit=[],this.alignedStockiest=[],this.pdfSource="",this.salesAndRemainings=[],this.allotedInvoiceQty=[],this.allotedHoInvoiceQty=[],this.allotedQty=0,this.requestedQty=0,this.displayStyle="none",this.approvalClickedClaim=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.heading="ho"===this.sessionData.type?"HO Approval":"Field Approval";var n=xe().format("MM");this.currentMonth=parseInt(n);var i=xe().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions(),e.delay(1e3).then(function(t){var n=$("#distributor option:selected").val(),i=$("#stockiest option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val();e.selectedFields.distributor=n,e.selectedFields.stockiest=i,e.selectedFields.type="",e.selectedFields.division="",e.selectedFields.month=a,e.selectedFields.year=r,e.getData()})}),this.getDistributors(),this.getParticulars(),this.getCategories(),this.getProduct(),this.getBatch(),this.getUserDistStockistDivision()},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions})})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(t){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var n=$("#stockiest option:selected").val();e.selectedFields.stockiest=n}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();console.log(n),this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data,e.divisions_edit=t.data)})},e.prototype.getStockiest_edit=function(){var e=this,t=[],n=$("#edit_distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.getDivisions_edit(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#edit_stockiest").val($("#edit_stockiest option:eq(1)").val())}))})},e.prototype.getDivisions_edit=function(){var e=this,t=[];this.divisions=[];var n=$("#edit_distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions_edit=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[];var t=[];this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/claimForApproval",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,divisions:t,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(t){200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,(e.selectedFields.type||e.selectedFields.division)&&e.filterDataTwice(e.selectedFields.type,e.selectedFields.division),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=this;this.loading=!0,this.showData=!0;var n=e.target.id;this.selectedFields[n]=e.target.value,$("#divisionCode").text("");var i=this.selectedFields.type,a=this.selectedFields.division;if("distributor"===n&&(this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){t.getData(),t.selectedFields.type="",t.selectedFields.division="",$("#type").val(t.selectedFields.type),$("#division").val(t.selectedFields.division)})),"stockiest"!==n&&"month"!==n&&"year"!==n||(this.getData(),this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),a){var r=this.divisions.filter(function(e){return e.division==Number(a)})[0].division;$("#divisionCode").text("("+r+")")}i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionId===Number(a)}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionId===Number(a)}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;V.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),V.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===V.a.DismissReason.cancel&&V.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(),V.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),V.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:xe().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key?i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(200).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide():i.length<=0&&($("#particulars_suggestion_"+r).hide(),$("#particulars_loader_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#particulars_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#particulars_"+i).val(""):1==r.length?($("#particulars_"+i).val(r[0].input),$("#particulars_suggestion_"+i).hide()):(a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show()),$("#particulars_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide(),$("#particulars_loader_"+n).hide()},e.prototype.getCategories=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.categories=t.data)})},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.categories.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#category_"+i).val(""):1==r.length?$("#category_"+i).val(r[0].input):(a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show()),$("#category_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide()},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide(),$("#category_loader_"+n).show()},e.prototype.searchDivision=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_division_id").val(""),$("#edit_product").val(""),$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_division_loader").show(),t=this.matchDivision(i),this.delay(10).then(function(e){n.divisionSuggestions(t,i)})):$("#edit_division_suggestion").hide()},e.prototype.matchDivision=function(e){var t=e.toLowerCase();return this.divisions_edit.filter(function(e){return e.name.toLowerCase().indexOf(t)>-1})},e.prototype.divisionSuggestions=function(e,t){var n=document.querySelector("#edit_division_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.name.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_division_suggestion").show(),$("#edit_division_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide(),$("#edit_division_loader").hide())},e.prototype.divisionSelection=function(e){var t,n=document.querySelector("#edit_division_suggestion ul");$("#edit_division").val(e.target.innerText),(t=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",t),$("#edit_division_id").val("")):$("#edit_division_id").val(t[0].division),n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide()},e.prototype.searchProduct=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_product_loader").show(),t=this.matchProduct(i),this.delay(10).then(function(e){n.productSuggestions(t,i)})):$("#edit_product_suggestion").hide()},e.prototype.matchProduct=function(e){var t=e.toLowerCase(),n=$("#edit_division_id").val();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(t)>-1&&e.division===Number(n)})},e.prototype.productSuggestions=function(e,t){var n=document.querySelector("#edit_product_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.materialName.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_product_suggestion").show(),$("#edit_product_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_product_suggestion").hide(),$("#edit_product_loader").hide())},e.prototype.productSelection=function(e){var t=[];t=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var n="";t.length>1?t.forEach(function(e,i){n+=i+1==t.length?e.material:e.material+","}):n=t[0].material;var i=document.querySelector("#edit_product_suggestion ul");i.innerHTML="",i.classList.remove("has-suggestions"),$("#edit_product").val(e.target.innerText),$("#edit_material").val(n),$("#edit_product_suggestion").hide()},e.prototype.searchBatch=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_batch_loader").show(),t=this.matchBatch(i),this.delay(10).then(function(e){n.batchSuggestions(t,i)})):$("#edit_batch_suggestion").hide()},e.prototype.matchBatch=function(e){var t=this,n=e.toLowerCase(),i=$("#edit_division_id").val(),a=$("#edit_material").val().split(","),r=[];return a.forEach(function(e){var a;(a=t.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(i)&&t.batch.toLowerCase().indexOf(n)>-1})).length&&r.push(a)}),r},e.prototype.batchSuggestions=function(e,t){var n=document.querySelector("#edit_batch_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){e.forEach(function(e){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(n.innerHTML+="<li>"+i.input+"</li>")})}),n.classList.add("has-suggestions"),$("#edit_batch_suggestion").show(),$("#edit_batch_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide(),$("#edit_batch_loader").hide())},e.prototype.batchSelection=function(e){var t=document.querySelector("#edit_batch_suggestion ul");$("#edit_batch").val(e.target.innerText),t.innerHTML="",t.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide();var n=this.batches.filter(function(t){return t.batch===e.target.innerText}),i=n.length?n[0].mrp:0,a=n.length?n[0].pts:0,r=n.length?n[0].ptr:0,o=n.length?n[0].ptd:0,l=n.length?n[0].material:"";$("#edit_material").val(l),$("#edit_mrp").val(i.toFixed(2)),$("#edit_pts").val(a.toFixed(2)),$("#edit_ptr").val(r.toFixed(2)),$("#edit_ptd").val(o.toFixed(2))},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.validateFoApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i;return Object(c.d)(this,function(a){switch(a.label){case 0:return n="",this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=a.sent()){if("field"===this.sessionData.type&&"field"===this.sessionData.workType&&0!=i.suhStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("field"===this.sessionData.type&&"suh"===this.sessionData.workType&&0!=i.hoStatus)return V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t){if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(1===i.ftStatus)return V.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.ftStatus=1,i.ftApprovalComment=null,i.ftActionBy=this.sessionData.id,i.ftActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error"),[2];if(1===i.suhStatus)return V.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.suhStatus=1,i.suhApprovalComment=null,i.suhActionBy=this.sessionData.id,i.suhActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>"}else if("Unapprove"===t)if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(2===i.ftStatus)return V.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.ftStatus=2,i.ftActionBy=this.sessionData.id,i.ftActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return V.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.suhStatus)return V.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.suhStatus=2,i.suhActionBy=this.sessionData.id,i.suhActionOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}}else n+="Clam doesn't exists.<br>";return n?V.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}):"Unapprove"===t?($("#comments").val(""),this.approvalClickedClaim=i,document.getElementById("myModalComment").style.display="block"):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(n){200===n.status?"Approve"===t&&($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).show(),$("#unapprovedIcon_"+e._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Oops","Something went wrong please try again.","error")}),[2]}})})},e.prototype.getClaimById=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getClaim",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data[0]:[])})})},e.prototype.openPopup=function(){this.displayStyle="block"},e.prototype.closePopup=function(){this.displayStyle="none"},e.prototype.approve=function(){return Object(c.b)(this,void 0,void 0,function(){var e=this;return Object(c.d)(this,function(t){switch(t.label){case 0:return this.requestedQty>this.allotedQty?(V.a.fire({title:"Are you sure want to approve?",text:"Only "+this.allotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(t){return Object(c.b)(e,void 0,void 0,function(){var e=this;return Object(c.d)(this,function(n){switch(n.label){case 0:return t.value?[4,this.allocateQuantity(this.allotedInvoiceQty)]:[3,2];case 1:return n.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.sessionData.id,this.approvalClickedClaim.approvedOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),[3,3];case 2:t.dismiss===V.a.DismissReason.cancel&&(V.a.fire("Cancelled","Your record is safe :)","error"),this.closePopup()),n.label=3;case 3:return[2]}})})}),[3,3]):[3,1];case 1:return[4,this.allocateQuantity(this.allotedInvoiceQty)];case 2:t.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.sessionData.id,this.approvalClickedClaim.approvedOn=xe().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),V.a.fire("Approved!","You approved the claim successfully.","success")):V.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),t.label=3;case 3:return[2]}})})},e.prototype.allocateQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getAllocatedQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.editRecord=function(e){if("field"!==this.sessionData.type||"field"!==this.sessionData.workType||0==e.suhStatus){if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0!=e.hoStatus)return void V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error");if(2===e.ftStatus)return void V.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error")}$("#edit_id").val(e._id),$("#edit_distributor").val(e.plant),$("#edit_stockiest").val(e.customerId),$("#edit_type").val(e.claimType),$("#edit_month").val(e.claimMonth),$("#edit_year").val(e.claimYear),$("#edit_invoice").val(e.invoice),$("#edit_batch").val(e.batch),$("#edit_division").val(e.divisionName),$("#edit_product").val(e.materialName),$("#edit_material").val(e.batchDetail[0].material),$("#edit_mrp").val(e.mrp),$("#edit_pts").val(e.pts),$("#edit_billingRate").val(e.billingRate),$("#edit_margin").val(e.margin),$("#edit_freeQuantity").val(e.freeQuantity),$("#edit_saleQuantity").val(e.saleQuantity),$("#edit_difference").val(e.difference),$("#edit_totalDifference").val(e.totalDifference),$("#edit_amount").val(e.amount),document.getElementById("myModal").style.display="block",this.validateClaim()}else V.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error")},e.prototype.closeEditModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModal").style.display="none"},e.prototype.closeCommentModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModalComment").style.display="none"},e.prototype.rejectClaim=function(){var e=this,t=$.trim($("#comments").val());t?("field"===this.sessionData.type&&"field"===this.sessionData.workType?this.approvalClickedClaim.ftApprovalComment=t:"field"===this.sessionData.type&&"suh"===this.sessionData.workType&&(this.approvalClickedClaim.suhApprovalComment=t),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?V.a.fire("Un-Approved!","You un-approved the claim successfully.","success"):V.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).show(),e.closeCommentModal()})):V.a.fire("Sorry","Please write the reason for rejection.","error")},e.prototype.closeUpdateCommentModal=function(){document.getElementById("updateModalComment").style.display="none"},e.prototype.updateCommentClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t=this;return Object(c.d)(this,function(n){return e={_id:$("#edit_id").val(),plant:$("#edit_distributor").val(),customerId:$("#edit_stockiest").val(),claimType:$("#edit_type").val(),claimMonth:$("#edit_month").val(),claimYear:$("#edit_year").val(),invoice:$("#edit_invoice").val(),batch:$("#edit_batch").val(),divisionName:$("#edit_division").val(),material:$("#edit_material").val(),materialName:$("#edit_product").val(),mrp:$("#edit_mrp").val(),pts:$("#edit_pts").val(),ptr:$("#edit_ptr").val(),ptd:$("#edit_ptd").val(),billingRate:$("#edit_billingRate").val(),margin:$("#edit_margin").val(),freeQuantity:$("#edit_freeQuantity").val(),saleQuantity:$("#edit_saleQuantity").val(),difference:$("#edit_difference").val(),totalDifference:$("#edit_totalDifference").val(),amount:$("#edit_amount").val()},"field"===this.sessionData.type&&"field"===this.sessionData.workType?e.ftUpdateComment=$("#update_comments").val():"field"===this.sessionData.type&&"suh"===this.sessionData.workType?e.suhUpdateComment=$("#update_comments").val():e.ftUpdateComment=$("#update_comments").val(),this.apiService.post("/api/claim/updateClaim",e).subscribe(function(e){200===e.status?(t.toast("success","Successfully updated."),setTimeout(function(){window.location.reload()},2e3)):t.toast("error","Something went wrong. Try refreshing the page or try again later.")}),[2]})})},e.prototype.changeCalculation=function(e){$("#edit_freeQuantity").attr("readonly",!1),$("#edit_billingRate").removeClass("grf-invalid"),$("#edit_freeQuantity").removeClass("grf-invalid"),$("#edit_saleQuantity").removeClass("grf-invalid");var t=$("#edit_billingRate").val(),n=$("#edit_freeQuantity").val(),i=$("#edit_saleQuantity").val(),a=/^\d*\.?\d*$/;if(a.test(t)||$("#edit_billingRate").addClass("grf-invalid"),a.test(n)||$("#edit_freeQuantity").addClass("grf-invalid"),a.test(i)||$("#edit_saleQuantity").addClass("grf-invalid"),0==t)if($("#edit_margin").val(0),n){var r=$("#edit_pts").val()*n;$("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(r.toFixed(2))}else $("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(Number(0).toFixed(2));else if($("#edit_freeQuantity").val(""),$("#edit_freeQuantity").attr("readonly",!0),t&&i){""!=$("#edit_margin").val()&&0!=$("#edit_margin").val()||$("#edit_margin").val(10);var o=$("#edit_margin").val(),l=$("#edit_pts").val()-t,s=l+t*o/100;r=s*i,$("#edit_difference").val(l.toFixed(2)),$("#edit_totalDifference").val(s.toFixed(2)),$("#edit_amount").val(r.toFixed(2))}},e.prototype.validateClaim=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass");var e=0,t=$("#edit_stockiest").val(),n=$("#edit_type").val(),i=$("#edit_month").val(),a=$("#edit_year").val(),r=$("#edit_invoice").val(),o=$("#edit_batch").val(),l=$("#edit_division").val(),s=$("#edit_product").val(),d=$("#edit_material").val(),c=$("#edit_mrp").val(),m=$("#edit_pts").val(),p=$("#edit_billingRate").val(),u=$("#edit_freeQuantity").val(),f=$("#edit_amount").val();t||(e=1,$("#edit_stockiest").addClass("errorClass")),n||(e=1,$("#edit_type").addClass("errorClass")),i||(e=1,$("#edit_month").addClass("errorClass")),a||(e=1,$("#edit_year").addClass("errorClass")),r||(e=1,$("#edit_invoice").addClass("errorClass")),o||(e=1,$("#edit_batch").addClass("errorClass")),l||(e=1,$("#edit_batch").addClass("errorClass")),s||(e=1,$("#edit_batch").addClass("errorClass")),d||(e=1,$("#edit_batch").addClass("errorClass")),c||(e=1,$("#edit_batch").addClass("errorClass")),m||(e=1),p<0&&(e=1,$("#edit_batch").addClass("errorClass"),$("#edit_billingRate").addClass("errorClass")),f<=0&&(e=1,$("#edit_amount").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),$("#edit_error").val(e)},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.updateClaim=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(e){return this.validateClaim(),0!=$("#edit_error").val()?this.toast("error","Something is wrong please fix before updating."):($("#update_comments").val(""),document.getElementById("updateModalComment").style.display="block"),[2]})})},e.prototype.getDismissReason=function(e){return e===x.a.ESC?"by pressing ESC":e===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){console.log(e),this.clickedRecord=e,console.log(this.clickedRecord),document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](x.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-fo-approval"]],decls:268,vars:44,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading",2,"width","50%"],[1,"page-title-icon"],[1,"page-title-subheading"],["id","headLoader",1,"tc",2,"display","none","font-size","14px","font-weight","600","color","#FF0013","letter-spacing","1px"],["src","./../../../assets/images/btn_loader.gif"],["id","pageLoader",2,"position","absolute","width","100%","height","100%","background-color","#F1F4F6","z-index","1","opacity","0.5","display","none"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"form-select",2,"display","none",3,"change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select",3,"change"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"form-select",3,"change"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","row",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["style","width: 1000px;"],["details",""],["uploads",""],["id","myModal",1,"modal"],[1,"modal-content"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body"],["for","edit_distributor",1,"form-label","fb"],["id","edit_distributor",1,"form-select",3,"change"],["for","edit_stockiest",1,"form-label","fb"],["id","edit_stockiest",1,"form-select",3,"tabIndex","change"],["for","edit_type",1,"form-label","fb"],["id","edit_type",1,"form-select",3,"tabIndex","change"],["for","edit_month",1,"form-label","fb"],["id","edit_month",1,"form-select",3,"tabIndex","change"],["for","edit_year",1,"form-label","fb"],["id","edit_year",1,"form-select",3,"tabIndex","change"],["id","table1",1,"table"],[1,"td-head"],["type","text","id","edit_invoice",1,"form-control","grf-am",3,"tabIndex","change"],["type","text","id","edit_division",1,"form-control","grf-am",3,"keyup"],["id","edit_division_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_division_suggestion",1,"suggestions",2,"display","none",3,"click"],["type","hidden","id","edit_division_id"],["type","text","id","edit_product",1,"form-control","grf-am",3,"keyup"],["id","edit_product_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_product_suggestion",1,"suggestions",2,"left","18%","display","none",3,"click"],["type","hidden","id","edit_material"],["type","text","id","edit_batch","autocomplete","off",1,"form-control","grf-am",3,"tabIndex","keyup"],["id","edit_batch_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_batch_suggestion",1,"suggestions",2,"left","26%","display","none",3,"click"],["type","text","id","edit_mrp","disabled","",1,"form-control","grf-am"],["type","text","id","edit_pts","disabled","",1,"form-control","grf-am"],["type","hidden","id","edit_ptr",1,"form-control","grf-am"],["type","hidden","id","edit_ptd",1,"form-control","grf-am"],["type","hidden","id","edit_margin",1,"form-control","grf-am"],["type","text","id","edit_billingRate",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_freeQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_saleQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_difference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_totalDifference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_amount","disabled","",1,"form-control","grf-am",3,"tabIndex"],[1,"modal-footer",2,"padding","5px 15px"],["type","hidden","id","edit_id","value","",1,"form-control"],["type","hidden","id","edit_error","value","0",1,"form-control","grf-am"],["type","button",1,"btn","btn-success",3,"tabIndex","click"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],["id","myModalComment",1,"modal"],[1,"modal-content",2,"width","380px","margin","auto"],[1,"modal-body",2,"padding-top","22px"],["id","comments","name","comments","rows","4","cols","50"],["id","updateModalComment",1,"modal"],["id","update_comments","name","update_comments","rows","4","cols","50"],["id","modalComments",1,"modal"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],[3,"value"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["class","border-bottom tc","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom","tc",2,"height","35px"],[1,"border-right","tc"],["class","fl",4,"ngIf"],[1,"border-right"],[1,"border-right","tal"],[1,"tc"],["style","padding: 0px;",4,"ngIf"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],[1,"fl"],["placement","bottom","ngbTooltip","Accepted by FT","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by FT","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by SUH","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by SUH","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted","class","legend-bullet mlr8 fl approved",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected","class","legend-bullet mlr8 fl rejected",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Accepted by FT",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by FT",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by SUH",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by SUH",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",3,"id"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[2,"padding","0px"],["placement","bottom","ngbTooltip","Accept",1,"option-icon","pe-7s-check","iconpe_green",3,"click"],["placement","bottom","ngbTooltip","Reject",1,"option-icon","pe-7s-close-circle","iconpe_red",3,"click"],["placement","bottom","ngbTooltip","Edit",1,"option-icon","pe-7s-edit","iconpe_blue",3,"click"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",2),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275element"](11,"img",6),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275text"](13," Processing... Please wait! "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"div",7),a["\u0275\u0275elementStart"](15,"div",8),a["\u0275\u0275elementStart"](16,"div",9),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275elementStart"](20,"label",13),a["\u0275\u0275text"](21,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"select",14),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](23,"option",15),a["\u0275\u0275text"](24," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,Ca,3,5,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",17),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275element"](28,"img",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",11),a["\u0275\u0275elementStart"](30,"div",12),a["\u0275\u0275elementStart"](31,"label",20),a["\u0275\u0275text"](32," Stockiest "),a["\u0275\u0275template"](33,ka,2,1,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"select",22),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](35,"option",15),a["\u0275\u0275text"](36," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](37,wa,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](38,"span",23),a["\u0275\u0275elementStart"](39,"div",24),a["\u0275\u0275element"](40,"img",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",11),a["\u0275\u0275elementStart"](42,"div",12),a["\u0275\u0275elementStart"](43,"label",25),a["\u0275\u0275text"](44,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",26),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](46,"option",27),a["\u0275\u0275text"](47," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,Ia,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",11),a["\u0275\u0275elementStart"](51,"div",12),a["\u0275\u0275elementStart"](52,"label",29),a["\u0275\u0275text"](53,"Division "),a["\u0275\u0275element"](54,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"select",31),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](56,"option",27),a["\u0275\u0275text"](57," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](58,$a,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"div",11),a["\u0275\u0275elementStart"](60,"div",12),a["\u0275\u0275elementStart"](61,"label",32),a["\u0275\u0275text"](62,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"select",33),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](64,"option",34),a["\u0275\u0275text"](65," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](66,Da,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](67,"span",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"div",11),a["\u0275\u0275elementStart"](69,"div",12),a["\u0275\u0275elementStart"](70,"label",36),a["\u0275\u0275text"](71,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"select",37),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](73,"option",34),a["\u0275\u0275text"](74," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,Fa,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](76,"span",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"div",10),a["\u0275\u0275elementStart"](78,"div",39),a["\u0275\u0275element"](79,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](80,Oa,4,0,"div",40),a["\u0275\u0275template"](81,Ma,2,0,"div",40),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,tr,42,1,"div",41),a["\u0275\u0275template"](83,nr,3,1,"div",42),a["\u0275\u0275template"](84,rr,16,3,"ng-template",43,44,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](86,or,14,1,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](88,"div",46),a["\u0275\u0275elementStart"](89,"div",47),a["\u0275\u0275elementStart"](90,"div",48),a["\u0275\u0275elementStart"](91,"h2",49),a["\u0275\u0275text"](92,"Update Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](94,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](95,"div",51),a["\u0275\u0275elementStart"](96,"div",10),a["\u0275\u0275elementStart"](97,"div",11),a["\u0275\u0275elementStart"](98,"div",12),a["\u0275\u0275elementStart"](99,"label",52),a["\u0275\u0275text"](100,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"select",53),a["\u0275\u0275listener"]("change",function(){return t.getStockiest_edit()}),a["\u0275\u0275elementStart"](102,"option",15),a["\u0275\u0275text"](103," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](104,lr,3,5,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](105,"div",11),a["\u0275\u0275elementStart"](106,"div",12),a["\u0275\u0275elementStart"](107,"label",54),a["\u0275\u0275text"](108,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"select",55),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](110,"option",15),a["\u0275\u0275text"](111," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,sr,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](113,"div",11),a["\u0275\u0275elementStart"](114,"div",12),a["\u0275\u0275elementStart"](115,"label",56),a["\u0275\u0275text"](116,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](117,"select",57),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](118,"option",34),a["\u0275\u0275text"](119," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](120,dr,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"div",11),a["\u0275\u0275elementStart"](122,"div",12),a["\u0275\u0275elementStart"](123,"label",58),a["\u0275\u0275text"](124,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](125,"select",59),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](126,"option",34),a["\u0275\u0275text"](127," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](128,cr,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](129,"div",11),a["\u0275\u0275elementStart"](130,"div",12),a["\u0275\u0275elementStart"](131,"label",60),a["\u0275\u0275text"](132,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](133,"select",61),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](134,"option",34),a["\u0275\u0275text"](135," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](136,mr,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](137,"div",10),a["\u0275\u0275elementStart"](138,"table",62),a["\u0275\u0275elementStart"](139,"tr"),a["\u0275\u0275elementStart"](140,"th",63),a["\u0275\u0275text"](141,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"th",63),a["\u0275\u0275text"](143,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"th",63),a["\u0275\u0275text"](145,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](146,"th",63),a["\u0275\u0275text"](147,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](148,"th",63),a["\u0275\u0275text"](149,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](150,"th",63),a["\u0275\u0275text"](151,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](152,"th",63),a["\u0275\u0275text"](153,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](154,"th",63),a["\u0275\u0275text"](155,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](156,"th",63),a["\u0275\u0275text"](157,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](158,"th",63),a["\u0275\u0275text"](159,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](160,"th",63),a["\u0275\u0275text"](161,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](162,"th",63),a["\u0275\u0275text"](163,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](164,"tr"),a["\u0275\u0275elementStart"](165,"td"),a["\u0275\u0275elementStart"](166,"input",64),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](167,"td"),a["\u0275\u0275elementStart"](168,"input",65),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](169,"img",66),a["\u0275\u0275elementStart"](170,"div",67),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e)}),a["\u0275\u0275element"](171,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](172,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](173,"td"),a["\u0275\u0275elementStart"](174,"input",69),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](175,"img",70),a["\u0275\u0275elementStart"](176,"div",71),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e)}),a["\u0275\u0275element"](177,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](178,"input",72),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](179,"td"),a["\u0275\u0275elementStart"](180,"input",73),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](181,"img",74),a["\u0275\u0275elementStart"](182,"div",75),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e)}),a["\u0275\u0275element"](183,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](184,"td"),a["\u0275\u0275element"](185,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](186,"td"),a["\u0275\u0275element"](187,"input",77),a["\u0275\u0275element"](188,"input",78),a["\u0275\u0275element"](189,"input",79),a["\u0275\u0275element"](190,"input",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](191,"td"),a["\u0275\u0275elementStart"](192,"input",81),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](193,"td"),a["\u0275\u0275elementStart"](194,"input",82),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](195,"td"),a["\u0275\u0275elementStart"](196,"input",83),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](197,"td"),a["\u0275\u0275element"](198,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](199,"td"),a["\u0275\u0275element"](200,"input",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](201,"td"),a["\u0275\u0275element"](202,"input",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](203,"div",87),a["\u0275\u0275element"](204,"input",88),a["\u0275\u0275element"](205,"input",89),a["\u0275\u0275elementStart"](206,"button",90),a["\u0275\u0275listener"]("click",function(){return t.updateClaim()}),a["\u0275\u0275text"](207," Update "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](208,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](209," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](210,"div",92),a["\u0275\u0275elementStart"](211,"div",93),a["\u0275\u0275elementStart"](212,"div",48),a["\u0275\u0275elementStart"](213,"h2",49),a["\u0275\u0275text"](214,"Reason for rejection"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](215,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](216,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](217,"div",94),a["\u0275\u0275elementStart"](218,"div",10),a["\u0275\u0275elementStart"](219,"div",39),a["\u0275\u0275elementStart"](220,"div",12),a["\u0275\u0275element"](221,"textarea",95),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](222,"div",87),a["\u0275\u0275elementStart"](223,"button",90),a["\u0275\u0275listener"]("click",function(){return t.rejectClaim()}),a["\u0275\u0275text"](224," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](225,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](226," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](227,"div",96),a["\u0275\u0275elementStart"](228,"div",93),a["\u0275\u0275elementStart"](229,"div",48),a["\u0275\u0275elementStart"](230,"h2",49),a["\u0275\u0275text"](231,"Reason for update"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](232,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](233,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](234,"div",94),a["\u0275\u0275elementStart"](235,"div",10),a["\u0275\u0275elementStart"](236,"div",39),a["\u0275\u0275elementStart"](237,"div",12),a["\u0275\u0275element"](238,"textarea",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](239,"div",87),a["\u0275\u0275elementStart"](240,"button",90),a["\u0275\u0275listener"]("click",function(){return t.updateCommentClaim()}),a["\u0275\u0275text"](241," Update Now "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](242,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](243," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](244,"div",98),a["\u0275\u0275elementStart"](245,"div",99),a["\u0275\u0275elementStart"](246,"div",48),a["\u0275\u0275elementStart"](247,"h2",49),a["\u0275\u0275text"](248,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](249,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](250,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](251,"div",100),a["\u0275\u0275elementStart"](252,"div",10),a["\u0275\u0275elementStart"](253,"table",101),a["\u0275\u0275elementStart"](254,"tr"),a["\u0275\u0275elementStart"](255,"th",102),a["\u0275\u0275text"](256,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](257,"th",103),a["\u0275\u0275text"](258,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](259,pr,7,1,"tr",104),a["\u0275\u0275template"](260,ur,7,1,"tr",104),a["\u0275\u0275template"](261,fr,7,1,"tr",104),a["\u0275\u0275template"](262,vr,7,1,"tr",104),a["\u0275\u0275template"](263,hr,7,1,"tr",104),a["\u0275\u0275template"](264,gr,7,1,"tr",104),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](265,"div",87),a["\u0275\u0275elementStart"](266,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](267," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",11),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[o.q,o.x,b.l,b.m,x.l,ze.a],pipes:[b.u,b.e],styles:['.errorClass[_ngcontent-%COMP%]{border:1px solid #ff0013}.fl[_ngcontent-%COMP%]{float:left}.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.mlr8[_ngcontent-%COMP%]{margin:0 8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.td-head[_ngcontent-%COMP%]{font-weight:600;height:30px;background:#efefef}.grf-am[_ngcontent-%COMP%], .td-head[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1;left:10%}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.inputcontainer[_ngcontent-%COMP%]{position:relative;padding:0}.icon-container[_ngcontent-%COMP%]{position:absolute;right:15px;top:calc(50% - 9px);display:none}.loader[_ngcontent-%COMP%]{position:relative;height:15px;width:15px;display:inline-block;-webkit-animation:around 5.4s infinite;animation:around 5.4s infinite}@-webkit-keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";background:#fff;position:absolute;display:inline-block;width:100%;height:100%;border-color:#e15b64 #e15b64 transparent transparent;border-style:solid;border-width:2px;border-radius:20px;box-sizing:border-box;top:0;left:0;-webkit-animation:around .7s ease-in-out infinite;animation:around .7s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{-webkit-animation:around .7s ease-in-out .1s infinite;animation:around .7s ease-in-out .1s infinite;background:transparent}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto 7%;width:92%;padding:0;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.wpseo-score-icon[_ngcontent-%COMP%]{background:#888;border-radius:50%!important;height:12px!important;width:12px!important;margin:auto}.wpseo-score-icon.good[_ngcontent-%COMP%]{background-color:#4bae4f}.wpseo-score-icon.bad[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_green[_ngcontent-%COMP%]{background-color:#4bae4f}.iconpe_green[_ngcontent-%COMP%], .iconpe_red[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#fff;border-radius:50%;text-align:center;padding:0 0 0 .5px;margin:2px;cursor:pointer}.iconpe_red[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_blue[_ngcontent-%COMP%]{font-size:15px;background-color:#2fa4e7;padding:3px 3px 2px 3.5px}.iconpe_blue[_ngcontent-%COMP%], .iconpe_purp[_ngcontent-%COMP%]{font-weight:800;color:#fff;border-radius:50%;text-align:center;margin:2px;cursor:pointer}.iconpe_purp[_ngcontent-%COMP%]{font-size:20px;background-color:#6610f2;padding:0 0 0 .5px}.disabledd[_ngcontent-%COMP%]{background-color:#ccc}.npicon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.bg-ripe-malin-np[_ngcontent-%COMP%]{background-image:linear-gradient(120deg,#ff0013,#ff0013)!important}.bg-grow-early-np[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#03ac13 0,#03ac13)!important}.legend-bullet[_ngcontent-%COMP%]{width:12px;height:12px;min-width:12px;border-radius:50%}.rejected[_ngcontent-%COMP%]{background-color:#df2a4a}.approved[_ngcontent-%COMP%]{background-color:#00aa63}.inprogress[_ngcontent-%COMP%]{background-color:#e8e8eb}']}),e}(),yr=function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Add New asset",this.subheading="Add a Commercial, Residential or Owned Asset.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){this.loggedUserId=localStorage.getItem("laUserId"),("string"==typeof this.loggedUserId&&"null"===this.loggedUserId||"object"==typeof this.loggedUserId&&null===this.loggedUserId)&&this.router.navigateByUrl("/login"),$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:G+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[o.w,o.n,o.o],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}(),xr=function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Sales Distributor (9000)",this.subheading="Upload distributor sales.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:G+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[o.w,o.n,o.o],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}();function Sr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function _r(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",60),a["\u0275\u0275text"](2,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",61),a["\u0275\u0275element"](5,"span",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Er(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",63),a["\u0275\u0275text"](2,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",64),a["\u0275\u0275element"](5,"span",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Cr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",66),a["\u0275\u0275text"](2,"Employee Code"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",67),a["\u0275\u0275element"](5,"span",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function kr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function wr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",69),a["\u0275\u0275text"](2,"Work Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",70),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getSupervisor(e)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Work Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,kr,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.workTypes)}}function Ir(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.code),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.code," - ",a["\u0275\u0275pipeBind1"](2,3,n.name)," ")}}function $r(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",72),a["\u0275\u0275text"](2,"Supervisor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",73),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Supervisor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Ir,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.supervisors)}}function Dr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Fr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",75),a["\u0275\u0275text"](2,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",76),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getDistributorData(e,-1)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Dr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.distributors)}}function Or(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.customerId," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Mr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",78),a["\u0275\u0275text"](2,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",79),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Stockist "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Or,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.distributorStockists)}}function Pr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Tr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275elementStart"](2,"label",82),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",83),a["\u0275\u0275elementStart"](5,"select",84),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().getDistributorData(e,i)}),a["\u0275\u0275elementStart"](6,"option",12),a["\u0275\u0275text"](7," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,Pr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",86),a["\u0275\u0275elementStart"](11,"button",87),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeDistributor(e)}),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",88),a["\u0275\u0275elementStart"](14,"label",82),a["\u0275\u0275text"](15,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"select",89),a["\u0275\u0275elementStart"](18,"option",12),a["\u0275\u0275text"](19," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",90),a["\u0275\u0275elementStart"](21,"div",91),a["\u0275\u0275elementStart"](22,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleDivisionCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"label",93),a["\u0275\u0275text"](24,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](25,"div",94),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",95),a["\u0275\u0275elementStart"](28,"label",82),a["\u0275\u0275text"](29,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"select",89),a["\u0275\u0275elementStart"](32,"option",12),a["\u0275\u0275text"](33," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",90),a["\u0275\u0275elementStart"](35,"div",91),a["\u0275\u0275elementStart"](36,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"label",93),a["\u0275\u0275text"](38,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](39,"div",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("for","distributor_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Distributor ",i+2,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distributor_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",r.distributors),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_distributor_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Remove Distributor ",i+2,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","dvson_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","division_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sddCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sddCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_data_",i,""),a["\u0275\u0275propertyInterpolate1"]("name","division_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stkst_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","stockist_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sdCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sdCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stockist_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_stockist_div_",i,"")}}function Rr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275elementStart"](1,"label",98),a["\u0275\u0275text"](2,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",99),a["\u0275\u0275elementStart"](4,"button",100),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addMore()}),a["\u0275\u0275text"](5,"Add More Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",1e5))}function Nr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",101),a["\u0275\u0275elementStart"](1,"input",102),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().togglePermissionCheckbox(e.permissionId)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"label",103),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275propertyInterpolate"]("value",i.permissionId),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](i.permissionName)}}var jr=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create User",this.subheading="Create a user who can use the CN application.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.commonFields=!1,this.officeFields=!1,this.fieldFields=!1,this.distributorField=!1,this.stockistField=!1,this.loggedUserId="",this.divisions=[],this.permission=[],this.supervisors=[],this.stockiestes=[],this.distributors=[],this.selectedDivision=[],this.accesspermissions=[],this.selectedStockiest=[],this.selectedPermission=[],this.selectedDistributor=[],this.distributorStockists=[],this.userTypes=[{id:"ho",name:"Head Office"},{id:"field",name:"Field"},{id:"distributor",name:"Distributor"},{id:"stockist",name:"Stockist"}],this.workTypes=[{id:"hos",name:"HOS"},{id:"suh",name:"SUH"},{id:"field",name:"Field"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId="648946064477e07c9fc1b862",this.createForm(),this.getAllDivision(),this.getAllDistributor(),this.getAllAccessPermision()},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.userForm=this.fb.group({userType:["",[o.v.required]],username:[""],email:["",[o.v.required]],code:[""],workType:[""],supervisor:[""],distributor_def:[""],division_def:[[]],stockist_def:[[]],stockist_all:[""],permission:["",[o.v.required]],portals:this.portalId,loggedUserId:this.loggedUserId,users:this.fb.array([]),dist:this.fb.array([])})},e.prototype.users=function(){return this.userForm.get("users")},e.prototype.dist=function(){return this.userForm.get("dist")},e.prototype.newDist=function(){return this.fb.group({distributor:"",division:"",stockiest:""})},e.prototype.addMore=function(){this.dist().push(this.newDist())},e.prototype.removeDistributor=function(e){this.dist().removeAt(e)},e.prototype.getAllDistributor=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getAllAccessPermision=function(){var e=this;this.apiService.get("/api/access/getall",this.portalId).subscribe(function(t){200===t.status&&t.data.length&&(e.accesspermissions=t.data)})},e.prototype.getDistributorData=function(e,t){var n=$("#userTypes").val();if("distributor"===n);else{for(var i=[],a=e.target.value,r=this.dist().controls.length,o=0;o<=r;o++){var l=o-1;if(t!=l){var s=$("#distributor_"+(-1===l?"def":l)).val();i.push(s)}}i.includes(a)?(console.log("Already added"),$("#distributor_"+(-1===t?"def":t)).val("")):(this.getDistributorDivision(e,t),this.getDistributorStockist(e,t,n))}},e.prototype.appendDivisions=function(e){parseInt(e.target.value);var t=document.querySelector("#division_data_all");t.innerHTML="",this.divisions.forEach(function(e,n){var i=document.createElement("div");i.classList.add("col-sm-4"),i.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_all" id="divisionCheckbox_all_'+n+'" value="'+e.division+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_all_'+n+'">'+e.name+"</label>",t.appendChild(i)})},e.prototype.getDistributorDivision=function(e,t){var n=this,i=parseInt(e.target.value),a=-1===t?"def":t,r={plant:i};$("#division_sel_"+a).show(),$("#division_div_"+a).hide();var o=document.querySelector("#division_data_"+a);o.innerHTML="",this.apiService.post("/api/distributor/distributorDivison",r).subscribe(function(e){200===e.status&&e.data.length&&(e.data[0].divisions.forEach(function(e,t){var r=n.divisions.filter(function(t){return t.division===Number(e)}),l=document.createElement("div");l.classList.add("col-sm-4"),l.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_'+a+'" id="divisionCheckbox_'+i+"_"+t+'" value="'+e+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_'+i+"_"+t+'">'+r[0].name+"</label>",o.appendChild(l)}),$("#division_sel_"+a).hide(),$("#division_div_"+a).show())})},e.prototype.getDistributorStockist=function(e,t,n){var i=this;this.distributorStockists=[];var a=parseInt(e.target.value),r=-1===t?"def":t,o={plant:a};$("#stockist_sel_"+r).show(),$("#stockist_div_"+r).hide();var l=document.querySelector("#stockist_data_"+r);if(l.innerHTML="","ho"===n){var s=document.createElement("div");s.classList.add("col-sm-4"),s.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+'_99999" value="'+a+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+'_99999">--- SELF ---</label>',l.appendChild(s)}this.apiService.post("/api/stockiest/distributorStockiest",o).subscribe(function(e){200===e.status&&e.data.length&&(i.distributorStockists=e.data,$.each(e.data,function(e,t){var n=document.createElement("div");n.classList.add("col-sm-4"),n.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+"_"+e+'" value="'+t.customerId+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+"_"+e+'">'+t.organization+"</label>",l.appendChild(n)}),$("#stockist_sel_"+r).hide(),$("#stockist_div_"+r).show())})},e.prototype.toggleDivisionCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sddCheckbox_"+t),i=document.getElementsByName("dchkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.toggleDivisionAllCheckbox=function(e){for(var t=document.getElementById("sddCheckbox_"+e),n=document.getElementsByName("dchkbox_"+e),i=0,a=n.length;i<a;i++)n[i].checked=1==t.checked},e.prototype.toggleCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sdCheckbox_"+t),i=document.getElementsByName("chkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.togglePermissionAllCheckbox=function(e){for(var t=document.getElementById("permissCheckbox_"+e),n=document.getElementsByName("pchkbox_"+e),i=1,a=0;a<n.length;a++){var r=$("#permissionCheckbox_all_"+i).val(),o=this.permission.indexOf(r);1==t.checked?(n[a].checked=!0,o<0&&this.permission.push(r)):(n[a].checked=!1,this.permission=[]),i++}},e.prototype.togglePermissionCheckbox=function(e){var t=document.getElementById("permissCheckbox_all"),n=document.getElementById("permissionCheckbox_all_"+e),i=$("#permissionCheckbox_all_"+e).val(),a=this.permission.indexOf(i);0==n.checked?(t.checked=!1,a>-1&&this.permission.splice(a,1)):a<0&&this.permission.push(i)},e.prototype.getAllDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&(e.divisions=t.data.length?t.data:[])})},e.prototype.selectAllForDivisionItems=function(e){!function(e){e.forEach(function(e){e.selectedAllDivisionGroup="selectedAllDivisionGroup"})}(e)},e.prototype.showFormFields=function(e){this.supervisors=[],this.commonFields=!0,this.fieldFields=!1,this.officeFields=!1,this.stockistField=!1,this.distributorField=!1,$("#dvson_def").hide(),$("#stkst_def").hide(),$("#dvson_all").hide(),console.log("target.value--",e.target.value),"ho"==e.target.value&&this.getSupervisor(e),"ho"!=e.target.value&&"field"!=e.target.value||(this.officeFields=!0,this.distributorField=!0,$("#dvson_def").show(),$("#stkst_def").show()),"field"==e.target.value&&(this.fieldFields=!0),"distributor"==e.target.value&&(this.distributorField=!0,this.appendDivisions(e),$("#dvson_all").show()),"stockist"==e.target.value&&(this.distributorField=!0,this.stockistField=!0,$("#dvson_def").show()),$("#permiss_all").show()},e.prototype.getSupervisor=function(e){var t=this;this.supervisors=[],console.log("e.target.value--",e.target.value),this.apiService.get("/api/userSupervisor",e.target.value).subscribe(function(e){200===e.status&&e.data.length&&(t.supervisors=e.data)})},e.prototype.onSubmit=function(){this.submitted=!0;var e=[],t=[],n=[],i=[];$(".form-select").removeClass("is-invalid"),$(".form-control").removeClass("is-invalid"),$(".container_div").css("border","1px solid #ced4da"),$(".text-danger").hide();var a=$("#userTypes option:selected").val(),r=$.trim($("#email").val()),o=$("#distributor_def option:selected").val();if(a||($("#userTypes").addClass("is-invalid"),$("#err_userTypes").text("User type is required").show()),r||($("#email").addClass("is-invalid"),$("#err_email").text("Email is required").show()),r&&(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(r)||($("#email").addClass("is-invalid"),$("#err_email").text("Enter Valid Email Address").show())),o||($("#distributor_def").addClass("is-invalid"),$("#err_distributor_def").text("Distributor is required").show()),"distributor"===a){for(var l=document.getElementsByName("dchkbox_all"),s=0;s<l.length;s++)if((x=$("#divisionCheckbox_all_"+s)).is(":checked")){var d=x.val();i.push(d)}0===i.length&&($("#division_div_all").css("border","1px solid red"),$("#err_division_div_all").text("At least one division is required.").show())}if("stockist"===a){$("#stockist_all option:selected").val()||($("#stockist_all").addClass("is-invalid"),$("#err_stockist_all").text("Stockist is required").show());for(var c=this.dist().controls.length,m=0;m<=c;m++){var p=-1==(g=m-1)?"def":g,u=$("#distributor_"+p).val(),f=document.getElementsByName("dchkbox_"+p);for(s=0;s<f.length;s++)(x=$("#divisionCheckbox_"+u+"_"+s)).is(":checked")&&(d=x.val(),e.push(d))}0===e.length&&($("#division_div_def").css("border","1px solid red"),$("#err_division_div_def").text("At least one division is required.").show())}if("ho"===a||"field"===a){$("#username").val()||($("#username").addClass("is-invalid"),$("#err_username").text("Name is required").show());var v=$("#code").val(),h=/^\d+$/.test(v);for(v?h?6!=String(v).length&&($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be 6 digits only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be a number only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code is required").show()),$("#supervisor option:selected").val()||($("#supervisor").addClass("is-invalid"),$("#err_supervisor").text("Supervisor is required").show()),c=this.dist().controls.length,m=0;m<=c;m++){var g;p=-1==(g=m-1)?"def":g,(u=$("#distributor_"+p+" option:selected").val())?n[m]=u:($("#distributor_"+p).addClass("is-invalid"),$("#err_distributor_"+p).text("Distributor is required").show());var b=[];for(f=document.getElementsByName("dchkbox_"+p),s=0;s<f.length;s++){var y=$("#divisionCheckbox_"+u+"_"+s);y.is(":checked")&&(d=y.val(),b.push(d))}0===b.length?($("#division_sel_"+p).addClass("is-invalid"),$("#division_div_"+p).css("border","1px solid red"),$("#err_division_div_"+p).text("At least one division is required.").show()):e[m]=b;var x,S=[],_=document.getElementsByName("chkbox_"+p);console.log("checkboxes.length--",_.length),(x=$("#inlineCheckbox_"+u+"_99999")).is(":checked")&&(d=x.val(),S.push(d));for(var E=0;E<_.length;E++){var C=$("#inlineCheckbox_"+u+"_"+E);C.is(":checked")&&(d=C.val(),S.push(d))}0===S.length?($("#stockist_sel_"+p).addClass("is-invalid"),$("#stockist_div_"+p).css("border","1px solid red"),$("#err_stockist_div_"+p).text("At least one stockist is required.").show()):t[m]=S,console.log("selectedDivisions--",e),console.log("selectedStockists--",t)}}if("field"===a&&($("#workType option:selected").val()||($("#workType").addClass("is-invalid"),$("#err_workType").text("Work type is required").show())),this.userForm.get("permission").setValue(this.permission),this.userForm.valid){var k={};if(k.userType=this.userForm.value.userType,k.email=this.userForm.value.email,k.portalId=this.portalId,k.loggedUserId=this.loggedUserId,k.permission=this.userForm.value.permission,"distributor"===a){var w=Number(this.userForm.value.distributor_def),I=this.distributors.filter(function(e){return e.plant===w});k.userType=this.userForm.value.userType,k.username=I[0].organization,k.email=this.userForm.value.email,k.code=this.userForm.value.distributor_def,k.divisions=i}if("stockist"===a){var D=Number(this.userForm.value.stockist_all);I=this.distributorStockists.filter(function(e){return e.customerId===D}),k.username=I[0].organization,k.plant=this.userForm.value.distributor_def,k.code=this.userForm.value.stockist_all,k.divisions=e}"ho"!==a&&"field"!==a||(k.username=this.userForm.value.username,k.code=this.userForm.value.code,k.supervisor=this.userForm.value.supervisor,k.distributors=n,k.divisions=e,k.stockists=t),"field"===a&&(k.workType=this.userForm.value.workType),console.log("reqData--",k)}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-user"]],decls:87,vars:17,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","userTypes",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","userTypes","formControlName","userType",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_userTypes",1,"text-danger",2,"display","none"],["class","position-relative row mb-3 common required",4,"ngIf"],["class","position-relative row mb-3 required",4,"ngIf"],["id","dvson_all",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_all",1,"form-label","col-sm-2","col-form-label"],["id","division_div_all",1,"row","container_div"],["id","division_sd_all"],["type","checkbox","id","sddCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_all",1,"form-check-label",2,"font-weight","500"],["id","division_data_all","name","division_data_all",1,"row"],["id","err_division_div_all",1,"text-danger",2,"display","none"],["id","dvson_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_def",1,"form-label","col-sm-2","col-form-label"],["id","division_sel_def",1,"form-select"],["id","division_div_def",1,"row","container_div",2,"display","none"],["id","division_sd_def"],["type","checkbox","id","sddCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","division_data_def","name","division_data_def",1,"row"],["id","err_division_div_def",1,"text-danger",2,"display","none"],["id","stkst_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","stockist_def",1,"form-label","col-sm-2","col-form-label"],["id","stockist_sel_def",1,"form-select"],["id","stockist_div_def",1,"row","container_div",2,"display","none"],["id","stockist_sd_def"],["type","checkbox","id","sdCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sdCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","stockist_data_def","name","stockist_data_def",1,"row"],["id","err_stockist_div_def",1,"text-danger",2,"display","none"],["formArrayName","dist",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","position-relative row mb-3",4,"ngIf"],["id","permiss_all",1,"position-relative","row","mb-3",2,"display","none"],["for","permission_all",1,"form-label","col-sm-2","col-form-label","req_permission"],["id","permission_div_all",1,"row","container_div"],["id","permission_sd_all"],["type","checkbox","id","permissCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","permissCheckbox_all",1,"form-check-label","req_permission",2,"font-weight","500"],["id","permission_data_all","name","permission_data_all",1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],["id","err_permission_div_all",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"],[1,"position-relative","row","mb-3","common","required"],["for","username",1,"form-label","col-sm-2","col-form-label"],["formControlName","username","id","username","placeholder","Name","type","text",1,"form-control"],["id","err_username",1,"text-danger",2,"display","none"],["for","email",1,"form-label","col-sm-2","col-form-label"],["formControlName","email","id","email","placeholder","Email","type","email","required","",1,"form-control","grf-def"],["id","err_email",1,"text-danger",2,"display","none"],["for","code",1,"form-label","col-sm-2","col-form-label"],["formControlName","code","id","code","placeholder","Employee Code","type","text",1,"form-control"],["id","err_code",1,"text-danger",2,"display","none"],["for","workType",1,"form-label","col-sm-2","col-form-label"],["id","workType","formControlName","workType",1,"form-select",3,"change"],["id","err_workType",1,"text-danger",2,"display","none"],["for","supervisor",1,"form-label","col-sm-2","col-form-label"],["id","supervisor","formControlName","supervisor",1,"form-select"],["id","err_supervisor",1,"text-danger",2,"display","none"],["for","distributor_def",1,"form-label","col-sm-2","col-form-label"],["id","distributor_def","formControlName","distributor_def",1,"form-select",3,"change"],["id","err_distributor_def",1,"text-danger",2,"display","none"],["for","stockist_all",1,"form-label","col-sm-2","col-form-label"],["id","stockist_all","formControlName","stockist_all",1,"form-select"],["id","err_stockist_all",1,"text-danger",2,"display","none"],[3,"formGroupName"],[1,"form-label","col-sm-2","col-form-label",3,"for"],[1,"col-sm-8"],["formControlName","distributor",1,"form-select",3,"id","change"],[1,"text-danger",2,"display","none",3,"id"],[1,"col-sm-2"],["type","button",1,"btn","btn-warning",2,"width","100%",3,"tabIndex","click"],[1,"position-relative","row","mb-3","required",3,"id"],[1,"form-select",3,"id"],[1,"row","container_div",2,"display","none",3,"id"],[3,"id"],["type","checkbox",1,"form-check-input",2,"border","2px solid #495057",3,"id","click"],[1,"form-check-label",2,"font-weight","500",3,"for"],[1,"row",3,"id","name"],[1,"position-relative","row","mb-3",3,"id"],[1,"row",3,"id"],[1,"position-relative","row","mb-3"],[1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10",2,"text-align","right"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],[1,"col-sm-4"],["type","checkbox","name","pchkbox_all",1,"form-check-input","dchkbox",2,"margin","5px 0px 0px 0px","color","black",3,"id","value","click"],[1,"form-check-label",2,"margin","2px 0px 2px 4px",3,"for"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.showFormFields(e)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," User Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Sr,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](21,_r,6,0,"div",15),a["\u0275\u0275template"](22,Er,6,0,"div",16),a["\u0275\u0275template"](23,Cr,6,0,"div",15),a["\u0275\u0275template"](24,wr,9,1,"div",16),a["\u0275\u0275template"](25,$r,9,1,"div",16),a["\u0275\u0275template"](26,Fr,9,1,"div",16),a["\u0275\u0275elementStart"](27,"div",17),a["\u0275\u0275elementStart"](28,"label",18),a["\u0275\u0275text"](29,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"div",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275elementStart"](33,"input",21),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](36,"div",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,Mr,9,1,"div",16),a["\u0275\u0275elementStart"](39,"div",25),a["\u0275\u0275elementStart"](40,"label",26),a["\u0275\u0275text"](41,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",27),a["\u0275\u0275elementStart"](44,"option",12),a["\u0275\u0275text"](45," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",28),a["\u0275\u0275elementStart"](47,"div",29),a["\u0275\u0275elementStart"](48,"input",30),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"label",31),a["\u0275\u0275text"](50,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"div",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",34),a["\u0275\u0275elementStart"](54,"label",35),a["\u0275\u0275text"](55,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"div",10),a["\u0275\u0275elementStart"](57,"select",36),a["\u0275\u0275elementStart"](58,"option",12),a["\u0275\u0275text"](59," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"div",37),a["\u0275\u0275elementStart"](61,"div",38),a["\u0275\u0275elementStart"](62,"input",39),a["\u0275\u0275listener"]("click",function(){return t.toggleCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"label",40),a["\u0275\u0275text"](64,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](66,"span",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](67,"div",43),a["\u0275\u0275template"](68,Tr,41,27,"div",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](69,Rr,6,1,"div",45),a["\u0275\u0275elementStart"](70,"div",46),a["\u0275\u0275elementStart"](71,"label",47),a["\u0275\u0275text"](72,"Permissions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",10),a["\u0275\u0275elementStart"](74,"div",48),a["\u0275\u0275elementStart"](75,"div",49),a["\u0275\u0275elementStart"](76,"input",50),a["\u0275\u0275listener"]("click",function(){return t.togglePermissionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"label",51),a["\u0275\u0275text"](78,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",52),a["\u0275\u0275template"](80,Nr,4,4,"div",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](81,"span",54),a["\u0275\u0275text"](82,"dasdasd"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"div",55),a["\u0275\u0275elementStart"](84,"div",56),a["\u0275\u0275elementStart"](85,"button",57),a["\u0275\u0275text"](86,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.userForm),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.userTypes),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.commonFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.fieldFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.distributorField),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",t.stockistField),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("ngForOf",t.dist().controls),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.accesspermissions))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.l,b.m,o.c,o.b,o.t,o.h],pipes:[b.u],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:\" *\";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]     .ng-select-container{border-color:#c71c22;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23C71C22'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23C71C22' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.container_div[_ngcontent-%COMP%]{border:1px solid #ced4da;min-height:33px;border-radius:.25rem;margin:0;max-height:155px;overflow-y:auto}.inrdiv[_ngcontent-%COMP%]{padding:3px 3px 3px 9px}.form-check-input[_ngcontent-%COMP%]{margin:5px 0 0!important}.form-check-label[_ngcontent-%COMP%]{margin:2px 0 2px 4px!important}"]}),e}();function Ar(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",17),a["\u0275\u0275elementStart"](1,"td",15),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",15),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",15),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",15),a["\u0275\u0275text"](8),a["\u0275\u0275pipe"](9,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",15),a["\u0275\u0275text"](11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",15),a["\u0275\u0275elementStart"](13,"span",18),a["\u0275\u0275elementStart"](14,"a",19),a["\u0275\u0275element"](15,"i",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.email),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](9,6,n.userType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("href","users/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function Br(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",14),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",15),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",15),a["\u0275\u0275text"](6,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",15),a["\u0275\u0275text"](8,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",15),a["\u0275\u0275text"](10,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",15),a["\u0275\u0275text"](12,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",15),a["\u0275\u0275text"](14,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"tbody"),a["\u0275\u0275template"](16,Ar,16,8,"tr",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](16),a["\u0275\u0275property"]("ngForOf",n.users)}}var Qr=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create User",this.subheading="Create a user / stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.users=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getallusers()},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},e.prototype.getallusers=function(){var e=this;this.apiService.fetch("/api/user/all").subscribe(function(t){200===t.status&&t.data.length&&(e.users=t.data)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-user"]],decls:19,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275listener"]("click",function(){return t.addNewUser()}),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New User "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"div",12),a["\u0275\u0275template"](18,Br,17,2,"table",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.users.length))},directives:[_.a,b.m,r.a,b.l],pipes:[b.u],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function Ur(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Lr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",60),a["\u0275\u0275text"](2,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",61),a["\u0275\u0275element"](5,"span",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function qr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",63),a["\u0275\u0275text"](2,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",64),a["\u0275\u0275element"](5,"span",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275attribute"]("disabled",!0))}function Yr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",66),a["\u0275\u0275text"](2,"Employee Code"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",67),a["\u0275\u0275element"](5,"span",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Vr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function zr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",69),a["\u0275\u0275text"](2,"Work Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",70),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getSupervisor(e.target.value)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Work Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Vr,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.workTypes)}}function Hr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.code),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.code," - ",a["\u0275\u0275pipeBind1"](2,3,n.name)," ")}}function Jr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",72),a["\u0275\u0275text"](2,"Supervisor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",73),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Supervisor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Hr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.supervisors)}}function Gr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Zr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",75),a["\u0275\u0275text"](2,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",76),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getDistributorData(e.target.value,-1)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Gr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.distributors)}}function Wr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.customerId," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Kr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",78),a["\u0275\u0275text"](2,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",79),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Stockist "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Wr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.distributorStockists)}}function Xr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function eo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275elementStart"](2,"label",82),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",83),a["\u0275\u0275elementStart"](5,"select",84),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().getDistributorData(e.target.value,i)}),a["\u0275\u0275elementStart"](6,"option",12),a["\u0275\u0275text"](7," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,Xr,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",86),a["\u0275\u0275elementStart"](11,"button",87),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeDistributor(e)}),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",88),a["\u0275\u0275elementStart"](14,"label",82),a["\u0275\u0275text"](15,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"select",89),a["\u0275\u0275elementStart"](18,"option",12),a["\u0275\u0275text"](19," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",90),a["\u0275\u0275elementStart"](21,"div",91),a["\u0275\u0275elementStart"](22,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleDivisionCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"label",93),a["\u0275\u0275text"](24,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](25,"div",94),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",95),a["\u0275\u0275elementStart"](28,"label",82),a["\u0275\u0275text"](29,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"select",89),a["\u0275\u0275elementStart"](32,"option",12),a["\u0275\u0275text"](33," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",90),a["\u0275\u0275elementStart"](35,"div",91),a["\u0275\u0275elementStart"](36,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"label",93),a["\u0275\u0275text"](38,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](39,"div",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("for","distributor_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Distributor ",i+2,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distributor_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",r.distributors),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_distributor_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Remove Distributor ",i+2,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","dvson_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","division_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sddCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sddCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_data_",i,""),a["\u0275\u0275propertyInterpolate1"]("name","division_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stkst_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","stockist_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sdCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sdCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stockist_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_stockist_div_",i,"")}}function to(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275elementStart"](1,"label",98),a["\u0275\u0275text"](2,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",99),a["\u0275\u0275elementStart"](4,"button",100),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addMore()}),a["\u0275\u0275text"](5,"Add More Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",1e5))}function no(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",101),a["\u0275\u0275elementStart"](1,"input",102),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().togglePermissionCheckbox(e.permissionId)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"label",103),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275propertyInterpolate"]("value",i.permissionId),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](i.permissionName)}}var io=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Edit / Update User",this.subheading="Update a user who can use the CN application.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.commonFields=!1,this.officeFields=!1,this.fieldFields=!1,this.distributorField=!1,this.stockistField=!1,this.loggedUserId="",this.divisions=[],this.permission=[],this.supervisors=[],this.stockiestes=[],this.distributors=[],this.selectedDivision=[],this.accesspermissions=[],this.selectedStockiest=[],this.selectedPermission=[],this.selectedDistributor=[],this.distributorStockists=[],this.selectedStockiestDivision=[],this.StockiestDivision=[],this.selectedDistributor_divisions_id=[],this.fieldDistributorStockists=[],this.records=[],this.userTypes=[{id:"ho",name:"Head Office"},{id:"field",name:"Field"},{id:"distributor",name:"Distributor"},{id:"stockist",name:"Stockist"}],this.workTypes=[{id:"hos",name:"HOS"},{id:"suh",name:"SUH"},{id:"field",name:"Field"}],this.selectedUser=this.activatedRoute.snapshot.paramMap.get("userId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId="648946064477e07c9fc1b862",this.createForm(),this.getAllDivision(),this.getAllDistributor(),this.getAllAccessPermision(),this.getData()},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/user",this.selectedUser).subscribe(function(t){if(200===t.status){e.records=t.data,e.userForm.controls.userType.setValue(e.records[0].userType,{onlySelf:!0}),e.userForm.value.userType=e.records[0].userType,e.userForm.controls.email.setValue(e.records[0].email,{onlySelf:!0}),e.userForm.value.email=e.records[0].email,e.selectedPermission=e.records[0].gen_permissions[0]._id;var n=e.records[0].gen_permissions[0].permissions;if(e.showFormFields(e.records[0].userType),"stockist"==e.records[0].userType)e.userForm.controls.distributor_def.setValue(e.records[0].cn_stockist_divisions[0].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[0].cn_stockist_divisions[0].plant,e.getDistributorData(e.records[0].cn_stockist_divisions[0].plant,-1),e.userForm.controls.stockist_all.setValue(e.records[0].cn_stockist_divisions[0].customerId,{onlySelf:!0}),e.userForm.value.stockist_all=e.records[0].cn_stockist_divisions[0].customerId,e.selectedStockiestDivision=e.records[0].cn_stockist_divisions[0]._id,(i=e.records[0].cn_stockist_divisions[0].divisions).forEach(function(t,n){e.userForm.controls.stockist_all.setValue(e.records[0].cn_stockist_divisions[0].customerId,{onlySelf:!0}),e.userForm.value.stockist_all=e.records[0].cn_stockist_divisions[0].customerId,e.delay(1e3).then(function(n){document.getElementById("divisionCheckbox_"+e.records[0].cn_stockist_divisions[0].plant+"_"+t).checked=!0})});else if("distributor"==e.records[0].userType){e.userForm.controls.distributor_def.setValue(e.records[0].cn_distributor_divisions[0].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[0].cn_distributor_divisions[0].plant;var i=e.records[0].cn_distributor_divisions[0].divisions;e.selectedDistributor_divisions_id=e.records[0].cn_distributor_divisions[0]._id,i.forEach(function(t,n){e.delay(1e3).then(function(e){document.getElementById("divisionCheckbox_all_"+t).checked=!0})})}else if("ho"==e.records[0].userType||"field"==e.records[0].userType){e.userForm.controls.username.setValue(e.records[0].name,{onlySelf:!0}),e.userForm.value.username=e.records[0].name,e.userForm.controls.code.setValue(e.records[0].code,{onlySelf:!0}),e.userForm.value.code=e.records[0].code,e.userForm.controls.workType.setValue(e.records[0].workType,{onlySelf:!0}),e.userForm.value.workType=e.records[0].workType,e.getSupervisor(e.records[0].workType),e.userForm.controls.supervisor.setValue(e.records[0].supervisor,{onlySelf:!0}),e.userForm.value.supervisor=e.records[0].supervisor;var a=e.records[0].cn_emp_dist_stockist_divisions;if(a.length>0)for(var r=0,o=function(t){if(0===t)e.userForm.controls.distributor_def.setValue(e.records[0].cn_emp_dist_stockist_divisions[t].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[t].cn_emp_dist_stockist_divisions[t].plant,e.getDistributorData(e.records[0].cn_emp_dist_stockist_divisions[t].plant,-1),e.records[0].cn_emp_dist_stockist_divisions[t].divisions.forEach(function(n,i){e.delay(1e3).then(function(i){document.getElementById("divisionCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})}),e.records[0].cn_emp_dist_stockist_divisions[t].stockists.forEach(function(n,i){e.delay(1e3).then(function(i){e.delay(1e3).then(function(i){e.records[0].cn_emp_dist_stockist_divisions[t].plant==n?document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_99999").checked=!0:document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})});else{e.addMore(),e.delay(1e3).then(function(n){e.getDistributorData(e.records[0].cn_emp_dist_stockist_divisions[t].plant,r)}),e.delay(1e3).then(function(n){$("#distributor_"+r).val(e.records[0].cn_emp_dist_stockist_divisions[t].plant),r++});var n=e.records[0].cn_emp_dist_stockist_divisions[t].divisions;e.delay(1e3).then(function(i){n.forEach(function(n,i){e.delay(1e3).then(function(i){document.getElementById("divisionCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})});var i=e.records[0].cn_emp_dist_stockist_divisions[t].stockists;e.delay(1e3).then(function(n){i.forEach(function(n,i){e.delay(1e3).then(function(i){e.delay(1e3).then(function(i){e.records[0].cn_emp_dist_stockist_divisions[t].plant==n?document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_99999").checked=!0:document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})})})}},l=0;l<a.length;l++)o(l)}n.forEach(function(t,n){e.delay(1e3).then(function(n){document.getElementById("permissionCheckbox_all_"+t).checked=!0,e.togglePermissionCheckbox(t)})})}})},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.userForm=this.fb.group({_id:[this.selectedUser,[o.v.required]],userType:["",[o.v.required]],username:[""],email:["",[o.v.required]],code:[""],workType:[""],supervisor:[""],distributor_def:[""],division_def:[[]],stockist_def:[[]],stockist_all:[""],permission:["",[o.v.required]],portals:this.portalId,loggedUserId:this.loggedUserId,users:this.fb.array([]),dist:this.fb.array([])})},e.prototype.users=function(){return this.userForm.get("users")},e.prototype.dist=function(){return this.userForm.get("dist")},e.prototype.newDist=function(){return this.fb.group({distributor:"",division:"",stockiest:""})},e.prototype.addMore=function(){this.dist().push(this.newDist())},e.prototype.removeDistributor=function(e){this.fieldDistributorStockists.splice(e,1),this.dist().removeAt(e)},e.prototype.getAllDistributor=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getAllAccessPermision=function(){var e=this;this.apiService.get("/api/access/getall",this.portalId).subscribe(function(t){200===t.status&&t.data.length&&(e.accesspermissions=t.data)})},e.prototype.getDistributorData=function(e,t){var n=$("#userTypes").val();if("distributor"===n);else{for(var i=[],a=e,r=this.dist().controls.length,o=0;o<=r;o++){var l=o-1;if(t!=l){var s=$("#distributor_"+(-1===l?"def":l)).val();i.push(s)}}i.includes(a)?(console.log("Already added"),$("#distributor_"+(-1===t?"def":t)).val("")):(this.getDistributorDivision(e,t),this.getDistributorStockist(e,t,n))}},e.prototype.appendDivisions=function(e){parseInt(e);var t=document.querySelector("#division_data_all");t.innerHTML="",this.divisions.forEach(function(e,n){var i=document.createElement("div");i.classList.add("col-sm-4"),i.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_all" id="divisionCheckbox_all_'+e.division+'" value="'+e.division+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_all_'+n+'">'+e.name+"</label>",t.appendChild(i)})},e.prototype.getDistributorDivision=function(e,t){var n=this,i=parseInt(e),a=-1===t?"def":t,r={plant:i};$("#division_sel_"+a).show(),$("#division_div_"+a).hide();var o=document.querySelector("#division_data_"+a);o.innerHTML="",this.apiService.post("/api/distributor/distributorDivison",r).subscribe(function(e){200===e.status&&e.data.length&&(n.StockiestDivision=e.data[0].divisions,e.data[0].divisions.forEach(function(e,t){var r=n.divisions.filter(function(t){return t.division===Number(e)}),l=document.createElement("div");l.classList.add("col-sm-4"),l.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_'+a+'" id="divisionCheckbox_'+i+"_"+e+'" value="'+e+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_'+i+"_"+t+'">'+r[0].name+"</label>",o.appendChild(l)}),$("#division_sel_"+a).hide(),$("#division_div_"+a).show())})},e.prototype.getDistributorStockist=function(e,t,n){var i=this;this.distributorStockists=[];var a=parseInt(e),r=-1===t?"def":t,o={plant:a};$("#stockist_sel_"+r).show(),$("#stockist_div_"+r).hide();var l=document.querySelector("#stockist_data_"+r);if(l.innerHTML="","ho"===n){var s=document.createElement("div");s.classList.add("col-sm-4"),s.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+'_99999" value="'+a+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+'_99999">--- SELF ---</label>',l.appendChild(s)}this.apiService.post("/api/stockiest/distributorStockiest",o).subscribe(function(e){200===e.status&&e.data.length&&(i.distributorStockists=e.data,i.fieldDistributorStockists[r]=e.data,$.each(e.data,function(e,t){var n=document.createElement("div");n.classList.add("col-sm-4"),n.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+"_"+t.customerId+'" value="'+t.customerId+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+"_"+e+'">'+t.organization+"</label>",l.appendChild(n)}),$("#stockist_sel_"+r).hide(),$("#stockist_div_"+r).show())})},e.prototype.toggleDivisionCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sddCheckbox_"+t),i=document.getElementsByName("dchkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.toggleDivisionAllCheckbox=function(e){for(var t=document.getElementById("sddCheckbox_"+e),n=document.getElementsByName("dchkbox_"+e),i=0,a=n.length;i<a;i++)n[i].checked=1==t.checked},e.prototype.toggleCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sdCheckbox_"+t),i=document.getElementsByName("chkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.togglePermissionAllCheckbox=function(e){for(var t=document.getElementById("permissCheckbox_"+e),n=document.getElementsByName("pchkbox_"+e),i=1,a=0;a<n.length;a++){var r=$("#permissionCheckbox_all_"+i).val(),o=this.permission.indexOf(r);1==t.checked?(n[a].checked=!0,o<0&&this.permission.push(r)):(n[a].checked=!1,this.permission=[]),i++}},e.prototype.togglePermissionCheckbox=function(e){var t=document.getElementById("permissCheckbox_all"),n=document.getElementById("permissionCheckbox_all_"+e),i=$("#permissionCheckbox_all_"+e).val(),a=this.permission.indexOf(i);0==n.checked?(t.checked=!1,a>-1&&this.permission.splice(a,1)):a<0&&this.permission.push(i)},e.prototype.getAllDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&(e.divisions=t.data.length?t.data:[])})},e.prototype.selectAllForDivisionItems=function(e){!function(e){e.forEach(function(e){e.selectedAllDivisionGroup="selectedAllDivisionGroup"})}(e)},e.prototype.showFormFields=function(e){this.supervisors=[],this.commonFields=!0,this.fieldFields=!1,this.officeFields=!1,this.stockistField=!1,this.distributorField=!1,$("#dvson_def").hide(),$("#stkst_def").hide(),$("#dvson_all").hide(),"ho"==e&&this.getSupervisor(e),"ho"!=e&&"field"!=e||(this.officeFields=!0,this.distributorField=!0,$("#dvson_def").show(),$("#stkst_def").show()),"field"==e&&(this.fieldFields=!0),"distributor"==e&&(this.distributorField=!0,this.appendDivisions(e),$("#dvson_all").show()),"stockist"==e&&(this.distributorField=!0,this.stockistField=!0,$("#dvson_def").show()),$("#permiss_all").show()},e.prototype.getSupervisor=function(e){var t=this;this.supervisors=[],this.apiService.get("/api/userSupervisor",e).subscribe(function(e){200===e.status&&e.data.length&&(t.supervisors=e.data)})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=[],n=[],i=[],a=[];$(".form-select").removeClass("is-invalid"),$(".form-control").removeClass("is-invalid"),$(".container_div").css("border","1px solid #ced4da"),$(".text-danger").hide();var r=$("#userTypes option:selected").val(),o=$.trim($("#email").val()),l=$("#distributor_def option:selected").val();if(r||($("#userTypes").addClass("is-invalid"),$("#err_userTypes").text("User type is required").show()),o||($("#email").addClass("is-invalid"),$("#err_email").text("Email is required").show()),o&&(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(o)||($("#email").addClass("is-invalid"),$("#err_email").text("Enter Valid Email Address").show())),l||($("#distributor_def").addClass("is-invalid"),$("#err_distributor_def").text("Distributor is required").show()),"distributor"===r){for(var s=this.divisions,d=0;d<s.length;d++)if((_=$("#divisionCheckbox_all_"+s[d].division)).is(":checked")){var c=_.val();a.push(c)}0===a.length&&($("#division_div_all").css("border","1px solid red"),$("#err_division_div_all").text("At least one division is required.").show())}if("stockist"===r){$("#stockist_all option:selected").val()||($("#stockist_all").addClass("is-invalid"),$("#err_stockist_all").text("Stockist is required").show());for(var m=this.dist().controls.length,p=0;p<=m;p++){var u=-1==(y=p-1)?"def":y,f=$("#distributor_"+u).val(),v=this.StockiestDivision;for(d=0;d<v.length;d++)(_=$("#divisionCheckbox_"+f+"_"+this.StockiestDivision[d])).is(":checked")&&(c=_.val(),t.push(c))}0===t.length&&($("#division_div_def").css("border","1px solid red"),$("#err_division_div_def").text("At least one division is required.").show())}if("ho"===r||"field"===r){$("#username").val()||($("#username").addClass("is-invalid"),$("#err_username").text("Name is required").show());var h=$("#code").val(),g=/^\d+$/.test(h);h?g?6!=String(h).length&&($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be 6 digits only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be a number only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code is required").show()),$("#supervisor option:selected").val()||($("#supervisor").addClass("is-invalid"),$("#err_supervisor").text("Supervisor is required").show()),m=this.dist().controls.length;var b=-1;for(p=0;p<=m;p++){var y;u=-1==(y=p-1)?"def":y,(f=$("#distributor_"+u+" option:selected").val())?i[p]=f:($("#distributor_"+u).addClass("is-invalid"),$("#err_distributor_"+u).text("Distributor is required").show());var x=[];for(v=this.StockiestDivision,d=0;d<v.length;d++){var S=$("#divisionCheckbox_"+f+"_"+this.StockiestDivision[d]);S.is(":checked")&&(c=S.val(),x.push(c))}0===x.length?($("#division_sel_"+u).addClass("is-invalid"),$("#division_div_"+u).css("border","1px solid red"),$("#err_division_div_"+u).text("At least one division is required.").show()):t[p]=x;var _,E=[];if(-1===b)var C=this.fieldDistributorStockists.def;else C=this.fieldDistributorStockists[b];(_=$("#inlineCheckbox_"+f+"_99999")).is(":checked")&&(c=_.val(),E.push(c));for(var k=0;k<C.length;k++)if("def"===u){var w=$("#inlineCheckbox_"+f+"_"+this.fieldDistributorStockists.def[k].customerId);w.is(":checked")&&(c=w.val(),E.push(c))}else{var I=$("#inlineCheckbox_"+f+"_"+this.fieldDistributorStockists[u][k].customerId);I.is(":checked")&&(c=I.val(),E.push(c))}0===E.length?($("#stockist_sel_"+u).addClass("is-invalid"),$("#stockist_div_"+u).css("border","1px solid red"),$("#err_stockist_div_"+u).text("At least one stockist is required.").show()):n[p]=E,b++}}if("field"===r&&($("#workType option:selected").val()||($("#workType").addClass("is-invalid"),$("#err_workType").text("Work type is required").show())),this.userForm.get("permission").setValue(this.permission),this.userForm.valid){var D={};if(D.userType=this.userForm.value.userType,D.email=this.userForm.value.email,D.portalId=this.portalId,D.loggedUserId=this.loggedUserId,D.permission=this.userForm.value.permission,D._id=this.selectedUser,D.permission_id=this.selectedPermission,"distributor"===r){var F=Number(this.userForm.value.distributor_def),O=this.distributors.filter(function(e){return e.plant===F});D.userType=this.userForm.value.userType,D.username=O[0].organization,D.email=this.userForm.value.email,D.code=this.userForm.value.distributor_def,D.divisions=a,D.distributor_divisions_id=this.selectedDistributor_divisions_id}if("stockist"===r){var M=Number(this.userForm.value.stockist_all);O=this.distributorStockists.filter(function(e){return e.customerId===M}),D.username=O[0].organization,D.plant=this.userForm.value.distributor_def,D.code=this.userForm.value.stockist_all,D.divisions=t,D.stockist_divisions_id=this.selectedStockiestDivision}"ho"!==r&&"field"!==r||(D.username=this.userForm.value.username,D.code=this.userForm.value.code,D.supervisor=this.userForm.value.supervisor,D.distributors=i,D.divisions=t,D.stockists=n),"field"===r&&(D.workType=this.userForm.value.workType),console.log("reqData--",D),this.apiService.post("/api/user/edituser",D).subscribe(function(t){200===t.status?e.toast("success","User updated successfully."):e.toast("error",t.message)})}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-user"]],decls:86,vars:18,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","userTypes",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","userTypes","formControlName","userType",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_userTypes",1,"text-danger",2,"display","none"],["class","position-relative row mb-3 common required",4,"ngIf"],["class","position-relative row mb-3 required",4,"ngIf"],["id","dvson_all",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_all",1,"form-label","col-sm-2","col-form-label"],["id","division_div_all",1,"row","container_div"],["id","division_sd_all"],["type","checkbox","id","sddCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_all",1,"form-check-label",2,"font-weight","500"],["id","division_data_all","name","division_data_all",1,"row"],["id","err_division_div_all",1,"text-danger",2,"display","none"],["id","dvson_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_def",1,"form-label","col-sm-2","col-form-label"],["id","division_sel_def",1,"form-select"],["id","division_div_def",1,"row","container_div",2,"display","none"],["id","division_sd_def"],["type","checkbox","id","sddCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","division_data_def","name","division_data_def",1,"row"],["id","err_division_div_def",1,"text-danger",2,"display","none"],["id","stkst_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","stockist_def",1,"form-label","col-sm-2","col-form-label"],["id","stockist_sel_def",1,"form-select"],["id","stockist_div_def",1,"row","container_div",2,"display","none"],["id","stockist_sd_def"],["type","checkbox","id","sdCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sdCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","stockist_data_def","name","stockist_data_def",1,"row"],["id","err_stockist_div_def",1,"text-danger",2,"display","none"],["formArrayName","dist",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","position-relative row mb-3",4,"ngIf"],["id","permiss_all",1,"position-relative","row","mb-3",2,"display","none"],["for","permission_all",1,"form-label","col-sm-2","col-form-label","req_permission"],["id","permission_div_all",1,"row","container_div"],["id","permission_sd_all"],["type","checkbox","id","permissCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","permissCheckbox_all",1,"form-check-label","req_permission",2,"font-weight","500"],["id","permission_data_all","name","permission_data_all",1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],["id","err_permission_div_all",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"],[1,"position-relative","row","mb-3","common","required"],["for","username",1,"form-label","col-sm-2","col-form-label"],["formControlName","username","id","username","placeholder","Name","type","text",1,"form-control"],["id","err_username",1,"text-danger",2,"display","none"],["for","email",1,"form-label","col-sm-2","col-form-label"],["formControlName","email","id","email","placeholder","Email","type","email","required","",1,"form-control","grf-def"],["id","err_email",1,"text-danger",2,"display","none"],["for","code",1,"form-label","col-sm-2","col-form-label"],["formControlName","code","id","code","placeholder","Employee Code","type","text",1,"form-control"],["id","err_code",1,"text-danger",2,"display","none"],["for","workType",1,"form-label","col-sm-2","col-form-label"],["id","workType","formControlName","workType",1,"form-select",3,"change"],["id","err_workType",1,"text-danger",2,"display","none"],["for","supervisor",1,"form-label","col-sm-2","col-form-label"],["id","supervisor","formControlName","supervisor",1,"form-select"],["id","err_supervisor",1,"text-danger",2,"display","none"],["for","distributor_def",1,"form-label","col-sm-2","col-form-label"],["id","distributor_def","formControlName","distributor_def",1,"form-select",3,"change"],["id","err_distributor_def",1,"text-danger",2,"display","none"],["for","stockist_all",1,"form-label","col-sm-2","col-form-label"],["id","stockist_all","formControlName","stockist_all",1,"form-select"],["id","err_stockist_all",1,"text-danger",2,"display","none"],[3,"formGroupName"],[1,"form-label","col-sm-2","col-form-label",3,"for"],[1,"col-sm-8"],["formControlName","distributor",1,"form-select",3,"id","change"],[1,"text-danger",2,"display","none",3,"id"],[1,"col-sm-2"],["type","button",1,"btn","btn-warning",2,"width","100%",3,"tabIndex","click"],[1,"position-relative","row","mb-3","required",3,"id"],[1,"form-select",3,"id"],[1,"row","container_div",2,"display","none",3,"id"],[3,"id"],["type","checkbox",1,"form-check-input",2,"border","2px solid #495057",3,"id","click"],[1,"form-check-label",2,"font-weight","500",3,"for"],[1,"row",3,"id","name"],[1,"position-relative","row","mb-3",3,"id"],[1,"row",3,"id"],[1,"position-relative","row","mb-3"],[1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10",2,"text-align","right"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],[1,"col-sm-4"],["type","checkbox","name","pchkbox_all",1,"form-check-input","dchkbox",2,"margin","5px 0px 0px 0px","color","black",3,"id","value","click"],[1,"form-check-label",2,"margin","2px 0px 2px 4px",3,"for"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.showFormFields(e.target.value)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," User Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Ur,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](21,Lr,6,0,"div",15),a["\u0275\u0275template"](22,qr,6,1,"div",16),a["\u0275\u0275template"](23,Yr,6,0,"div",15),a["\u0275\u0275template"](24,zr,9,1,"div",16),a["\u0275\u0275template"](25,Jr,9,1,"div",16),a["\u0275\u0275template"](26,Zr,9,1,"div",16),a["\u0275\u0275elementStart"](27,"div",17),a["\u0275\u0275elementStart"](28,"label",18),a["\u0275\u0275text"](29,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"div",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275elementStart"](33,"input",21),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](36,"div",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,Kr,9,1,"div",16),a["\u0275\u0275elementStart"](39,"div",25),a["\u0275\u0275elementStart"](40,"label",26),a["\u0275\u0275text"](41,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",27),a["\u0275\u0275elementStart"](44,"option",12),a["\u0275\u0275text"](45," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",28),a["\u0275\u0275elementStart"](47,"div",29),a["\u0275\u0275elementStart"](48,"input",30),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"label",31),a["\u0275\u0275text"](50,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"div",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",34),a["\u0275\u0275elementStart"](54,"label",35),a["\u0275\u0275text"](55,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"div",10),a["\u0275\u0275elementStart"](57,"select",36),a["\u0275\u0275elementStart"](58,"option",12),a["\u0275\u0275text"](59," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"div",37),a["\u0275\u0275elementStart"](61,"div",38),a["\u0275\u0275elementStart"](62,"input",39),a["\u0275\u0275listener"]("click",function(){return t.toggleCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"label",40),a["\u0275\u0275text"](64,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](66,"span",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](67,"div",43),a["\u0275\u0275template"](68,eo,41,27,"div",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](69,to,6,1,"div",45),a["\u0275\u0275elementStart"](70,"div",46),a["\u0275\u0275elementStart"](71,"label",47),a["\u0275\u0275text"](72,"Permissions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",10),a["\u0275\u0275elementStart"](74,"div",48),a["\u0275\u0275elementStart"](75,"div",49),a["\u0275\u0275elementStart"](76,"input",50),a["\u0275\u0275listener"]("click",function(){return t.togglePermissionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"label",51),a["\u0275\u0275text"](78,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",52),a["\u0275\u0275template"](80,no,4,4,"div",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](81,"span",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"div",55),a["\u0275\u0275elementStart"](83,"div",56),a["\u0275\u0275elementStart"](84,"button",57),a["\u0275\u0275text"](85,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.userForm),a["\u0275\u0275advance"](5),a["\u0275\u0275attribute"]("disabled",!0),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.userTypes),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.commonFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.fieldFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.distributorField),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",t.stockistField),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("ngForOf",t.dist().controls),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.accesspermissions))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.l,b.m,o.c,o.b,o.t,o.h],pipes:[b.u],styles:[""]}),e}();function ao(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",25),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}var ro=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Division",this.subheading="Create a division",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.submitted=!1,this.btnLoader=!1,this.plants=[{id:"2200",name:"2200"},{id:"3300",name:"3300"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.createForm()},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},Object.defineProperty(e.prototype,"f",{get:function(){return this.divisionform.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.divisionform=this.fb.group({plant:["",[o.v.required]],divisionName:["",[o.v.required]],divisionID:["",[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;console.log(this.divisionform.value),this.submitted=!0;var t=!1,n=$("#plant").val(),i=$("#divisionName").val(),a=$("#divisionID").val();n||(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),i||(t=!0,$("#divisionName").addClass("is-invalid"),$("#err_divisionname").text("Division name is required").show()),a||(t=!0,$("#divisionID").addClass("is-invalid"),$("#err_divisionid").text("Division id is required").show()),t||this.apiService.post("/api/division/add",this.divisionform.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-division"]],decls:37,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","Plant",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","divisionName",1,"form-label","col-sm-2","col-form-label"],["formControlName","divisionName","id","divisionName","placeholder","Division Name","type","text",1,"form-control"],["id","err_divisionname",1,"text-danger",2,"display","none"],["for","divisionId",1,"form-label","col-sm-2","col-form-label"],["formControlName","divisionID","id","divisionID","placeholder","Division ID","type","number",1,"form-control"],["id","err_divisionid",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,ao,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",10),a["\u0275\u0275element"](25,"input",17),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",15),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Division ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",22),a["\u0275\u0275elementStart"](34,"div",23),a["\u0275\u0275elementStart"](35,"button",24),a["\u0275\u0275text"](36,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.divisionform),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.plants))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.l,o.b,o.r],pipes:[b.u],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:\" *\";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]     .ng-select-container{border-color:#c71c22;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23C71C22'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23C71C22' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.container_div[_ngcontent-%COMP%]{border:1px solid #ced4da;min-height:33px;border-radius:.25rem;margin:0;max-height:155px;overflow-y:auto}.inrdiv[_ngcontent-%COMP%]{padding:3px 3px 3px 9px}.form-check-input[_ngcontent-%COMP%]{margin:5px 0 0!important}.form-check-label[_ngcontent-%COMP%]{margin:2px 0 2px 4px!important}"]}),e}();function oo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",17),a["\u0275\u0275elementStart"](1,"td",15),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",15),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",15),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",15),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",15),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",15),a["\u0275\u0275elementStart"](12,"span",18),a["\u0275\u0275elementStart"](13,"a",19),a["\u0275\u0275element"](14,"i",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.division),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("href","division/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function lo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",14),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",15),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",15),a["\u0275\u0275text"](6,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",15),a["\u0275\u0275text"](8,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",15),a["\u0275\u0275text"](10,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",15),a["\u0275\u0275text"](12,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",15),a["\u0275\u0275text"](14,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"tbody"),a["\u0275\u0275template"](16,oo,15,6,"tr",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](16),a["\u0275\u0275property"]("ngForOf",n.divisions)}}var so=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Division",this.subheading="Create a division",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.divisions=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getalldivision()},e.prototype.addnewdivision=function(){this.router.navigateByUrl("/division/add")},e.prototype.getalldivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-division"]],decls:19,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275listener"]("click",function(){return t.addnewdivision()}),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New Division "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"div",12),a["\u0275\u0275template"](18,lo,17,2,"table",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.divisions.length))},directives:[_.a,b.m,r.a,b.l],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function co(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function mo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var po=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Edit / Update Division",this.subheading="Update a division",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.submitted=!1,this.btnLoader=!1,this.records=[],this.plants=[{id:"2200",name:"2200"},{id:"3300",name:"3300"}],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.selectedDivision=this.activatedRoute.snapshot.paramMap.get("divisionId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.getData(),this.createForm()},e.prototype.getData=function(){var e=this;this.apiService.get("/api/division/getdivision",this.selectedDivision).subscribe(function(t){200===t.status&&(e.records=t.data,e.divisionform.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.divisionform.value.plant=e.records.plant,e.divisionform.controls.name.setValue(e.records.name,{onlySelf:!0}),e.divisionform.value.name=e.records.name,e.divisionform.controls.olddivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.olddivision=e.records.division,e.divisionform.controls.newdivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.newdivision=e.records.division,e.divisionform.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.divisionform.value.status=e.records.isActive,e.divisionform.controls._id.setValue(e.records._id,{onlySelf:!0}),e.divisionform.value._id=e.records._id)})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},Object.defineProperty(e.prototype,"f",{get:function(){return this.divisionform.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.divisionform=this.fb.group({_id:[this.selectedDivision,[o.v.required]],plant:[this.records.plant,[o.v.required]],name:[this.records.name,[o.v.required]],olddivision:[this.records.division,[o.v.required]],newdivision:[this.records.division,[o.v.required]],status:[this.records.isActive,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#plant").val(),i=$("#divisionName").val(),a=$("#newdivision").val();$("#olddivision").val(),n||(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),i||(t=!0,$("#divisionName").addClass("is-invalid"),$("#err_divisionname").text("Division name is required").show()),a||(t=!0,$("#newdivision").addClass("is-invalid"),$("#err_divisionid").text("Division is required").show()),t||this.apiService.post("/api/division/edit",this.divisionform.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time"),e.ngOnInit()})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-division"]],decls:45,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","Plant",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","divisionName",1,"form-label","col-sm-2","col-form-label"],["formControlName","name","id","divisionName","placeholder","Division Name","type","text",1,"form-control"],["id","err_divisionname",1,"text-danger",2,"display","none"],["for","divisionId",1,"form-label","col-sm-2","col-form-label"],["formControlName","newdivision","id","newdivision","placeholder","Division ID","type","number",1,"form-control"],["formControlName","olddivision","id","olddivision","value","","type","hidden",1,"form-control"],["id","err_divisionid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,co,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",10),a["\u0275\u0275element"](25,"input",17),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",15),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Division ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"input",21),a["\u0275\u0275element"](33,"span",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",8),a["\u0275\u0275elementStart"](35,"label",23),a["\u0275\u0275text"](36,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",10),a["\u0275\u0275elementStart"](38,"select",24),a["\u0275\u0275template"](39,mo,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",26),a["\u0275\u0275elementStart"](42,"div",27),a["\u0275\u0275elementStart"](43,"button",28),a["\u0275\u0275text"](44,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.divisionform),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](20),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.l,o.b,o.r],pipes:[b.u],styles:[""]}),e}();function uo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function fo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var vo=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Distributor",this.subheading="Create a Distributor",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.company=[{id:2200,name:"2200 - La Renon"},{id:3300,name:"3300 - Frimline"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.createForm()},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.distForm=this.fb.group({organization:["",o.v.required],plant:["",o.v.required],customerId:["",o.v.required],status:["",o.v.required],company:["",o.v.required],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#company").val(),o=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Distributor is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Distributor is required").show()),r?($("#company").removeClass("is-invalid"),$("#err_company").text("Organization is required").hide()):(t=!0,$("#company").addClass("is-invalid"),$("#err_company").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),o?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/distributor/add",this.distForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-distributor"]],decls:52,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Distributor Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","Company",1,"form-label","col-sm-2","col-form-label"],["id","company","formControlName","company",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_company",1,"text-danger",2,"display","none"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["formControlName","plant","id","plant","placeholder","Plant","type","number","required","",1,"form-control","grf-def"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerId","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Organization "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,uo,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",13),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275element"](37,"input",23),a["\u0275\u0275element"](38,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",8),a["\u0275\u0275elementStart"](40,"label",25),a["\u0275\u0275text"](41,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",26),a["\u0275\u0275elementStart"](44,"option",16),a["\u0275\u0275text"](45," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](46,fo,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](47,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"div",28),a["\u0275\u0275elementStart"](49,"div",29),a["\u0275\u0275elementStart"](50,"button",30),a["\u0275\u0275text"](51,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.distForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.company),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.l,o.r,o.t],styles:[""]}),e}();function ho(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function go(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var bo=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Distributor",this.subheading="Create a Distributor",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.records=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.company=[{id:2200,name:"2200 - La Renon"},{id:3300,name:"3300 - Frimline"}],this.selectedDist=this.activatedRoute.snapshot.paramMap.get("distId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getData(),this.createForm()},e.prototype.getData=function(){var e=this;this.apiService.get("/api/distributor",this.selectedDist).subscribe(function(t){200===t.status&&(e.records=t.data,e.distForm.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.distForm.value.plant=e.records.plant,e.distForm.controls.oldplant.setValue(e.records.plant,{onlySelf:!0}),e.distForm.value.oldplant=e.records.plant,e.distForm.controls.organization.setValue(e.records.organization,{onlySelf:!0}),e.distForm.value.organization=e.records.organization,e.distForm.controls.customerId.setValue(e.records.customerId,{onlySelf:!0}),e.distForm.value.customerId=e.records.customerId,e.distForm.controls.oldcustomerId.setValue(e.records.customerId,{onlySelf:!0}),e.distForm.value.oldcustomerId=e.records.customerId,e.distForm.controls.company.setValue(e.records.company,{onlySelf:!0}),e.distForm.value.company=e.records.company,e.distForm.controls.oldcompany.setValue(e.records.company,{onlySelf:!0}),e.distForm.value.oldcompany=e.records.company,e.distForm.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.distForm.value.status=e.records.isActive,e.distForm.controls._id.setValue(e.records._id,{onlySelf:!0}),e.distForm.value._id=e.records._id)})},e.prototype.toast=function(e,t){V.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.distForm=this.fb.group({_id:[this.selectedDist,[o.v.required]],organization:["",o.v.required],plant:["",o.v.required],oldplant:[this.records.plant,o.v.required],customerId:["",o.v.required],oldcustomerId:[this.records.customerId,[o.v.required]],status:["",o.v.required],company:["",o.v.required],oldcompany:[this.records.company,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#company").val(),o=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Distributor is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Distributor is required").show()),r?($("#company").removeClass("is-invalid"),$("#err_company").text("Company is required").hide()):(t=!0,$("#company").addClass("is-invalid"),$("#err_company").text("Company is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),o?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/distributor/edit",this.distForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-distributor"]],decls:52,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Distributor Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","Company",1,"form-label","col-sm-2","col-form-label"],["id","company","formControlName","company",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_company",1,"text-danger",2,"display","none"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["formControlName","plant","id","plant","placeholder","Plant","type","number","required","",1,"form-control","grf-def"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerId","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Organization "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,ho,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",13),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275element"](37,"input",23),a["\u0275\u0275element"](38,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",8),a["\u0275\u0275elementStart"](40,"label",25),a["\u0275\u0275text"](41,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",26),a["\u0275\u0275elementStart"](44,"option",16),a["\u0275\u0275text"](45," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](46,go,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](47,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"div",28),a["\u0275\u0275elementStart"](49,"div",29),a["\u0275\u0275elementStart"](50,"button",30),a["\u0275\u0275text"](51,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.distForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.company),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.l,o.r,o.t],styles:[""]}),e}();function yo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",18),a["\u0275\u0275elementStart"](1,"td",16),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",16),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",16),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",16),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",16),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",16),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",16),a["\u0275\u0275elementStart"](14,"span",19),a["\u0275\u0275elementStart"](15,"a",20),a["\u0275\u0275element"](16,"i",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.organization),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.company),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.customerId),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("href","distributor/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function xo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",15),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",16),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",16),a["\u0275\u0275text"](6,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",16),a["\u0275\u0275text"](8,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",16),a["\u0275\u0275text"](10,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",16),a["\u0275\u0275text"](12,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",16),a["\u0275\u0275text"](14,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",16),a["\u0275\u0275text"](16,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"tbody"),a["\u0275\u0275template"](18,yo,17,7,"tr",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngForOf",n.distributors)}}function So(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",22),a["\u0275\u0275element"](1,"img",23),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function _o(e,t){if(1&e&&(a["\u0275\u0275element"](0,"input",17),a["\u0275\u0275text"](1)),2&e){var n=t.item,i=t.item$;a["\u0275\u0275propertyInterpolate1"]("id","item-",t.index,""),a["\u0275\u0275property"]("ngModel",i.selected),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Eo=[{path:"",component:L,children:[{path:"",component:K,data:{extraParameter:"dashboardsMenu"}},{path:"change/password",component:ye,data:{extraParameter:"passwordMenu"}},{path:"stockiest/createClaim",component:Re,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/updateClaim/:claimId",component:Ve,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/draftClaim",component:ut,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/claimStatus",component:Wt,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/add",component:ln,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/edit/:stockiestId",component:cn,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/list",component:an,data:{extraParameter:"stockiestElementsMenu"}},{path:"headoffice/stockiestClaim",component:Vi,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimApproval/:month/:stockiest/:year/:type/:invoice",component:ra,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimStatus",component:Ea,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/foApproval",component:br,data:{extraParameter:"hoElementsMenu"}},{path:"upload/salesHo",component:yr,data:{extraParameter:"uploadElementsMenu"}},{path:"upload/salesDist",component:xr,data:{extraParameter:"uploadElementsMenu"}},{path:"components/modals",component:pe,data:{extraParameter:"componentsMenu"}},{path:"components/tooltips-popovers",component:ue,data:{extraParameter:"componentsMenu"}},{path:"users/addUser",component:jr,data:{extraParameter:"userElementMenu"}},{path:"users/listUser",component:Qr,data:{extraParameter:"userElementMenu"}},{path:"users/edit/:userId",component:io,data:{extraParameter:"userElementMenu"}},{path:"division/add",component:ro,data:{extraParameter:"divisionElementsMenu"}},{path:"division/list",component:so,data:{extraParameter:"divisionElementsMenu"}},{path:"division/edit/:divisionId",component:po,data:{extraParameter:"divisionElementsMenu"}},{path:"distributor/add",component:vo,data:{extraParameter:"distributorElementsMenu"}},{path:"distributor/list",component:function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=y.c,this.faPlus=y.b,this.heading="Add / Create Distributor",this.subheading="Create a Distributor",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.distributors=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getalldistributors()},e.prototype.addNewDistributor=function(){this.router.navigateByUrl("/distributor/add")},e.prototype.getalldistributors=function(){var e=this;this.loading=!0,this.apiService.fetch("/api/distributor/all").subscribe(function(t){200===t.status&&(t.data.length&&(e.distributors=t.data),e.loading=!1)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](W))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-distributor"]],decls:20,vars:9,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275listener"]("click",function(){return t.addNewDistributor()}),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"div",12),a["\u0275\u0275template"](18,xo,19,2,"table",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,So,4,0,"div",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.distributors.length),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loading))},directives:[_.a,b.m,r.a,b.l],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}(),data:{extraParameter:"distributorElementsMenu"}},{path:"distributor/edit/:distId",component:bo,data:{extraParameter:"distributorElementsMenu"}},{path:"test/test",component:function(){function e(){this.heading="Add / Create User",this.subheading="Create a user / stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.cars=[{id:1,name:"Volvo"},{id:2,name:"Saab"},{id:3,name:"Opel"},{id:4,name:"Audi"}]}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-test"]],decls:27,vars:11,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["bindLabel","name","bindValue","id",1,"form-control",3,"items","multiple","selectableGroup","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off"],[1,"col-md-12","tar"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex"],["type","checkbox",3,"id","ngModel"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form"),a["\u0275\u0275elementStart"](12,"div",7),a["\u0275\u0275elementStart"](13,"div",8),a["\u0275\u0275elementStart"](14,"label",9),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"ng-select",10),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedCar=e}),a["\u0275\u0275template"](17,_o,2,3,"ng-template",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",7),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275element"](20,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",13),a["\u0275\u0275elementStart"](22,"form",14),a["\u0275\u0275elementStart"](23,"div",7),a["\u0275\u0275elementStart"](24,"div",15),a["\u0275\u0275elementStart"](25,"button",16),a["\u0275\u0275text"](26,"Add New User"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("items",t.cars)("multiple",!0)("selectableGroup",!0)("closeOnSelect",!1)("ngModel",t.selectedCar),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("tabIndex",1e5))},directives:[o.w,o.n,o.o,Se.a,o.m,o.p,Se.c,o.a],styles:[""]}),e}(),data:{extraParameter:"userElementMenu"}}]},{path:"",component:q,children:[{path:"login",component:ie,data:{extraParameter:""}},{path:"pages/register-boxed",component:ae,data:{extraParameter:""}},{path:"pages/forgot-password-boxed",component:X,data:{extraParameter:""}}]},{path:"**",redirectTo:""}],Co=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[f.i.forRoot(Eo,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],f.i]}),e}(),ko=n("F34d"),wo=function(){function e(){this.title="ArchitectUI - Angular 7 Bootstrap 5 & Material Design Admin Dashboard Template"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&a["\u0275\u0275element"](0,"router-outlet")},directives:[f.j],encapsulation:2}),e}(),Io=n("lDzL"),$o=n("tmjD"),Do=n("NGqq"),Fo=n("IRfi"),Oo=n("A2Vd"),Mo=n("TEMH"),Po=n("gVAx"),To=n("TQNY"),Ro=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[Do.a,Fo.c,Oo.a,Mo.a,Po.a,To.a]}),e}(),No={suppressScrollX:!0},jo=function(){function e(e,t){this.ngRedux=e,this.devTool=t,this.ngRedux.configureStore(u,{},[],[t.isEnabled()?t.enhancer():function(e){return e}])}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.NgRedux),a["\u0275\u0275inject"](s.DevToolsExtension))},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e,bootstrap:[wo]}),e.\u0275inj=a["\u0275\u0275defineInjector"]({providers:[{provide:k.a,useValue:No},m],imports:[[i.a,Co,l.b,s.NgReduxModule,b.c,ko.a,k.c,x.g,_.b,o.i,o.s,z.b,ze.b,Se.b,Io.a,r.b,Ro,$o.a.forRoot()],$o.a]}),e}();Object(a.enableProdMode)(),i.f().bootstrapModule(jo).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);