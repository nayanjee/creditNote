(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},RnhZ:function(e,t,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="RnhZ"},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("jhN1"),a=n("fXoL"),r=n("njyG"),o=n("3Pt+"),l=n("R1ws"),s=n("TpXg"),d=n("ANjH"),c=n("mrSG"),m=function(){function e(e){this.ngRedux=e}return e.prototype.getConfig=function(){this.ngRedux.dispatch({type:e.CONFIG_GET})},e.prototype.updateConfig=function(t){this.ngRedux.dispatch({type:e.CONFIG_UPDATE,payload:t})},e.CONFIG_GET="CONFIG_GET",e.CONFIG_UPDATE="CONFIG_UPDATE",e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.NgRedux))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),p={headerTheme:"",sidebarTheme:""},u=Object(d.combineReducers)({config:function(e,t){switch(void 0===e&&(e=p),t.type){case m.CONFIG_GET:return Object.assign({},e);case m.CONFIG_UPDATE:return Object.assign({},e,Object(c.a)({},t.payload));default:return e}}}),f=n("tyNb"),h=n("HDdC"),v=n("R0Ic"),g=function(){function e(){this.sidebarHover=!1,this.toggleSidebar=!1,this.toggleSidebarMobile=!1,this.toggleHeaderMobile=!1,this.toggleFixedFooter=!1}return e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),b=n("ofXK"),x=n("wHSu"),y=n("1kSV"),S=function(){function e(e,t){this.router=e,this.globals=t,this.userName="",this.userImg="8.jpg"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");if(e){var t=JSON.parse(e);this.userName=t.name?t.name:"",this.userImg=t.img?t.img:"8.jpg"}},e.prototype.logout=function(){sessionStorage.removeItem("laUser"),sessionStorage.clear(),this.router.navigateByUrl("/login")},e.prototype.changePassword=function(){this.router.navigateByUrl("/change/password")},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](g))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-box"]],decls:17,vars:4,consts:[[1,"d-flex"],[1,"header-btn-lg","pe-0"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["ngbDropdown","","placement","bottom-right",1,"btn-group"],[2,"font-weight","600","margin","17px 7px 0px 0px","font-size","15px","color","#033C73"],["type","button","ngbDropdownToggle","",1,"btn","btn-link","p-0","me-2"],[1,"icon-wrapper","icon-wrapper-alt","rounded-circle"],["width","42","alt","",1,"rounded-circle",3,"src"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"fa","fa-power-off"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"button",7),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275element"](12,"img",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275elementStart"](14,"button",11),a["\u0275\u0275listener"]("click",function(){return t.logout()}),a["\u0275\u0275element"](15,"i",12),a["\u0275\u0275text"](16," Logout"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](7),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](8,2,t.userName)," "),a["\u0275\u0275advance"](5),a["\u0275\u0275propertyInterpolate1"]("src","./assets/images/avatars/",t.userImg,"",a["\u0275\u0275sanitizeUrl"]))},directives:[y.c,y.e,y.d],pipes:[b.v],encapsulation:2}),e}(),_=n("6NWb"),E=function(e){return{"is-active":e}},C=function(){function e(e){this.globals=e,this.tabWasClosed=!1,this.faEllipsisV=x.b}return Object.defineProperty(e.prototype,"isActiveAsGetter",{get:function(){return this.isActive},enumerable:!1,configurable:!0}),e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.prototype.toggleHeaderMobile=function(){this.globals.toggleHeaderMobile=!this.globals.toggleHeaderMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-header"]],hostVars:2,hostBindings:function(e,t){2&e&&a["\u0275\u0275classProp"]("isActive",t.isActiveAsGetter)},decls:16,vars:11,consts:[[1,"logo-src"],[1,"app-header__content",2,"padding-left","35%"],[1,"app-header-left"],[1,"app-header-right"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],[1,"btn-icon","btn-icon-only","btn","btn-primary",3,"ngClass","click"],[1,"btn-icon-wrapper"],[3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275element"](2,"div",0),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275element"](4,"div",2),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275element"](6,"app-user-box"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275elementStart"](8,"button",5),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementStart"](9,"span",6),a["\u0275\u0275element"](10,"span",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275elementStart"](12,"span"),a["\u0275\u0275elementStart"](13,"button",9),a["\u0275\u0275listener"]("click",function(){return t.toggleHeaderMobile()}),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275element"](15,"fa-icon",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-header header-shadow "+a["\u0275\u0275pipeBind1"](1,5,t.config$).headerTheme),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](7,E,t.globals.toggleSidebarMobile)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](9,E,t.globals.toggleHeaderMobile)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faEllipsisV))},directives:[S,b.l,_.a],pipes:[b.b],encapsulation:2}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",h.a)],e.prototype,"config$",void 0),e}(),k=n("Kdsb");function w(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",23),a["\u0275\u0275element"](2,"i",24),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Create Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",25),a["\u0275\u0275element"](2,"i",26),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Draft Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",27),a["\u0275\u0275element"](2,"i",28),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Approval"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",29),a["\u0275\u0275element"](2,"i",18),a["\u0275\u0275elementStart"](3,"span",15),a["\u0275\u0275text"](4,"Claim Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",30),a["\u0275\u0275element"](1,"i",31),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Master Management"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"i",32),a["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",34),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"User"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",35),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",36),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",37),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",38),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",12),a["\u0275\u0275elementStart"](1,"a",39),a["\u0275\u0275elementStart"](2,"span",15),a["\u0275\u0275text"](3,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",33),a["\u0275\u0275elementStart"](1,"div",11),a["\u0275\u0275template"](2,O,4,0,"div",16),a["\u0275\u0275template"](3,P,4,0,"div",16),a["\u0275\u0275template"](4,T,4,0,"div",16),a["\u0275\u0275template"](5,R,4,0,"div",16),a["\u0275\u0275template"](6,N,4,0,"div",16),a["\u0275\u0275template"](7,j,4,0,"div",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("5")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("14")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("17")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("7")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("9")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.loggedInUser.permissions.includes("12"))}}var B=function(e){return{"is-active":e}},Q=function(){function e(e,t){this.globals=e,this.activatedRoute=t,this.loggedInUser=[],this.activeId="dashboardsMenu";var n=sessionStorage.getItem("laUser");this.loggedInUser=JSON.parse(n)}return e.prototype.toggleSidebar=function(){this.globals.toggleSidebar=!this.globals.toggleSidebar},e.prototype.sidebarHover=function(){this.globals.sidebarHover=!this.globals.sidebarHover},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.innerWidth=window.innerWidth,e.innerWidth<1200&&(e.globals.toggleSidebar=!0)}),this.extraParameter=this.activatedRoute.snapshot.firstChild.data.extraParameter},e.prototype.onResize=function(e){this.newInnerWidth=e.target.innerWidth,this.globals.toggleSidebar=this.newInnerWidth<1200},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g),a["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("resize",function(e){return t.onResize(e)},!1,a["\u0275\u0275resolveWindow"])},decls:31,vars:15,consts:[[3,"mouseover","mouseout"],[1,"app-header__logo"],[1,"logo-src"],[1,"header__pane","ms-auto"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-sidebar-content"],[1,"app-sidebar-scroll"],[3,"autoPropagation"],[1,"v-sidebar-menu","vsm-default"],[1,"vsm-list"],[1,"vsm-item"],["routerLink","/dashboard","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-home"],[1,"vsm-title"],["class","vsm-item",4,"ngIf"],["routerLink","/stockiest/claims","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-id"],[3,"destroyOnHide","closeOthers","activeIds"],["id","formElementsMenu"],["ngbPanelHeader",""],["ngbPanelContent",""],["routerLink","/stockiest/createClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-news-paper"],["routerLink","/stockiest/draftClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-notebook"],["routerLink","/headoffice/stockiestClaim","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-check"],["routerLink","/stockiest/claimStatus","routerLinkActive","active-item",1,"vsm-link"],["ngbPanelToggle","",1,"vsm-link"],[1,"vsm-icon","pe-7s-helm"],[1,"vsm-arrow"],[1,"vsm-dropdown"],["routerLink","users/listUser","routerLinkActive","active-item",1,"vsm-link"],["routerLink","batch/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","product/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","division/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","stockiest/list","routerLinkActive","active-item",1,"vsm-link"],["routerLink","distributor/list","routerLinkActive","active-item",1,"vsm-link"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275listener"]("mouseover",function(){return t.sidebarHover()})("mouseout",function(){return t.sidebarHover()}),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275element"](3,"div",2),a["\u0275\u0275elementStart"](4,"div",3),a["\u0275\u0275elementStart"](5,"button",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebar()}),a["\u0275\u0275elementStart"](6,"span",5),a["\u0275\u0275element"](7,"span",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",7),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"perfect-scrollbar",9),a["\u0275\u0275elementStart"](11,"div",10),a["\u0275\u0275elementStart"](12,"div",11),a["\u0275\u0275elementStart"](13,"div",12),a["\u0275\u0275elementStart"](14,"a",13),a["\u0275\u0275element"](15,"i",14),a["\u0275\u0275elementStart"](16,"span",15),a["\u0275\u0275text"](17,"Dashboard"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](18,w,5,0,"div",16),a["\u0275\u0275template"](19,I,5,0,"div",16),a["\u0275\u0275template"](20,F,5,0,"div",16),a["\u0275\u0275template"](21,D,5,0,"div",16),a["\u0275\u0275elementStart"](22,"div",12),a["\u0275\u0275elementStart"](23,"a",17),a["\u0275\u0275element"](24,"i",18),a["\u0275\u0275elementStart"](25,"span",15),a["\u0275\u0275text"](26,"Stockist Claims"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"ngb-accordion",19),a["\u0275\u0275elementStart"](28,"ngb-panel",20),a["\u0275\u0275template"](29,M,5,0,"ng-template",21),a["\u0275\u0275template"](30,A,8,6,"ng-template",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classMap"]("app-sidebar sidebar-shadow "+a["\u0275\u0275pipeBind1"](1,11,t.config$).sidebarTheme),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](13,B,t.globals.toggleSidebar)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("autoPropagation",!0),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("1")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("1")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("4")),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("2")),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("destroyOnHide",!1)("closeOthers",!0)("activeIds",t.extraParameter))},directives:[b.l,k.b,f.h,f.g,b.n,y.b,y.h,y.j,y.i,y.k],pipes:[b.b],encapsulation:2}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",h.a)],e.prototype,"config$",void 0),e}(),U=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"app-footer"],[1,"app-footer__inner"],[1,"app-footer-left"],[1,"ps-2"],[1,"app-footer-right"],["href","https://larenon.com","target","_blank",1,"btn","btn-sm","btn-primary","me-2"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"span",3),a["\u0275\u0275text"](4,"\xa9 2024 - All Rights Reserved by La Renon Healthcare Pvt. Ltd."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"a",5),a["\u0275\u0275text"](7,"La Renon Healthcare"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},encapsulation:2}),e}(),L=n("lPP5"),Y=function(e,t,n,i){return{"closed-sidebar-md":e,"closed-sidebar-open":t,"header-menu-open":n,"fixed-footer":i}},V=function(){function e(e,t){this.globals=e,this.configActions=t}return e.prototype.toggleSidebarMobile=function(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g),a["\u0275\u0275directiveInject"](m))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-base-layout"]],decls:11,vars:10,consts:[[3,"ngClass"],[1,"app-main__outer"],[1,"app-main__inner"],["o","outlet"],[1,"sidebar-menu-overlay",3,"click"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"app-header"),a["\u0275\u0275element"](2,"app-sidebar"),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275element"](6,"router-outlet",null,3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"app-footer"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",4),a["\u0275\u0275listener"]("click",function(){return t.toggleSidebarMobile()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"ngx-loading-bar",5)),2&e){var n=a["\u0275\u0275reference"](7);a["\u0275\u0275classMap"]("app-container app-theme-white closed-sidebar"),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction4"](5,Y,t.globals.toggleSidebarMobile,t.globals.sidebarHover||t.globals.toggleSidebarMobile,t.globals.toggleHeaderMobile,t.globals.toggleFixedFooter)),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[b.l,C,Q,f.j,U,L.a],encapsulation:2,data:{animation:[Object(v.l)("architectUIAnimation",[Object(v.k)("* <=> *",[Object(v.g)(":enter, :leave",[Object(v.j)({opacity:0,display:"flex",flex:"1",transform:"translateY(-20px)",flexDirection:"column"})]),Object(v.g)(":enter",[Object(v.e)("200ms ease",Object(v.j)({opacity:1,transform:"translateY(0)"}))]),Object(v.g)(":leave",[Object(v.e)("200ms ease",Object(v.j)({opacity:0,transform:"translateY(-20px)"}))],{optional:!0})])])]}}),Object(c.c)([Object(s.select)("config"),Object(c.e)("design:type",h.a)],e.prototype,"config$",void 0),e}(),q=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-pages-layout"]],decls:4,vars:2,consts:[["o","outlet"],[3,"color"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275element"](1,"router-outlet",null,0),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"ngx-loading-bar",1)),2&e){var n=a["\u0275\u0275reference"](2);a["\u0275\u0275property"]("@architectUIAnimation",n.isActivated?n.activatedRoute:""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("color","var(--primary)")}},directives:[f.j,L.a],encapsulation:2,data:{animation:[Object(v.l)("architectUIAnimation",[Object(v.k)("* <=> *",[Object(v.g)(":enter, :leave",[Object(v.j)({opacity:0,display:"flex",flex:"1",flexDirection:"column"})]),Object(v.g)(":enter",[Object(v.e)("200ms ease",Object(v.j)({opacity:1}))]),Object(v.g)(":leave",[Object(v.e)("200ms ease",Object(v.j)({opacity:0}))],{optional:!0})])])]}}),e}(),z=n("PdH4"),H=n.n(z),J=n("tk/3"),W=n("LRne"),G=n("JIr8"),Z="https://cn.larenon.com:8443",K={headers:new J.c({"Content-Type":"application/json"})},X=function(){function e(e){this.http=e,this.apiURL=Z}return e.prototype.fetch=function(e){return this.http.get(""+(this.apiURL+e),K).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.get=function(e,t){return this.http.get(this.apiURL+e+"/"+t,K).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.post=function(e,t){return this.http.post(""+(this.apiURL+e),t,K).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.update=function(e,t){return this.http.put(""+(this.apiURL+e),t,K).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.upload=function(e,t){return this.http.post(""+(this.apiURL+e),t).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.delete=function(e,t){return this.http.delete(""+(this.apiURL+e+t),K).pipe(Object(G.a)(this.handleError("getData",[])))},e.prototype.observErrorHandler=function(e){return e},e.prototype.handleError=function(e,t){return void 0===e&&(e="operation"),function(e){return Object(W.a)(t)}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](J.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function ee(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",6),a["\u0275\u0275text"](1," No Record Found! "),a["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.distName[0].organization)}}function ne(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.stockName[0].organization)}}var ie=function(e,t,n,i){return["stockiest/claims",e,t,n,i]};function ae(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"a",19),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction4"](3,ie,n.distributorId,n.stockistId,n.claimMonth,n.claimYear)),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"]("0",n.claimMonth,"-",n.claimYear,"")}}function re(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"a",19),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction4"](3,ie,n.distributorId,n.stockistId,n.claimMonth,n.claimYear)),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"]("",n.claimMonth,"-",n.claimYear,"")}}function oe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",20),a["\u0275\u0275text"](1,"In Progress"),a["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",21),a["\u0275\u0275text"](1,"Completed"),a["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",11),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td"),a["\u0275\u0275template"](4,te,2,1,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td"),a["\u0275\u0275template"](6,ne,2,1,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",9),a["\u0275\u0275template"](8,ae,2,8,"a",13),a["\u0275\u0275template"](9,re,2,8,"a",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",14),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",9),a["\u0275\u0275template"](14,oe,2,0,"div",15),a["\u0275\u0275template"](15,le,2,0,"div",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",9),a["\u0275\u0275elementStart"](17,"img",17),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](3).completed(e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"img",18),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](3).inprogress(e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](r+1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.distName[0].organization),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.stockName[0].organization),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.claimMonth<10),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.claimMonth>9),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](12,8,i.createdAt,"dd-MM-YYYY")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",0==i.status),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==i.status)}}function de(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275elementStart"](1,"table",8),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",9),a["\u0275\u0275text"](5,"#"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th"),a["\u0275\u0275text"](7,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th"),a["\u0275\u0275text"](9,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",9),a["\u0275\u0275text"](11,"Claim Date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",9),a["\u0275\u0275text"](13,"Submitted On"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",9),a["\u0275\u0275text"](15,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",9),a["\u0275\u0275text"](17,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"tbody"),a["\u0275\u0275template"](19,se,19,11,"tr",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](19),a["\u0275\u0275property"]("ngForOf",n.messages)}}function ce(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",1),a["\u0275\u0275elementStart"](1,"div",2),a["\u0275\u0275elementStart"](2,"div",3),a["\u0275\u0275text"](3," Distributor/Stockist Claim Posted "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](4,ee,2,0,"div",4),a["\u0275\u0275template"](5,de,20,1,"div",5),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",!n.messages.length),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.messages.length)}}var me=function(){function e(e,t){this.router=e,this.apiService=t,this.temp=[],this.assets=[],this.messages=[],this.distributors=[],this.notifications=[],this.heading="Dashboard",this.subheading="This is an example dashboard created using build-in elements and components.",this.icon="pe-7s-plane icon-gradient bg-tempting-azure",this.labels=["January","February","March","April","May","June","July","August"]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),console.log("sessionStorageDashboard---",this.sessionData),this.getDistStockistDivision()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.getMessages=function(){var e=this;if(this.distributors.length){var t=[];this.distributors.forEach(function(e){e.stockists.forEach(function(n){var i=[];e.divisions.forEach(function(e){i.push(parseInt(e))});var a={stockist:parseInt(n),divisions:i};t.push(a)})}),this.apiService.post("/api/user/getMessages",{data:t}).subscribe(function(t){200===t.status&&t.data.length&&(e.messages=t.data)})}},e.prototype.getDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data.length&&(e.distributors=t.data,console.log("distributors--",e.distributors),e.getMessages())})},e.prototype.completed=function(e){var t=this;this.apiService.post("/api/user/updateMessageStatus",{id:e,status:1}).subscribe(function(n){if(200===n.status){var i=t.messages.findIndex(function(t){return t._id==e});t.messages[i].status=1,console.log(t.messages),t.toast("success","Status updated successfully.")}else t.toast("error",n.message)})},e.prototype.inprogress=function(e){var t=this;this.apiService.post("/api/user/updateMessageStatus",{id:e,status:0}).subscribe(function(n){if(200===n.status){var i=t.messages.findIndex(function(t){return t._id==e});t.messages[i].status=0,console.log(t.messages),t.toast("success","Status updated successfully.")}else t.toast("error",n.message)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-analytics"]],decls:1,vars:1,consts:[["class","main-card mb-3 card",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-header"],[1,"card-header-title","font-size-lg","text-capitalize","fw-normal"],["class","table-responsive","style","text-align: center; color: red; height: 40px; padding-top: 10px;",4,"ngIf"],["class","table-responsive","style","overflow-y: auto; max-height: 440px;",4,"ngIf"],[1,"table-responsive",2,"text-align","center","color","red","height","40px","padding-top","10px"],[1,"table-responsive",2,"overflow-y","auto","max-height","440px"],[1,"align-middle","text-truncate","mb-0","table","table-borderless","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","text-muted",2,"width","80px"],[4,"ngIf"],[3,"routerLink",4,"ngIf"],[1,"text-center",2,"width","200px"],["class","badge rounded-pill bg-warning",4,"ngIf"],["class","badge rounded-pill bg-success",4,"ngIf"],["src","./../../../../assets/images/tick-mark.png","alt","Mark as Completed","title","Mark as Completed",2,"width","18px","cursor","pointer","margin","0 3px",3,"click"],["src","./../../../../assets/images/processing-time.png","alt","Mark as In Progress","title","Mark as In Progress",2,"width","18px","cursor","pointer","margin","0 3px",3,"click"],[3,"routerLink"],[1,"badge","rounded-pill","bg-warning"],[1,"badge","rounded-pill","bg-success"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,ce,6,2,"div",0),2&e&&a["\u0275\u0275property"]("ngIf","ho"==t.sessionData.type)},directives:[b.n,b.m,f.h],pipes:[b.e],encapsulation:2}),e}(),pe=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgot-password-boxed"]],decls:32,vars:0,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-6"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-header"],[1,"h5","modal-title"],[1,"mt-1","mb-0","opacity-8"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["id","__BVID__132",1,"mb-3"],["tabindex","-1","role","group"],["for","exampleEmail",1,"form-label"],["id","exampleEmail","name","email","type","email","placeholder","Email here...",1,"form-control"],[1,"divider"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","clearfix"],[1,"float-end"],["type","button",1,"btn","btn-primary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275text"](8," Forgot your Password? "),a["\u0275\u0275elementStart"](9,"h6",8),a["\u0275\u0275elementStart"](10,"span"),a["\u0275\u0275text"](11,"Use the form below to recover it."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",9),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"form"),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"div",11),a["\u0275\u0275elementStart"](17,"fieldset",12),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](22,"div",16),a["\u0275\u0275elementStart"](23,"h6",17),a["\u0275\u0275elementStart"](24,"a",18),a["\u0275\u0275text"](25,"Sign in existing account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",19),a["\u0275\u0275elementStart"](27,"div",20),a["\u0275\u0275elementStart"](28,"button",21),a["\u0275\u0275text"](29,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",22),a["\u0275\u0275text"](31," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[o.w,o.n,o.o,f.h],encapsulation:2}),e}();function ue(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.slug),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function fe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",29),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}function he(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",30),a["\u0275\u0275elementStart"](1,"span",31),a["\u0275\u0275element"](2,"img",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",33),a["\u0275\u0275text"](4,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var ve=function(){function e(e,t,n){this.router=e,this.fb=t,this.apiService=n,this.loggedUserId="",this.submitted=!1,this.loginForm=o.f,this.selectedType=3,this.portals=[]}return e.prototype.ngOnInit=function(){sessionStorage.getItem("laUser")&&this.router.navigateByUrl("/"),this.getPortals(),this.loginForm=this.fb.group({email:["",[o.v.required]],password:[""]})},e.prototype.onSubmit=function(){var e=this;$("#errmsg").hide(),$(".invalid-feedback").hide(),$(".form-control").removeClass("is-invalid");var t=this.loginForm.value.email,n=this.loginForm.value.password;if(!t||!n)return t||($("#err-email").html("Email is required."),$("#email").addClass("is-invalid"),$("#err-email").show()),void(n||($("#err-pass").html("Password is required."),$("#password2").addClass("is-invalid"),$("#err-pass").show()));if(!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t))return $("#err-email").html("Enter a valid email address."),$("#email").addClass("is-invalid"),void $("#err-email").show();this.submitted=!0,sessionStorage.removeItem("laUser"),sessionStorage.clear();var i={email:t.trim().toLowerCase(),otp:n.trim()};this.apiService.post("/api/auth/verifyotp",i).subscribe(function(t){200===t.status?(console.log("response.data---",t.data),sessionStorage.setItem("laUser",JSON.stringify({id:t.data.id,img:t.data.image,name:t.data.name,type:t.data.type,workType:t.data.workType,permissions:t.data.permissions})),e.router.navigateByUrl("/dashboard")):(400===t.status?($("#errmsg").show(),$("#errmsg").html(t.message)):($("#errmsg").show(),$("#errmsg").html("Something went wrong please try again.")),e.submitted=!1)},function(t){e.errorHandling(t)})},e.prototype.sendOtp=function(){var e=this;console.log("Send OTP"),$("#errmsg").hide(),$(".invalid-feedback").hide(),$(".form-control").removeClass("is-invalid");var t=$("#email").val().trim().toLowerCase();return t?/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t)?void this.apiService.post("/api/auth/generateotp",{email:t}).subscribe(function(e){200===e.status?(console.log(e),$("#otpmsg").show(),$("#email").attr("readonly",!0),$("#btnOtp").hide(),$("#txtOtp").show(),$("#submitBtn").show()):400===e.status?($("#otpmsg").hide(),$("#email").attr("readonly",!1),$("#btnOtp").show(),$("#txtOtp").hide(),$("#submitBtn").hide(),$("#errmsg").show(),$("#errmsg").html(e.message)):($("#errmsg").show(),$("#errmsg").html("Something went wrong please try again."))},function(t){e.errorHandling(t)}):($("#err-email").html("Enter a valid email address."),$("#email").addClass("is-invalid"),void $("#err-email").show()):($("#err-email").html("Email is required."),$("#email").addClass("is-invalid"),void $("#err-email").show())},e.prototype.radioChange=function(e){$("#portal").hide(),"1"===e.target.value&&$("#portal").show(),"2"===e.target.value&&$("#portal").val(""),this.selectedType=parseInt(e.target.value)},e.prototype.changePortal=function(e){var t=e.target.value,n=this.portals.filter(function(e){return-1!==e.slug.indexOf(t)||!t});this.selectedPortal=n[0]},e.prototype.getPortals=function(){var e=this;this.apiService.fetch("/api/portal/all").subscribe(function(t){200===t.status&&t.data.length&&(e.portals=t.data)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login-boxed"]],decls:38,vars:4,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100","mx-auto"],[1,"modal-content"],[1,"modal-body"],[1,"h5","modal-title","text-center"],[1,"mt-2",2,"margin-bottom","20px"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","15px","display","none"],["id","otpmsg",2,"color","green","font-size","15px","margin-bottom","15px","font-weight","500","display","none"],[1,"employee",3,"formGroup","ngSubmit"],[1,"mb-3"],["id","email","type","email","formControlName","email","placeholder","Email address","required","",1,"form-control","shadow-sm"],["id","err-email",1,"invalid-feedback"],["id","txtOtp",1,"mb-3",2,"display","none"],["id","password","type","text","formControlName","password","placeholder","OTP","required","",1,"form-control","shadow-sm","text-primary"],["id","err-pass",1,"invalid-feedback"],["id","portal",1,"form-select","form-control",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err-portal",1,"invalid-feedback"],[1,"modal-footer","clearfix",2,"background","#ffffff"],["type","button","id","btnOtp",1,"mb-2","me-2","btn-transition","btn","btn-primary",3,"click"],["id","submitBtn",1,"float-end",2,"display","none"],["type","submit","class","mb-2 me-2 btn-transition btn btn-primary",4,"ngIf"],["type","button","class","mb-2 me-2 btn-transition btn","style","color: #033C73; border-color: #033C73; cursor:inherit;",4,"ngIf"],[1,"text-center","text-white","opacity-8","mt-3"],[3,"value"],["type","submit",1,"mb-2","me-2","btn-transition","btn","btn-primary"],["type","button",1,"mb-2","me-2","btn-transition","btn",2,"color","#033C73","border-color","#033C73","cursor","inherit"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"div",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"span"),a["\u0275\u0275text"](10,"Login to Your Account."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](11,"div",9),a["\u0275\u0275elementStart"](12,"div",10),a["\u0275\u0275text"](13," OTP sent successfully to your email. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"form",11),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](15,"div",12),a["\u0275\u0275elementStart"](16,"div"),a["\u0275\u0275element"](17,"input",13),a["\u0275\u0275element"](18,"div",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",15),a["\u0275\u0275elementStart"](20,"div"),a["\u0275\u0275element"](21,"input",16),a["\u0275\u0275element"](22,"div",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",12),a["\u0275\u0275elementStart"](24,"div"),a["\u0275\u0275elementStart"](25,"select",18),a["\u0275\u0275listener"]("change",function(e){return t.changePortal(e)}),a["\u0275\u0275elementStart"](26,"option",19),a["\u0275\u0275text"](27,"Select Portal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](28,ue,3,4,"option",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](29,"div",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",22),a["\u0275\u0275elementStart"](31,"button",23),a["\u0275\u0275listener"]("click",function(){return t.sendOtp()}),a["\u0275\u0275text"](32,"Send OTP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",24),a["\u0275\u0275template"](34,fe,2,0,"button",25),a["\u0275\u0275template"](35,he,5,0,"button",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",27),a["\u0275\u0275text"](37," Copyright \xa9 La Renon Healthcare Pvt. Ltd. 2024 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("formGroup",t.loginForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.portals),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",!t.submitted),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.submitted))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.t,o.q,o.x,b.m,b.n],pipes:[b.v],encapsulation:2}),e}(),ge=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register-boxed"]],decls:54,vars:0,consts:[[1,"h-100","bg-premium-dark"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-8"],[1,"app-logo-inverse","mx-auto","mb-3"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-body"],[1,"modal-title"],[1,"mt-2"],[1,"text-success"],[1,"divider"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"mb-3"],["id","exampleInput1","type","email","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_",1,"form-control"],["tabindex","-1","id","exampleInputGroup1__BV_description_",1,"form-text","text-muted"],["id","exampleInputGroup12","role","group",1,"mb-3"],["id","exampleInput12","type","text","placeholder","Enter username...","required","required","aria-required","true",1,"form-control"],[1,"row"],[1,"col-md-6"],["id","exampleInputGroup2","role","group",1,"mb-3"],["id","exampleInput2","type","password","placeholder","Enter password...","required","required","aria-required","true",1,"form-control"],["id","exampleInput2","type","password","placeholder","Repeat password...","required","required","aria-required","true",1,"form-control"],[1,"custom-control","custom-checkbox","form-check"],["id","exampleCheck","type","checkbox","name","check","autocomplete","off","value","true",1,"form-check-input"],["for","exampleCheck",1,"form-label","form-check-label"],[3,"routerLink"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"modal-footer","d-block","text-center"],["type","button",1,"btn","btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn-secondary","btn-lg"],[1,"text-center","text-white","opacity-8","mt-3"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275elementStart"](5,"div",5),a["\u0275\u0275elementStart"](6,"div",6),a["\u0275\u0275elementStart"](7,"h5",7),a["\u0275\u0275elementStart"](8,"h4",8),a["\u0275\u0275elementStart"](9,"div"),a["\u0275\u0275text"](10,"Welcome,"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"span"),a["\u0275\u0275text"](12,"It only takes a "),a["\u0275\u0275elementStart"](13,"span",9),a["\u0275\u0275text"](14,"few seconds"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](15," to create your account"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](16,"div",10),a["\u0275\u0275elementStart"](17,"div",11),a["\u0275\u0275elementStart"](18,"div"),a["\u0275\u0275element"](19,"input",12),a["\u0275\u0275elementStart"](20,"small",13),a["\u0275\u0275text"](21," We'll never share your email with anyone else. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"div",14),a["\u0275\u0275elementStart"](23,"div"),a["\u0275\u0275element"](24,"input",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"div",16),a["\u0275\u0275elementStart"](26,"div",17),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275elementStart"](28,"div"),a["\u0275\u0275element"](29,"input",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",17),a["\u0275\u0275elementStart"](31,"div",18),a["\u0275\u0275elementStart"](32,"div"),a["\u0275\u0275element"](33,"input",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",21),a["\u0275\u0275element"](35,"input",22),a["\u0275\u0275elementStart"](36,"label",23),a["\u0275\u0275text"](37," Accept our "),a["\u0275\u0275elementStart"](38,"a",24),a["\u0275\u0275text"](39,"Terms and Conditions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](40,". "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"div",10),a["\u0275\u0275elementStart"](42,"h6",25),a["\u0275\u0275text"](43," Already have an account? "),a["\u0275\u0275elementStart"](44,"a",26),a["\u0275\u0275text"](45,"Sign in"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](46," | "),a["\u0275\u0275elementStart"](47,"a",26),a["\u0275\u0275text"](48,"Recover Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"div",27),a["\u0275\u0275elementStart"](50,"button",28),a["\u0275\u0275text"](51,"Create Account "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",29),a["\u0275\u0275text"](53," Copyright \xa9 ArchitectUI 2019 "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[f.h],encapsulation:2}),e}(),be=function(){function e(){this.faStar=x.d,this.faPlus=x.c}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-page-title"]],inputs:{heading:"heading",subheading:"subheading",icon:"icon"},decls:15,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success"],[1,"me-2",3,"icon"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275element"](13,"fa-icon",9),a["\u0275\u0275text"](14," Create New "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faStar),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",t.faPlus))},directives:[_.a],encapsulation:2}),e}();function xe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",14),a["\u0275\u0275elementStart"](1,"pre"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.closeResult)}}function ye(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Basic demo"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Se(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275text"](4,"> "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",18),a["\u0275\u0275elementStart"](6,"perfect-scrollbar",22),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",19),a["\u0275\u0275elementStart"](14,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"button",21),a["\u0275\u0275text"](17,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("config",n.config)}}function _e(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Scrollable fixed content"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum ateros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"p"),a["\u0275\u0275text"](8," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"p"),a["\u0275\u0275text"](10," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"p"),a["\u0275\u0275text"](12," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"p"),a["\u0275\u0275text"](14," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"p"),a["\u0275\u0275text"](16," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"p"),a["\u0275\u0275text"](18," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"div",19),a["\u0275\u0275elementStart"](20,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](21,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"button",21),a["\u0275\u0275text"](23,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Ee(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Ce(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"h4",16),a["\u0275\u0275text"](2,"Modal title"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",17),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",18),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275text"](6," Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",19),a["\u0275\u0275elementStart"](8,"button",20),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",21),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var ke=function(){function e(e){this.modalService=e,this.heading="Modals",this.subheading="Wide selection of modal dialogs styles and animations available.",this.icon="pe-7s-phone icon-gradient bg-premium-dark"}return e.prototype.open=function(e){var t=this;this.modalService.open(e).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.openCentred=function(e){this.modalService.open(e,{centered:!0})},e.prototype.openSmall=function(e){this.modalService.open(e,{size:"sm"})},e.prototype.openLarge=function(e){this.modalService.open(e,{size:"lg"})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](y.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modals"]],decls:46,vars:4,consts:[[3,"heading","subheading","icon"],[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],["class","kt-section__sub",4,"ngIf"],[1,"divider"],["content",""],[1,"btn","btn-primary",3,"click"],["content5",""],["content6",""],[1,"btn","btn-success",3,"click"],["content7",""],[1,"kt-section__sub"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary"],[2,"height","250px",3,"config"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"div",4),a["\u0275\u0275text"](5," Basic "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275template"](7,xe,3,1,"span",6),a["\u0275\u0275element"](8,"div",7),a["\u0275\u0275template"](9,ye,12,0,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](11,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](12,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",3),a["\u0275\u0275elementStart"](14,"div",4),a["\u0275\u0275text"](15," Scrollable Fixed Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",5),a["\u0275\u0275template"](17,Se,18,1,"ng-template",null,8,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](19,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](10);return t.open(e)}),a["\u0275\u0275text"](20,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",3),a["\u0275\u0275elementStart"](22,"div",4),a["\u0275\u0275text"](23," Long Content "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",5),a["\u0275\u0275template"](25,_e,24,0,"ng-template",null,10,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](27,"button",9),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](26);return t.open(e)}),a["\u0275\u0275text"](28,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",2),a["\u0275\u0275elementStart"](30,"div",3),a["\u0275\u0275elementStart"](31,"div",4),a["\u0275\u0275text"](32," Large Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",5),a["\u0275\u0275template"](34,Ee,12,0,"ng-template",null,11,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](36,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](35);return t.openLarge(e)}),a["\u0275\u0275text"](37,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",3),a["\u0275\u0275elementStart"](39,"div",4),a["\u0275\u0275text"](40," Small Modal "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",5),a["\u0275\u0275template"](42,Ce,12,0,"ng-template",null,13,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](44,"button",12),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](43);return t.openSmall(e)}),a["\u0275\u0275text"](45,"Launch demo modal"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.closeResult))},directives:[be,b.n,k.b],encapsulation:2}),e}(),we=function(){function e(){this.heading="Tooltips & Popovers",this.subheading="These Vue components are used to add interaction or extra information for your app's content.",this.icon="pe-7s-note2 icon-gradient bg-happy-fisher"}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tooltips-popovers"]],decls:14,vars:3,consts:[[3,"heading","subheading","icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"card-title"],[1,"text-center"],["id","exButton1","type","button","placement","top","ngbTooltip","Tooltip on top",1,"btn","me-2","btn-primary"],["id","exButton2","type","button","placement","right","ngbTooltip","Tooltip on right",1,"btn","me-2","btn-primary"],["id","exButton3","type","button","placement","bottom","ngbTooltip","Tooltip on bottom",1,"btn","me-2","btn-primary"],["id","exButton4","type","button","placement","left","ngbTooltip","Tooltip on left",1,"btn","btn-primary"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"app-page-title",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"h5",3),a["\u0275\u0275text"](4,"Tooltips"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",4),a["\u0275\u0275elementStart"](6,"button",5),a["\u0275\u0275text"](7," Tooltip on top "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"button",6),a["\u0275\u0275text"](9," Tooltip on right "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",7),a["\u0275\u0275text"](11," Tooltip on bottom "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",8),a["\u0275\u0275text"](13," Tooltip on left "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("heading",t.heading)("subheading",t.subheading)("icon",t.icon)},directives:[be,y.l],encapsulation:2}),e}();function Ie(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Current Password is required. "),a["\u0275\u0275elementEnd"]())}function $e(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," New Password is required. "),a["\u0275\u0275elementEnd"]())}function Fe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",22),a["\u0275\u0275text"](1," Confirm Password is required. "),a["\u0275\u0275elementEnd"]())}function De(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",23),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}function Me(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",24),a["\u0275\u0275text"](1,"Submit"),a["\u0275\u0275elementEnd"]())}var Oe=function(){function e(e,t,n,i){var a=this;this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.loggedUser=[],this.faStar=x.d,this.faPlus=x.c,this.heading="Change Password",this.subheading="Update old password.",this.icon="pe-7s-user icon-gradient bg-premium-dark",this.type="",this.ownerPercent="",this.coOwnerNumber="",this.submitted=!1,this.btnLoader=!1,this.selectedType="",this.activatedRoute.queryParams.subscribe(function(e){a.type=e.type})}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");console.log("sessionStorageCP---",e),e?this.loggedUser=JSON.parse(e):this.router.navigateByUrl("/login"),this.createForm(),this.type&&(this.selectedType=this.type,this.myForm.controls.type.setValue(this.type,{onlySelf:!0}),this.myForm.value.type=this.type)},Object.defineProperty(e.prototype,"f",{get:function(){return this.myForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.myForm=this.fb.group({old:["",[o.v.required]],new:["",[o.v.required]],confirm:["",[o.v.required]]})},e.prototype.onSubmit=function(){if(this.myForm.valid){if(this.myForm.value.old===this.myForm.value.new)return $("#errmsg").show(),void $("#errmsg").html("Current password and new password should not be same.");if(this.myForm.value.new!=this.myForm.value.confirm)return $("#errmsg").show(),void $("#errmsg").html("New password and confirm password must be same.");this.submitted=!0,this.btnLoader=!0;var e={userId:this.loggedUser.id,password:this.myForm.value.old,newPassword:this.myForm.value.new};console.log(this.loggedUser),console.log(e),this.apiService.post("/api/auth/password",e).subscribe(function(e){console.log("response---",e)})}else this.btnLoader=!1},e.prototype.isCoOwnerHandler=function(e){$(".formError").hide(),1==e.target.value.toLowerCase()?$(".showcoowner").show():$(".showcoowner").hide(),console.log(e.target.value)},e.prototype.ownerPercentHandler=function(e){$(".formError").hide()},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-password"]],decls:35,vars:11,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["id","errmsg",2,"color","red","font-size","15px","margin-bottom","5px","text-align","center","display","none"],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4","offset-md-4"],[1,"position-relative","mb-3","required"],["for","old",1,"form-label"],["type","text","id","old","formControlName","old","placeholder","Current Password",1,"form-control"],["class","text-danger",4,"ngIf"],["for","new",1,"form-label"],["type","text","id","new","formControlName","new","placeholder","New Password",1,"form-control"],["for","confirm",1,"form-label"],["type","text","id","confirm","formControlName","confirm","placeholder","Confirm Password",1,"form-control"],[1,"col-md-4","offset-md-4",2,"text-align","center"],["type","submit","class","mt-1 btn btn-success","style","padding: 6px 30px;",4,"ngIf"],["type","submit","class","mt-1 btn btn-success disabled","style","padding: 6px 30px;",4,"ngIf"],[1,"text-danger"],["type","submit",1,"mt-1","btn","btn-success",2,"padding","6px 30px"],["type","submit",1,"mt-1","btn","btn-success","disabled",2,"padding","6px 30px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275element"](11,"div",7),a["\u0275\u0275elementStart"](12,"form",8),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"label",12),a["\u0275\u0275text"](17,"Current Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"input",13),a["\u0275\u0275template"](19,Ie,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",10),a["\u0275\u0275elementStart"](21,"div",11),a["\u0275\u0275elementStart"](22,"label",15),a["\u0275\u0275text"](23,"New Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"input",16),a["\u0275\u0275template"](25,$e,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",10),a["\u0275\u0275elementStart"](27,"div",11),a["\u0275\u0275elementStart"](28,"label",17),a["\u0275\u0275text"](29,"Confirm Password"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"input",18),a["\u0275\u0275template"](31,Fe,2,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",19),a["\u0275\u0275template"](33,De,2,0,"button",20),a["\u0275\u0275template"](34,Me,2,0,"button",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("formGroup",t.myForm),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",(t.f.old.touched||t.submitted)&&(null==t.f.old.errors?null:t.f.old.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.new.touched||t.submitted)&&(null==t.f.new.errors?null:t.f.new.errors.required)),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",(t.f.confirm.touched||t.submitted)&&(null==t.f.confirm.errors?null:t.f.confirm.errors.required)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,b.n],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}']}),e}(),Pe=n("XNiG"),Te=n("0b7Q"),Re=n("wd/R"),Ne=n("ZOsW");function je(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Ae(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function Be(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function Qe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",94),a["\u0275\u0275template"](1,Ae,2,0,"span",71),a["\u0275\u0275template"](2,Be,2,1,"span",71),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function Ue(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Le(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function Ye(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function Ve(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function qe(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",37),a["\u0275\u0275text"](1,"Total Diff."),a["\u0275\u0275elementEnd"]())}function ze(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",40),a["\u0275\u0275element"](1,"input",95),a["\u0275\u0275elementEnd"]())}function He(e,t){1&e&&a["\u0275\u0275element"](0,"input",96)}function Je(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",98),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function We(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Je,2,1,"span",97),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function Ge(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",100),a["\u0275\u0275element"](1,"input",126),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",n,"")}}function Ze(e,t){if(1&e&&a["\u0275\u0275element"](0,"input",127),2&e){var n=a["\u0275\u0275nextContext"]().index;a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",n,"")}}function Ke(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",98),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function Xe(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Ke,2,1,"span",97),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function et(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",99),a["\u0275\u0275elementStart"](1,"td",100),a["\u0275\u0275element"](2,"input",101),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",100),a["\u0275\u0275elementStart"](4,"input",102),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchDivision(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"img",103),a["\u0275\u0275elementStart"](6,"div",104),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().divisionSelection(e,i)}),a["\u0275\u0275element"](7,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"input",105),a["\u0275\u0275element"](9,"input",106),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",100),a["\u0275\u0275elementStart"](11,"input",107),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchProduct(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"img",108),a["\u0275\u0275elementStart"](13,"div",104),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().productSelection(e,i)}),a["\u0275\u0275element"](14,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](15,"input",109),a["\u0275\u0275element"](16,"input",110),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",100),a["\u0275\u0275elementStart"](18,"input",111),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](19,"img",103),a["\u0275\u0275elementStart"](20,"div",104),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](21,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",100),a["\u0275\u0275element"](23,"input",112),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",100),a["\u0275\u0275element"](25,"input",113),a["\u0275\u0275element"](26,"input",114),a["\u0275\u0275element"](27,"input",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",100),a["\u0275\u0275elementStart"](29,"input",115),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",100),a["\u0275\u0275elementStart"](31,"input",116),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"td",100),a["\u0275\u0275elementStart"](33,"input",117),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",100),a["\u0275\u0275element"](35,"input",118),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](36,Ge,2,1,"td",119),a["\u0275\u0275template"](37,Ze,1,1,"input",120),a["\u0275\u0275elementStart"](38,"td",100),a["\u0275\u0275element"](39,"input",121),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td",100),a["\u0275\u0275elementStart"](41,"input",67,68),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"i",69),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](42).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](44," \xa0 "),a["\u0275\u0275elementStart"](45,"i",70),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index,r=a["\u0275\u0275nextContext"](),o=a["\u0275\u0275reference"](149);return r.openWebcam(e,i,o)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",66),a["\u0275\u0275template"](47,Xe,2,1,"div",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"td",122),a["\u0275\u0275elementStart"](49,"span",73),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)})("keyup.enter",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().addSameInvoice(e)}),a["\u0275\u0275element"](50,"i",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"span",123),a["\u0275\u0275elementStart"](52,"i",124),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeClaim(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](53,"input",125),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_id_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","plant_id_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+13),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_suggestion_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_id_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","product_id_temp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+14),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","stockist"!=r.sessionData.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","stockist"==r.sessionData.type),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10*i+19),a["\u0275\u0275advance"](4),a["\u0275\u0275propertyInterpolate"]("value",i)}}function tt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"webcam",140),a["\u0275\u0275listener"]("imageCapture",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleImage(e)})("cameraSwitched",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).cameraWasSwitched(e)})("initError",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleInitError(e)}),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("height",376)("width",376)("trigger",i.triggerObservable)("allowCameraSwitch",i.allowCameraSwitch)("switchCamera",i.nextWebcamObservable)("videoOptions",i.videoOptions)("imageQuality",1)}}function nt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",141),a["\u0275\u0275element"](1,"img",142),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("src",n.webcamImage.imageAsDataUrl,a["\u0275\u0275sanitizeUrl"])}}function it(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",128),a["\u0275\u0275elementStart"](1,"h4",129),a["\u0275\u0275text"](2,"Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",130),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",131),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",132),a["\u0275\u0275elementStart"](7,"div",133),a["\u0275\u0275template"](8,tt,1,7,"webcam",134),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",132),a["\u0275\u0275elementStart"](10,"div",135),a["\u0275\u0275template"](11,nt,2,1,"div",136),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",137),a["\u0275\u0275elementStart"](13,"button",138),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](14,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"button",139),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().triggerSnapshot()}),a["\u0275\u0275text"](16,"Take A Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",i.showWebcam),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.webcamImage)}}function at(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",143),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()}),a["\u0275\u0275text"](1," Save as Draft "),a["\u0275\u0275elementEnd"]()}}function rt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",144),a["\u0275\u0275elementStart"](1,"span",145),a["\u0275\u0275element"](2,"img",146),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",147),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function ot(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",93),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function lt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",148),a["\u0275\u0275text"](1," Submit "),a["\u0275\u0275elementEnd"]())}var st=function(){function e(e,t,n,i,a,r){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.config=a,this.modalService=r,this.showWebcam=!1,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.trigger=new Pe.a,this.nextWebcam=new Pe.a,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create Claim",this.subheading="Create a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.batches=[],this.products=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.distributors=[],this.selectedFields=[],this.preselectedFields=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.loggedUserId="",this.uniqueProducts=[],this.alignedStockiest=[],this.records=[],this.tempRecords=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.totalAmount=0}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),console.log(this.sessionData);var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});parseInt(n)-1<=0?(this.selectedYear=parseInt(i)-1,this.selectedMonth=12):(this.selectedYear=i,this.selectedMonth=parseInt(n)),this.selectedFields.month=this.selectedMonth,this.selectedFields.year=this.selectedYear,this.selectedFields.type="scheme",this.preselectedFields.month=this.selectedMonth,this.preselectedFields.year=this.selectedYear,this.preselectedFields.type="scheme",this.createForm(),this.getDistributors(),this.getProduct(),this.getBatch(),this.delay(1e3).then(function(t){e.isDistributors()}),Te.c.getAvailableVideoInputs().then(function(t){e.multipleWebcamsAvailable=t&&t.length>1}),this.delay(3e4).then(function(t){console.log("delay started"),e.tempInterval=setInterval(function(){return e.onTempSubmit()},1e4)})},e.prototype.getTempData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],this.totalAmount=0,this.apiService.post("/api/getTempClaim",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(t){if(200===t.status)if(t.data.length){console.log("###########",t.data),t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,e.claimForm.controls.def_invoice.setValue(e.records[0].invoice,{onlySelf:!0}),e.claimForm.value.def_invoice=e.records.invoice;var n=0,i=0;e.tempRecords.forEach(function(t){if(console.log("========",t.invoice),0===n){if(e.selectedFields.distributor=t.plant,e.selectedFields.stockiest=t.customerId,e.selectedFields.type=t.claimType,e.selectedFields.month=t.claimMonth,e.selectedFields.year=t.claimYear,e.claimForm.controls.def_invoice.setValue(t.invoice,{onlySelf:!0}),e.claimForm.value.def_invoice=t.invoice,e.claimForm.controls.def_batch.setValue(t.batch,{onlySelf:!0}),e.claimForm.value.def_batch=t.batch,e.claimForm.controls.def_division.setValue(t.divisionName,{onlySelf:!0}),e.claimForm.value.def_division=t.divisionName,e.claimForm.controls.def_divisionId.setValue(t.divisionId,{onlySelf:!0}),e.claimForm.value.def_divisionId=t.divisdivisionIdionName,e.claimForm.controls.def_plantId.setValue(t.plant,{onlySelf:!0}),e.claimForm.value.def_plantId=t.plant,e.claimForm.controls.def_product.setValue(t.materialName,{onlySelf:!0}),e.claimForm.value.def_product=t.materialName,e.claimForm.controls.def_productId.setValue(t.material,{onlySelf:!0}),e.claimForm.value.def_productId=t.material,e.claimForm.controls.def_particulars.setValue(t.particulars,{onlySelf:!0}),e.claimForm.value.def_particulars=t.particulars,e.claimForm.controls.def_mrp.setValue(t.mrp,{onlySelf:!0}),e.claimForm.value.def_mrp=t.mrp,e.claimForm.controls.def_pts.setValue(t.pts,{onlySelf:!0}),e.claimForm.value.def_pts=t.pts,e.claimForm.controls.def_billingRate.setValue(t.billingRate,{onlySelf:!0}),e.claimForm.value.def_billingRate=t.billingRate,e.claimForm.controls.def_margin.setValue(t.margin,{onlySelf:!0}),e.claimForm.value.def_margin=t.margin,e.claimForm.controls.def_freeQuantity.setValue(t.freeQuantity,{onlySelf:!0}),e.claimForm.value.def_freeQuantity=t.freeQuantity,e.claimForm.controls.def_saleQuantity.setValue(t.saleQuantity,{onlySelf:!0}),e.claimForm.value.def_saleQuantity=t.saleQuantity,e.claimForm.controls.def_difference.setValue(t.difference,{onlySelf:!0}),e.claimForm.value.def_difference=t.difference,e.claimForm.controls.def_totalDifference.setValue(t.totalDifference,{onlySelf:!0}),e.claimForm.value.def_totalDifference=t.totalDifference,e.claimForm.controls.def_amount.setValue(t.amount,{onlySelf:!0}),e.claimForm.value.def_amount=t.amount,t.files.length){var a=[];t.files.forEach(function(e){a.push({filename:e.filename,originalname:e.originalFilename})}),e.fileNames[-1]=a}}else{if(e.claims().push(e.fb.group({invoice:t.invoice,batch:t.batch,division:t.divisionName,divisionId:t.divisionId,plantId:t.plant,product:t.materialName,productId:t.material,particulars:t.particulars,mrp:t.mrp,pts:t.pts,billingRate:t.billingRate,margin:t.margin,freeQuantity:t.freeQuantity,saleQuantity:t.saleQuantity,difference:t.difference,totalDifference:t.totalDifference,amount:t.amount,image:""})),t.files.length){var r=[];t.files.forEach(function(e){r.push({filename:e.filename,originalname:e.originalFilename})}),e.fileNames[i]=r}i++}n++,e.totalAmount=e.totalAmount+t.amount}),e.loading=!1,e.showData=!0}else e.loading=e.showData=!1;else e.toast("error",t.message)})},e.prototype.triggerSnapshot=function(){var e=this;this.trigger.next();var t="def"===this.selectedwebcamrow?-1:this.selectedwebcamrow,n={};n.camimg=this.webcamImage.imageAsBase64,this.apiService.upload("/api/UploadClaimInvoicesWebcam",n).subscribe(function(n){200===n.status?n.data.length&&(e.fileNames[t]?n.data.forEach(function(n){e.fileNames[t].push(n)}):e.fileNames[t]=n.data):e.toast("error",n.message)})},e.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},e.prototype.handleInitError=function(e){this.errors.push(e)},e.prototype.showNextWebcam=function(e){this.nextWebcam.next(e)},e.prototype.handleImage=function(e){console.info("received webcam image",e),this.webcamImage=e},e.prototype.cameraWasSwitched=function(e){console.log("active device: "+e),this.deviceId=e},Object.defineProperty(e.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!1,configurable:!0}),e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_divisionId:"",def_plantId:"",def_product:"",def_productId:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:$("#division_def").val(),divisionId:$("#division_id_def").val(),plantId:$("#plant_id_def").val(),product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",divisionId:"",plantId:"",product:"",productId:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.isDistributors=function(){var e=this;console.log("sessionData.............",this.sessionData.type),this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),e.preselectedFields.distributor=e.selectedFields.distributor,$("#distributor_loader").hide(),$("#distributor").show(),e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.prestockiest=e.selectedFields.stockiest,e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getDivisions(),e.delay(1e3).then(function(t){e.getTempData()})}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),e.preselectedFields.distributor=e.selectedFields.distributor,$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest())})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),e.preselectedFields.distributor=e.selectedFields.distributor,$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest())})},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.searchDivision=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#division_id_"+a).val(""),$("#plant_id_"+a).val(""),$("#product_"+a).val(""),$("#product_id_"+a).val(""),$("#product_id_temp_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#division_loader_"+a).show(),n=this.matchDivision(r,t),this.delay(10).then(function(e){i.divisionSuggestions(n,r,t)})):$("#division_suggestion_"+a).hide()},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n,i=-1===t?"def":t,a=document.querySelector("#division_suggestion_"+i+" ul");$("#division_"+i).val(e.target.innerText),(n=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",n),$("#division_id_"+i).val(""),$("#plant_id_"+i).val("")):($("#division_id_"+i).val(n[0].division),$("#plant_id_"+i).val(n[0].plant)),a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide()},e.prototype.searchProduct=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#product_id_"+a).val(""),$("#product_id_temp_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#product_loader_"+a).show(),n=this.matchProduct(r,t),this.delay(10).then(function(e){i.productSuggestions(n,r,t)})):$("#product_suggestion_"+a).hide()},e.prototype.matchProduct=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=($("#plant_id_"+n).val(),$("#division_id_"+n).val());return this.uniqueProducts.filter(function(e){return e.materialName.toLowerCase().indexOf(i)>-1&&e.division===Number(a)})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=[],i=-1===t?"def":t;n=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var a="";n.length>1?n.forEach(function(e,t){a+=t+1==n.length?e.material:e.material+","}):a=n[0].material;var r=document.querySelector("#product_suggestion_"+i+" ul");r.innerHTML="",r.classList.remove("has-suggestions"),$("#product_"+i).val(e.target.innerText),$("#product_id_temp_"+i).val(a),$("#product_suggestion_"+i).hide()},e.prototype.searchBatch=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#batch_loader_"+a).show(),n=this.matchBatch(r,t),this.delay(10).then(function(e){i.batchSuggestions(n,r,t)})):$("#batch_suggestion_"+a).hide()},e.prototype.matchBatch=function(e,t){var n=this,i=-1===t?"def":t,a=e.toLowerCase(),r=$("#division_id_"+i).val(),o=$("#product_id_temp_"+i).val(),l=($("#plant_id_"+i).val(),o.split(",")),s=[];return l.forEach(function(e){var t;(t=n.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(r)&&t.batch.toLowerCase().indexOf(a)>-1})).length&&s.push(t)}),s},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){e.forEach(function(e){var n=e.batch.match(new RegExp("^"+t,"i"));n&&(a.innerHTML+="<li>"+n.input+"</li>")})}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].material:"";$("#product_id_"+n).val(d),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if(a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}var m=$(".count").last().val();null==m&&(m=-1);for(var p=0,u=-1;u<=m;u++)s=$("#amount_"+(-1===u?"def":u)).val(),p+=parseFloat(s);this.totalAmount=p.toFixed(2)},e.prototype.validateMonth=function(e,t){$("#err_month").hide(),this.selectedFields.month>this.currentMonth&&this.selectedFields.year>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show(),this.clearTempClaim(e,t)},e.prototype.getStockiest=function(){var e=this,t=[],n=this.selectedFields.distributor,i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type&&t.push(Number(i)),this.getDivisions(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n.toString())||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.delay(5).then(function(t){e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),e.preselectedFields.stockiest=e.selectedFields.stockiest,$("#stockiest_loader").hide(),$("#stockiest").show(),e.getTempData()}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[],this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getProduct=function(){var e=this;this.uniqueProducts=[],this.apiService.fetch("/api/product/all").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){e.products=t.data;var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.materialName)||(a.set(l.materialName,!0),e.uniqueProducts.push({division:l.division,material:l.material,materialName:l.materialName}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),this.selectedFields.stockiest||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid"),this.selectedFields.month>this.currentMonth&&this.selectedFields.year>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var i=this.selectedFields.distributor,a=this.selectedFields.stockiest,r=this.selectedFields.type,o=this.selectedFields.month,l=this.selectedFields.year,s=function(e){var n,s=/^\d*\.?\d*$/,c=-1===e?"def":e;n=i+".::."+a+".::."+r+".::."+o+".::."+l+".::."+d.sessionData.id+".::."+d.sessionData.type;var m=$("#invoice_"+c).val(),p=$("#batch_"+c).val(),u=$("#division_"+c).val(),f=$("#division_id_"+c).val(),h=$("#product_"+c).val(),v=$("#product_id_"+c).val(),g=$("#mrp_"+c).val(),b=$("#pts_"+c).val(),x=$("#ptr_"+c).val(),y=$("#ptd_"+c).val(),S=$("#billingRate_"+c).val(),_=($("#margin_"+c).val(),$("#freeQuantity_"+c).val()),E=$("#saleQuantity_"+c).val(),C=$("#difference_"+c).val(),k=$("#totalDifference_"+c).val(),w=$("#amount_"+c).val();if(m||(t=!0,$("#invoice_"+c).addClass("grf-invalid")),u||(t=!0,$("#division_"+c).addClass("grf-invalid")),h||(t=!0,$("#product_"+c).addClass("grf-invalid")),p||(t=!0,$("#batch_"+c).addClass("grf-invalid")),s.test(S)||(t=!0,$("#billingRate_"+c).addClass("grf-invalid")),s.test(_)||(t=!0,$("#freeQuantity_"+c).addClass("grf-invalid")),s.test(E)||(t=!0,$("#saleQuantity_"+c).addClass("grf-invalid")),S||_||E||(t=!0,$("#billingRate_"+c).addClass("grf-invalid"),$("#freeQuantity_"+c).addClass("grf-invalid"),$("#saleQuantity_"+c).addClass("grf-invalid")),S||_||!E||(t=!0,$("#billingRate_"+c).addClass("grf-invalid")),!S||_||E||(t=!0,$("#saleQuantity_"+c).addClass("grf-invalid")),w<=0&&(t=!0,$("#amount_"+c).addClass("grf-invalid")),t)return d.btnLoader=!1,d.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var I="";d.fileNames[-1]&&d.fileNames[-1].length&&d.fileNames[-1].forEach(function(e,t){I=I+e.filename+".::."}),d.claimForm.value.def_image=I,d.claimForm.value.def_invoice=m,d.claimForm.value.def_batch=p,d.claimForm.value.def_division=u,d.claimForm.value.def_divisionId=f,d.claimForm.value.def_product=h,d.claimForm.value.def_productId=v,d.claimForm.value.def_mrp=g,d.claimForm.value.def_pts=b,d.claimForm.value.def_ptr=x,d.claimForm.value.def_ptd=y,d.claimForm.value.def_billingRate=S,d.claimForm.value.def_freeQuantity=_,d.claimForm.value.def_saleQuantity=E,d.claimForm.value.def_difference=C,d.claimForm.value.def_totalDifference=k,d.claimForm.value.def_amount=w,d.claimForm.value.header=n}else{var F="";d.fileNames[e]&&d.fileNames[e].length&&d.fileNames[e].forEach(function(e,t){F=F+e.filename+".::."}),d.claimForm.value.claims[e].image=F,d.claimForm.value.claims[e].invoice=m,d.claimForm.value.claims[e].batch=p,d.claimForm.value.claims[e].division=u,d.claimForm.value.claims[e].divisionId=f,d.claimForm.value.claims[e].product=h,d.claimForm.value.claims[e].productId=v,d.claimForm.value.claims[e].mrp=g,d.claimForm.value.claims[e].pts=b,d.claimForm.value.claims[e].ptr=x,d.claimForm.value.claims[e].ptd=y,d.claimForm.value.claims[e].billingRate=S,d.claimForm.value.claims[e].freeQuantity=_,d.claimForm.value.claims[e].saleQuantity=E,d.claimForm.value.claims[e].difference=C,d.claimForm.value.claims[e].totalDifference=k,d.claimForm.value.claims[e].amount=w,d.claimForm.value.claims[e].header=n}},d=this,c=-1;c<=n;c++){var m=s(c);if("object"==typeof m)return m.value}this.apiService.post("/api/claim/create",this.claimForm.value).subscribe(function(t){clearInterval(e.tempInterval),200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},3e3))})},e.prototype.onTempSubmit=function(){var e=$(".count").last().val();null==e&&(e=-1);for(var t=this.selectedFields.distributor,n=this.selectedFields.stockiest,i=this.selectedFields.type,a=this.selectedFields.month,r=this.selectedFields.year,o=function(e){var o=-1===e?"def":e,s=t+".::."+n+".::."+i+".::."+a+".::."+r+".::."+l.sessionData.id+".::."+l.sessionData.type,d=$("#invoice_"+o).val(),c=$("#batch_"+o).val(),m=$("#division_"+o).val(),p=$("#division_id_"+o).val(),u=$("#product_"+o).val(),f=$("#product_id_"+o).val(),h=$("#mrp_"+o).val(),v=$("#pts_"+o).val(),g=$("#ptr_"+o).val(),b=$("#ptd_"+o).val(),x=$("#billingRate_"+o).val(),y=($("#margin_"+o).val(),$("#freeQuantity_"+o).val()),S=$("#saleQuantity_"+o).val(),_=$("#difference_"+o).val(),E=$("#totalDifference_"+o).val(),C=$("#amount_"+o).val();if(-1===e){var k="";l.fileNames[-1]&&l.fileNames[-1].length&&l.fileNames[-1].forEach(function(e,t){k=k+e.filename+".::."}),l.claimForm.value.def_image=k,l.claimForm.value.def_invoice=d,l.claimForm.value.def_batch=c,l.claimForm.value.def_division=m,l.claimForm.value.def_divisionId=p,l.claimForm.value.def_product=u,l.claimForm.value.def_productId=f,l.claimForm.value.def_mrp=h,l.claimForm.value.def_pts=v,l.claimForm.value.def_ptr=g,l.claimForm.value.def_ptd=b,l.claimForm.value.def_billingRate=x,l.claimForm.value.def_freeQuantity=y,l.claimForm.value.def_saleQuantity=S,l.claimForm.value.def_difference=_,l.claimForm.value.def_totalDifference=E,l.claimForm.value.def_amount=C,l.claimForm.value.header=s}else{var w="";l.fileNames[e]&&l.fileNames[e].length&&l.fileNames[e].forEach(function(e,t){w=w+e.filename+".::."}),l.claimForm.value.claims[e].image=w,l.claimForm.value.claims[e].invoice=d,l.claimForm.value.claims[e].batch=c,l.claimForm.value.claims[e].division=m,l.claimForm.value.claims[e].divisionId=p,l.claimForm.value.claims[e].product=u,l.claimForm.value.claims[e].productId=f,l.claimForm.value.claims[e].mrp=h,l.claimForm.value.claims[e].pts=v,l.claimForm.value.claims[e].ptr=g,l.claimForm.value.claims[e].ptd=b,l.claimForm.value.claims[e].billingRate=x,l.claimForm.value.claims[e].freeQuantity=y,l.claimForm.value.claims[e].saleQuantity=S,l.claimForm.value.claims[e].difference=_,l.claimForm.value.claims[e].totalDifference=E,l.claimForm.value.claims[e].amount=C,l.claimForm.value.claims[e].header=s}},l=this,s=-1;s<=e;s++)o(s);this.apiService.post("/api/claim/createTempClaim",this.claimForm.value).subscribe(function(e){})},e.prototype.changeType=function(e,t){"special"===e?($(".claim-frm").hide(),$(".special-frm").show()):($(".claim-frm").show(),$(".special-frm").hide()),this.clearTempClaim(e,t)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.prototype.openWebcam=function(e,t,n){var i=this,a=-1===t?"def":t;this.showWebcam=!0,this.selectedwebcamrow=a,this.modalService.open(n,{size:"lg"}).result.then(function(e){i.closeResult="Closed with: "+e,i.showWebcam=!1,i.webcamImage=null},function(e){i.closeResult="Dismissed "+i.getDismissReason(e),i.showWebcam=!1,i.webcamImage=null})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.clearTempClaim=function(e,t){this.predistributor=this.preselectedFields.distributor,this.prestockiest=this.preselectedFields.stockiest,this.preclaimType=this.preselectedFields.type,this.preclaimMonth=this.preselectedFields.month,this.preclaimYear=this.preselectedFields.year,"stockiest"==t&&(this.prestockiest=this.preselectedFields.stockiest,this.preselectedFields.stockiest=e),"type"==t&&(this.preclaimType=this.preselectedFields.type,this.preselectedFields.type=e),"month"==t&&(this.preclaimMonth=this.preselectedFields.month,this.preselectedFields.month=e),"year"==t&&(this.preclaimYear=this.preselectedFields.year,this.preselectedFields.year=e),this.apiService.post("/api/claim/clearTempClaim",{distributors:this.predistributor,stockiest:this.prestockiest,claimType:this.preclaimType,month:this.preclaimMonth,year:this.preclaimYear,uid:this.sessionData.id}).subscribe(function(e){})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X),a["\u0275\u0275directiveInject"](Ne.b),a["\u0275\u0275directiveInject"](y.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-claim"]],decls:182,vars:46,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],["class","td-head",4,"ngIf"],[2,"position","relative"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_division","id","division_def",1,"form-control","grf-def","dpdown",3,"tabIndex","keyup"],["id","division_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","division_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_divisionId","id","division_id_def",1,"form-control"],["type","hidden","formControlName","def_plantId","id","plant_id_def",1,"form-control"],["type","text","formControlName","def_product","id","product_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","product_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","product_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_productId","id","product_id_def",1,"form-control"],["type","hidden","id","product_id_temp_def",1,"form-control"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["class","tdpd1",4,"ngIf"],["type","hidden","class","form-control tc","formControlName","def_totalDifference","id","totalDifference_def","readonly","",4,"ngIf"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc","grf-def"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],[1,"pe-7s-cloud-upload",3,"tabIndex","click"],[1,"vsm-icon","pe-7s-camera",3,"tabIndex","click"],[4,"ngIf"],[1,"tdpd1",2,"text-align","center"],["title","Add to this invoice",3,"tabIndex","click","keyup.enter"],[1,"vsm-icon","pe-7s-copy-file"],["formArrayName","claims",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],[2,"height","108px"],[1,"col-md-4"],["webcammodal",""],[1,"col-md-6",2,"font-weight","600"],[1,"col-md-6","tar"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],["type","button","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",3,"click",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[1,"row","special-frm",2,"display","none"],[1,"row",2,"margin","3px 0 3px 0"],[1,"col-md-4",2,"text-align","right"],[1,"form-label","fb",2,"margin-top","6px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange"],["type","text","id","special_amount",1,"form-control"],[1,"form-control"],["type","button","class","btn btn-success","style","padding: 6px 30px;",4,"ngIf"],[3,"value"],[2,"color","orange","font-size","12px"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","hidden","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],[3,"formGroupName"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","division",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","hidden","formControlName","divisionId",1,"form-control",3,"id"],["type","hidden","formControlName","plantId",1,"form-control",3,"id"],["type","text","formControlName","product",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","hidden","formControlName","productId",1,"form-control",3,"id"],["type","hidden",1,"form-control",3,"id"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["class","tdpd",4,"ngIf"],["type","hidden","class","form-control tc","formControlName","totalDifference","readonly","",3,"id",4,"ngIf"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Delete this row",2,"color","red"],[1,"vsm-icon","pe-7s-trash",3,"click"],["type","hidden",1,"count",3,"value"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","hidden","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","content",1,"modal-body"],[1,"col-md-6"],["id","left"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],["id","right"],["class","snapshot",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError"],[1,"snapshot"],[3,"src"],["type","button",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"],["type","button",1,"btn","btn-success",2,"padding","6px 30px"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"ng-select",10),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(){return t.getStockiest()}),a["\u0275\u0275template"](16,je,3,5,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275element"](19,"img",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",8),a["\u0275\u0275elementStart"](21,"label",15),a["\u0275\u0275text"](22," Stockist "),a["\u0275\u0275template"](23,Qe,3,2,"span",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"ng-select",17),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e})("change",function(e){return t.clearTempClaim(e,"stockiest")}),a["\u0275\u0275template"](25,Ue,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementStart"](27,"div",19),a["\u0275\u0275element"](28,"img",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",8),a["\u0275\u0275elementStart"](30,"label",20),a["\u0275\u0275text"](31,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"ng-select",21),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e})("change",function(e){return t.changeType(e,"type")}),a["\u0275\u0275template"](33,Le,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](34,"span",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"div",8),a["\u0275\u0275elementStart"](36,"label",23),a["\u0275\u0275text"](37,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"ng-select",24),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(e){return t.validateMonth(e,"month")}),a["\u0275\u0275template"](39,Ye,2,2,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"label",26),a["\u0275\u0275text"](43,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"ng-select",27),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(e){return t.validateMonth(e,"year")}),a["\u0275\u0275template"](45,Ve,2,2,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](46,"span",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"div",7),a["\u0275\u0275elementStart"](48,"div",29),a["\u0275\u0275element"](49,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",30),a["\u0275\u0275elementStart"](51,"form",31),a["\u0275\u0275elementStart"](52,"div",7),a["\u0275\u0275elementStart"](53,"div",32),a["\u0275\u0275elementStart"](54,"div",33),a["\u0275\u0275elementStart"](55,"table",34),a["\u0275\u0275elementStart"](56,"tr"),a["\u0275\u0275elementStart"](57,"td",35),a["\u0275\u0275elementStart"](58,"label",36),a["\u0275\u0275text"](59,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"td",37),a["\u0275\u0275text"](61,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",37),a["\u0275\u0275elementStart"](63,"label",36),a["\u0275\u0275text"](64,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](65,"td",35),a["\u0275\u0275elementStart"](66,"label",36),a["\u0275\u0275text"](67,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",37),a["\u0275\u0275text"](69,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"td",37),a["\u0275\u0275text"](71,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"td",35),a["\u0275\u0275elementStart"](73,"label",36),a["\u0275\u0275text"](74,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](75,"td",35),a["\u0275\u0275elementStart"](76,"label",36),a["\u0275\u0275text"](77,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"td",35),a["\u0275\u0275elementStart"](79,"label",36),a["\u0275\u0275text"](80,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](81,"td",37),a["\u0275\u0275text"](82,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](83,qe,2,0,"td",38),a["\u0275\u0275elementStart"](84,"td",37),a["\u0275\u0275text"](85,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",37),a["\u0275\u0275text"](87,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",37),a["\u0275\u0275text"](89,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",37),a["\u0275\u0275text"](91,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"tr",39),a["\u0275\u0275elementStart"](93,"td",40),a["\u0275\u0275element"](94,"input",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](95,"td",40),a["\u0275\u0275elementStart"](96,"input",42),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](97,"img",43),a["\u0275\u0275elementStart"](98,"div",44),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e,-1)}),a["\u0275\u0275element"](99,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](100,"input",45),a["\u0275\u0275element"](101,"input",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",40),a["\u0275\u0275elementStart"](103,"input",47),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](104,"img",48),a["\u0275\u0275elementStart"](105,"div",49),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e,-1)}),a["\u0275\u0275element"](106,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](107,"input",50),a["\u0275\u0275element"](108,"input",51),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"td",40),a["\u0275\u0275elementStart"](110,"input",52),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](111,"img",53),a["\u0275\u0275elementStart"](112,"div",54),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](113,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](114,"td",40),a["\u0275\u0275element"](115,"input",55),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](116,"td",40),a["\u0275\u0275element"](117,"input",56),a["\u0275\u0275element"](118,"input",57),a["\u0275\u0275element"](119,"input",58),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](120,"td",40),a["\u0275\u0275elementStart"](121,"input",59),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](122,"td",40),a["\u0275\u0275elementStart"](123,"input",60),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](124,"td",40),a["\u0275\u0275elementStart"](125,"input",61),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](126,"td",40),a["\u0275\u0275element"](127,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](128,ze,2,0,"td",63),a["\u0275\u0275template"](129,He,1,0,"input",64),a["\u0275\u0275elementStart"](130,"td",40),a["\u0275\u0275element"](131,"input",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](132,"td",66),a["\u0275\u0275elementStart"](133,"input",67,68),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](135,"i",69),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](134).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](136,"i",70),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=a["\u0275\u0275reference"](149);return t.openWebcam(e,-1,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](137,"td",66),a["\u0275\u0275template"](138,We,2,1,"div",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](139,"td",72),a["\u0275\u0275elementStart"](140,"span",73),a["\u0275\u0275listener"]("click",function(){return t.addSameInvoice(-1)})("keyup.enter",function(){return t.addSameInvoice(-1)}),a["\u0275\u0275element"](141,"i",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"div",75),a["\u0275\u0275template"](143,et,54,39,"tr",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"div",77),a["\u0275\u0275text"](145,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](146,"div",78),a["\u0275\u0275elementStart"](147,"div",6),a["\u0275\u0275template"](148,it,17,2,"ng-template",null,79,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](150,"div",7),a["\u0275\u0275elementStart"](151,"div",80),a["\u0275\u0275text"](152),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](153,"div",81),a["\u0275\u0275elementStart"](154,"button",82),a["\u0275\u0275listener"]("click",function(){return t.addNewInvoice()}),a["\u0275\u0275text"](155," Add New Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](156,at,2,0,"button",83),a["\u0275\u0275template"](157,rt,5,0,"button",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](158,"div",85),a["\u0275\u0275elementStart"](159,"div",86),a["\u0275\u0275elementStart"](160,"div",87),a["\u0275\u0275elementStart"](161,"label",88),a["\u0275\u0275text"](162,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](163,"div",78),a["\u0275\u0275elementStart"](164,"ng-select",89),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e}),a["\u0275\u0275template"](165,ot,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](166,"div",86),a["\u0275\u0275elementStart"](167,"div",87),a["\u0275\u0275elementStart"](168,"label",88),a["\u0275\u0275text"](169,"Value / Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](170,"div",78),a["\u0275\u0275element"](171,"input",90),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](172,"div",86),a["\u0275\u0275elementStart"](173,"div",87),a["\u0275\u0275elementStart"](174,"label",88),a["\u0275\u0275text"](175,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](176,"div",78),a["\u0275\u0275element"](177,"textarea",91),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](178,"div",86),a["\u0275\u0275element"](179,"div",78),a["\u0275\u0275elementStart"](180,"div",78),a["\u0275\u0275template"](181,lt,2,0,"button",92),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](32),a["\u0275\u0275property"]("ngIf","stockist"!=t.sessionData.type),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","stockist"!=t.sessionData.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","stockist"==t.sessionData.type),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](9),a["\u0275\u0275textInterpolate1"](" Total Amount: ",t.totalAmount," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](16),a["\u0275\u0275property"]("ngIf",!t.btnLoader))},directives:[Ne.a,o.m,o.p,b.m,b.n,o.w,o.n,o.g,o.b,o.e,o.c,Ne.d,y.l,o.h,Te.a],pipes:[b.v],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important;text-align:center}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:108px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul.has-suggestions[_ngcontent-kdu-c142][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:red}.div#division_suggestion_def[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:red}#content[_ngcontent-%COMP%]{background-color:hsla(0,0%,82%,.5);padding:.5rem;display:flex}.snapshot[_ngcontent-%COMP%]{text-align:center;img{max-width:99%}}']}),e}();function dt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",75),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function ct(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",75),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function mt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",75),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function pt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",75),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ut(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",75),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ft(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",77),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",n.originalname)}}function ht(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,ft,2,1,"span",76),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.fileNames[-1])}}function vt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"webcam",90),a["\u0275\u0275listener"]("imageCapture",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleImage(e)})("cameraSwitched",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).cameraWasSwitched(e)})("initError",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleInitError(e)}),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("height",376)("width",376)("trigger",i.triggerObservable)("allowCameraSwitch",i.allowCameraSwitch)("switchCamera",i.nextWebcamObservable)("videoOptions",i.videoOptions)("imageQuality",1)}}function gt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",91),a["\u0275\u0275element"](1,"img",92),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("src",n.webcamImage.imageAsDataUrl,a["\u0275\u0275sanitizeUrl"])}}function bt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",78),a["\u0275\u0275elementStart"](1,"h4",79),a["\u0275\u0275text"](2,"Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",80),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",81),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",82),a["\u0275\u0275elementStart"](7,"div",83),a["\u0275\u0275template"](8,vt,1,7,"webcam",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",82),a["\u0275\u0275elementStart"](10,"div",85),a["\u0275\u0275template"](11,gt,2,1,"div",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",87),a["\u0275\u0275elementStart"](13,"button",88),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](14,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"button",89),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().triggerSnapshot()}),a["\u0275\u0275text"](16,"Take A Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",i.showWebcam),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.webcamImage)}}function xt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",93),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function yt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",94),a["\u0275\u0275elementStart"](1,"span",95),a["\u0275\u0275element"](2,"img",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",97),a["\u0275\u0275text"](4,"Save as Draft"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}var St=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.modalService=a,this.showWebcam=!1,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.trigger=new Pe.a,this.nextWebcam=new Pe.a,this.faStar=x.d,this.faPlus=x.c,this.heading="Edit / Update Claim",this.subheading="Update a claim and save it to draft page.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.newFiles=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.loggedUserId="",this.alignedStockiest=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.selectedClaim=this.activatedRoute.snapshot.paramMap.get("claimId")}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=t,this.loggedUserId=JSON.parse(t).id;var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.createForm(),this.getDistributors(),this.getProduct(),this.getBatch(),"ho"===JSON.parse(t).type||"field"===JSON.parse(t).type?this.getUserDistStockistDivision(this.loggedUserId):"stockist"===JSON.parse(t).type&&this.getStockistDistDivision(this.loggedUserId),this.delay(1e3).then(function(t){e.getData()}),Te.c.getAvailableVideoInputs().then(function(t){e.multipleWebcamsAvailable=t&&t.length>1})},e.prototype.triggerSnapshot=function(){var e=this;this.trigger.next();var t="def"===this.selectedwebcamrow?-1:this.selectedwebcamrow,n={};n.camimg=this.webcamImage.imageAsBase64,this.apiService.upload("/api/UploadClaimInvoicesWebcam",n).subscribe(function(n){200===n.status?n.data.length&&(e.fileNames[t]?n.data.forEach(function(n){e.fileNames[t].push(n)}):e.fileNames[t]=n.data,e.newFiles.push(n.data)):e.toast("error",n.message)}),console.log("=========",this.fileNames)},e.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},e.prototype.handleInitError=function(e){this.errors.push(e)},e.prototype.showNextWebcam=function(e){this.nextWebcam.next(e)},e.prototype.handleImage=function(e){console.info("received webcam image",e),this.webcamImage=e},e.prototype.cameraWasSwitched=function(e){console.log("active device: "+e),this.deviceId=e},Object.defineProperty(e.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!1,configurable:!0}),e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({def_invoice:"",def_batch:"",def_division:"",def_divisionId:"",def_plantId:"",def_product:"",def_productId:"",def_particulars:"",def_mrp:this.defaultValue.mrp,def_pts:this.defaultValue.pts,def_billingRate:"",def_margin:this.defaultValue.margin,def_freeQuantity:"",def_saleQuantity:"",def_difference:this.defaultValue.difference,def_totalDifference:this.defaultValue.totalDifference,def_amount:this.defaultValue.amount,def_image:"",claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",particulars:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?(console.log("resp--",e.data),e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data,n.newFiles.push(e.data))):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchDivision=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#division_id_"+a).val(""),$("#plant_id_"+a).val(""),$("#product_"+a).val(""),$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#division_loader_"+a).show(),n=this.matchDivision(r,t),this.delay(10).then(function(e){i.divisionSuggestions(n,r,t)})):$("#division_suggestion_"+a).hide()},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n,i=-1===t?"def":t,a=document.querySelector("#division_suggestion_"+i+" ul");$("#division_"+i).val(e.target.innerText),(n=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",n),$("#division_id_"+i).val(""),$("#plant_id_"+i).val("")):($("#division_id_"+i).val(n[0].division),$("#plant_id_"+i).val(n[0].plant)),a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide()},e.prototype.searchProduct=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#product_id_"+a).val(""),$("#batch_"+a).val(""),$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#product_loader_"+a).show(),n=this.matchProduct(r,t),console.log("results---",n),this.delay(10).then(function(e){i.productSuggestions(n,r,t)})):$("#product_suggestion_"+a).hide()},e.prototype.matchProduct=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=($("#plant_id_"+n).val(),$("#division_id_"+n).val());return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(i)>-1&&e.division===Number(a)})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n,i=-1===t?"def":t;if((n=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()})).length>1)console.log("...More then one product...",n),$("#product_"+i).val(""),$("#product_id_"+i).val("");else{var a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_"+i).val(e.target.innerText),$("#product_id_"+i).val(n[0].material)}$("#product_suggestion_"+i).hide()},e.prototype.searchBatch=function(e,t){var n,i=this,a=-1===t?"def":t,r=e.currentTarget.value;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2)),$("#billingRate_"+a).val(""),this.changeCalculation(e,t),r.length?($("#batch_loader_"+a).show(),n=this.matchBatch(r,t),this.delay(10).then(function(e){i.batchSuggestions(n,r,t)})):$("#batch_suggestion_"+a).hide()},e.prototype.matchBatch=function(e,t){var n=-1===t?"def":t,i=e.toLowerCase(),a=$("#division_id_"+n).val(),r=$("#product_id_"+n).val();return $("#plant_id_"+n).val(),this.batches.filter(function(e){return e.material===Number(r)&&e.division===Number(a)&&e.batch.toLowerCase().indexOf(i)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].divisionName:"",c=a.length?a[0].materialName:"";$("#division_"+n).val(d),$("#product_"+n).val(c),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.changeCalculation=function(e,t){var n=-1===t?"def":t;$("#freeQuantity_"+n).attr("readonly",!1),$("#billingRate_"+n).removeClass("grf-invalid"),$("#freeQuantity_"+n).removeClass("grf-invalid"),$("#saleQuantity_"+n).removeClass("grf-invalid");var i=$("#billingRate_"+n).val(),a=$("#freeQuantity_"+n).val(),r=$("#saleQuantity_"+n).val(),o=/^\d*\.?\d*$/;if(o.test(i)||$("#billingRate_"+n).addClass("grf-invalid"),o.test(a)||$("#freeQuantity_"+n).addClass("grf-invalid"),o.test(r)||$("#saleQuantity_"+n).addClass("grf-invalid"),0==i)if($("#margin_"+n).val(0),a){var l=(c=(d=$("#pts_"+n).val())-i)+10*i/100,s=d*a;$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}else $("#difference_"+n).val(Number(0).toFixed(2)),$("#totalDifference_"+n).val(Number(0).toFixed(2)),$("#amount_"+n).val(Number(0).toFixed(2));else if($("#margin_"+n).val(10),$("#freeQuantity_"+n).val(""),$("#freeQuantity_"+n).attr("readonly",!0),i&&r){var d,c;s=(l=(c=(d=$("#pts_"+n).val())-i)+10*i/100)*r,$("#difference_"+n).val(c.toFixed(2)),$("#totalDifference_"+n).val(l.toFixed(2)),$("#amount_"+n).val(s.toFixed(2))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(e){var t=this;this.apiService.get("/api/user/getDistStockistDivision",e).subscribe(function(e){200===e.status&&e.data&&e.data.forEach(function(e){var n=t.distributors.filter(function(t){return e.plant===t.plant});t.userDistributors.push(n[0]),t.userPlantStockists[e.plant]=e.stockists,t.userPlantDivisions[e.plant]=e.divisions})})},e.prototype.getStockistDistDivision=function(e){var t=this;this.apiService.get("/api/user/getStockistDistDivision",e).subscribe(function(e){200===e.status&&e.data&&e.data.forEach(function(e){var n=t.distributors.filter(function(t){return e.plant===t.plant});t.userDistributors.push(n[0]),t.userPlantStockists[e.plant]=e.customerId,t.userPlantDivisions[e.plant]=e.divisions})})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val(),i=this.userPlantStockists[n];"ho"===JSON.parse(this.sessionData).type||"field"===JSON.parse(this.sessionData).type?i.forEach(function(e){t.push(Number(e))}):"stockist"===JSON.parse(this.sessionData).type&&t.push(Number(i)),this.getDivisions(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getStockiest2=function(e,t){var n=this,i=[],a=this.userPlantStockists[e];"ho"===JSON.parse(this.sessionData).type||"field"===JSON.parse(this.sessionData).type?a.forEach(function(e){i.push(Number(e))}):"stockist"===JSON.parse(this.sessionData).type&&i.push(Number(a)),this.apiService.post("/api/getStockiest",i).subscribe(function(e){200===e.status&&e.data.length&&(n.stockiests=e.data,n.delay(5).then(function(e){$("#stockiest").val(t),$("#stockiest_loader").hide(),$("#stockiest").show()}))})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&$("#product_"+t).val(e.data.materialName)})},e.prototype.onSubmit=function(){var e=this;$(".grf-def").removeClass("grf-invalid"),$(".grf-am").removeClass("grf-invalid"),this.btnLoader=!0;var t=!1,n=$(".count").last().val();null==n&&(n=-1),$("#err_stockiest").hide(),$("#stockiest").removeClass("grf-invalid"),$("#stockiest option:selected").val()||(t=!0,$("#stockiest").addClass("grf-invalid"),$("#err_stockiest").text("Stockiest is required..").show()),$("#err_month").hide(),$("#month").removeClass("grf-invalid");var i=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&i>=this.currentYear&&(t=!0,$("#month").addClass("grf-invalid"),$("#err_month").text("You can't claim for this month.").show());for(var a=$("#distributor option:selected").val(),r=$("#stockiest option:selected").val(),o=$("#type option:selected").val(),l=$("#month option:selected").val(),s=$("#year option:selected").val(),d=function(e){var n=/^\d*\.?\d*$/,i=-1===e?"def":e,d=a+".::."+r+".::."+o+".::."+l+".::."+s+".::."+c.loggedUserId,m=$("#invoice_"+i).val(),p=$("#batch_"+i).val(),u=$("#division_"+i).val(),f=$("#division_id_"+i).val(),h=$("#product_"+i).val(),v=$("#product_id_"+i).val(),g=$("#mrp_"+i).val(),b=$("#pts_"+i).val(),x=$("#ptr_"+i).val(),y=$("#ptd_"+i).val(),S=$("#billingRate_"+i).val(),_=$("#freeQuantity_"+i).val(),E=$("#saleQuantity_"+i).val(),C=$("#difference_"+i).val(),k=$("#totalDifference_"+i).val(),w=$("#amount_"+i).val();if(m||(t=!0,$("#invoice_"+i).addClass("grf-invalid")),p||(t=!0,$("#batch_"+i).addClass("grf-invalid")),h||(t=!0,$("#product_"+i).addClass("grf-invalid")),S||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(S)||(t=!0,$("#billingRate_"+i).addClass("grf-invalid")),n.test(_)||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid")),n.test(E)||(t=!0,$("#saleQuantity_"+i).addClass("grf-invalid")),!S||_||E||(t=!0,$("#freeQuantity_"+i).addClass("grf-invalid"),$("#saleQuantity_"+i).addClass("grf-invalid")),w<=0&&(t=!0,$("#amount_"+i).addClass("grf-invalid")),t)return c.btnLoader=!1,c.toast("error","Something went wrong, fix it from the original record or delete the row with the error."),{value:!1};if(-1===e){var I="";c.newFiles&&c.newFiles.length&&c.newFiles.forEach(function(e){e.length&&e.forEach(function(e){I=I+e.filename+".::."})}),c.claimForm.value.def_image=I,c.claimForm.value.def_invoice=m,c.claimForm.value.def_batch=p,c.claimForm.value.def_divisionId=f,c.claimForm.value.def_division=u,c.claimForm.value.def_product=h,c.claimForm.value.def_productId=v,c.claimForm.value.def_mrp=g,c.claimForm.value.def_pts=b,c.claimForm.value.def_ptr=x,c.claimForm.value.def_ptd=y,c.claimForm.value.def_billingRate=S,c.claimForm.value.def_freeQuantity=_,c.claimForm.value.def_saleQuantity=E,c.claimForm.value.def_difference=C,c.claimForm.value.def_totalDifference=k,c.claimForm.value.def_amount=w,c.claimForm.value.header=d,c.claimForm.value.id=c.selectedClaim}else{var F="";c.fileNames[e]&&c.fileNames[e].length&&c.fileNames[e].forEach(function(e,t){F=F+e.filename+".::."}),c.claimForm.value.claims[e].image=F,c.claimForm.value.claims[e].invoice=m,c.claimForm.value.claims[e].batch=p,c.claimForm.value.claims[e].divisionId=f,c.claimForm.value.claims[e].division=u,c.claimForm.value.claims[e].product=h,c.claimForm.value.claims[e].productId=v,c.claimForm.value.claims[e].mrp=g,c.claimForm.value.claims[e].pts=b,c.claimForm.value.claims[e].ptr=x,c.claimForm.value.claims[e].ptd=y,c.claimForm.value.claims[e].billingRate=S,c.claimForm.value.claims[e].freeQuantity=_,c.claimForm.value.claims[e].saleQuantity=E,c.claimForm.value.claims[e].difference=C,c.claimForm.value.claims[e].totalDifference=k,c.claimForm.value.claims[e].amount=w,c.claimForm.value.claims[e].header=d}},c=this,m=-1;m<=n;m++){var p=d(m);if("object"==typeof p)return p.value}this.apiService.post("/api/claim/update",this.claimForm.value).subscribe(function(t){200===t.status&&(e.toast("success","Successfully saved in draft."),setTimeout(function(){window.location.reload()},5e3))})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/getClaim",this.selectedClaim).subscribe(function(t){if(200===t.status)if(t.data.length){if(e.records=t.data[0],$("#distributor").val(e.records.plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getDivisions(),e.getStockiest2(e.records.plant,e.records.customerId),$("#type").val(e.records.claimType),$("#month").val(e.records.claimMonth),$("#year").val(e.records.claimYear),e.claimForm.controls.def_invoice.setValue(e.records.invoice,{onlySelf:!0}),e.claimForm.value.def_invoice=e.records.invoice,e.claimForm.controls.def_batch.setValue(e.records.batch,{onlySelf:!0}),e.claimForm.value.def_batch=e.records.batch,e.claimForm.controls.def_divisionId.setValue(e.records.divisionId,{onlySelf:!0}),e.claimForm.value.def_division=e.records.divisionId,e.claimForm.controls.def_division.setValue(e.records.divisionName,{onlySelf:!0}),e.claimForm.value.def_division=e.records.divisionName,e.claimForm.controls.def_product.setValue(e.records.materialName,{onlySelf:!0}),e.claimForm.value.def_product=e.records.materialName,e.claimForm.controls.def_productId.setValue(e.records.material,{onlySelf:!0}),e.claimForm.value.def_productId=e.records.material,e.claimForm.controls.def_particulars.setValue(e.records.particulars,{onlySelf:!0}),e.claimForm.value.def_particulars=e.records.particulars,e.claimForm.controls.def_mrp.setValue(e.records.mrp,{onlySelf:!0}),e.claimForm.value.def_mrp=e.records.mrp,e.claimForm.controls.def_pts.setValue(e.records.pts,{onlySelf:!0}),e.claimForm.value.def_pts=e.records.pts,e.claimForm.controls.def_billingRate.setValue(e.records.billingRate,{onlySelf:!0}),e.claimForm.value.def_billingRate=e.records.billingRate,e.claimForm.controls.def_freeQuantity.setValue(e.records.freeQuantity,{onlySelf:!0}),e.claimForm.value.def_freeQuantity=e.records.freeQuantity,e.claimForm.controls.def_saleQuantity.setValue(e.records.saleQuantity,{onlySelf:!0}),e.claimForm.value.def_saleQuantity=e.records.saleQuantity,e.claimForm.controls.def_difference.setValue(e.records.difference,{onlySelf:!0}),e.claimForm.value.def_difference=e.records.difference,e.claimForm.controls.def_totalDifference.setValue(e.records.totalDifference,{onlySelf:!0}),e.claimForm.value.def_totalDifference=e.records.totalDifference,e.claimForm.controls.def_amount.setValue(e.records.amount,{onlySelf:!0}),e.claimForm.value.def_amount=e.records.amount,e.records.files.length){var n=[];e.records.files.forEach(function(e){n.push({filename:e.filename,originalname:e.originalFilename})}),e.fileNames[-1]=n}}else e.toast("error",t.message);else e.toast("error",t.message)})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.prototype.openWebcam=function(e,t,n){var i=this,a=-1===t?"def":t;this.showWebcam=!0,this.selectedwebcamrow=a,this.modalService.open(n,{size:"lg"}).result.then(function(e){i.closeResult="Closed with: "+e,i.showWebcam=!1,i.webcamImage=null},function(e){i.closeResult="Dismissed "+i.getDismissReason(e),i.showWebcam=!1,i.webcamImage=null})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X),a["\u0275\u0275directiveInject"](y.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-claim"]],decls:159,vars:24,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head","required"],[1,"form-label","grid-label"],[1,"td-head"],[1,"tdpd1"],["type","text","formControlName","def_invoice","id","invoice_def",1,"form-control","grf-def",3,"tabIndex"],["type","text","formControlName","def_division","id","division_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","division_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","division_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_divisionId","id","division_id_def",1,"form-control"],["type","hidden","formControlName","def_plantId","id","plant_id_def",1,"form-control"],["type","text","formControlName","def_product","id","product_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","product_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","product_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","hidden","formControlName","def_productId","id","product_id_def",1,"form-control"],["type","text","formControlName","def_batch","id","batch_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["id","batch_loader_def","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","batch_suggestion_def",1,"suggestions",2,"display","none",3,"click"],["type","text","formControlName","def_mrp","id","mrp_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_pts","id","pts_def","readonly","",1,"form-control","tc"],["type","hidden","id","ptr_def"],["type","hidden","id","ptd_def"],["type","text","formControlName","def_billingRate","id","billingRate_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_freeQuantity","id","freeQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_saleQuantity","id","saleQuantity_def",1,"form-control","grf-def",3,"tabIndex","keyup"],["type","text","formControlName","def_difference","id","difference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_totalDifference","id","totalDifference_def","readonly","",1,"form-control","tc"],["type","text","formControlName","def_amount","id","amount_def","readonly","",1,"form-control","tc"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],[1,"pe-7s-cloud-upload",3,"tabIndex","click"],[1,"vsm-icon","pe-7s-camera",3,"tabIndex","click"],[4,"ngIf"],[1,"col-md-4"],["webcammodal",""],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","content",1,"modal-body"],[1,"col-md-6"],["id","left"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],["id","right"],["class","snapshot",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError"],[1,"snapshot"],[3,"src"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],["src","./../../assets/images/btn_loader.gif"],[1,"me-1"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(){return t.getStockiest()}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,dt,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",12),a["\u0275\u0275text"](29," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,ct,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275element"](33,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",8),a["\u0275\u0275elementStart"](35,"div",9),a["\u0275\u0275elementStart"](36,"label",21),a["\u0275\u0275text"](37,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"select",22),a["\u0275\u0275elementStart"](39,"option",23),a["\u0275\u0275text"](40," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,mt,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"div",8),a["\u0275\u0275elementStart"](44,"div",9),a["\u0275\u0275elementStart"](45,"label",25),a["\u0275\u0275text"](46,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"select",26),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](48,"option",23),a["\u0275\u0275text"](49," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](50,pt,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",8),a["\u0275\u0275elementStart"](53,"div",9),a["\u0275\u0275elementStart"](54,"label",28),a["\u0275\u0275text"](55,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"select",29),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](57,"option",23),a["\u0275\u0275text"](58," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](59,ut,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](60,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"div",7),a["\u0275\u0275elementStart"](62,"div",31),a["\u0275\u0275element"](63,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"div",32),a["\u0275\u0275elementStart"](65,"form",33),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](66,"div",7),a["\u0275\u0275elementStart"](67,"div",34),a["\u0275\u0275elementStart"](68,"div",35),a["\u0275\u0275elementStart"](69,"table",36),a["\u0275\u0275elementStart"](70,"tr"),a["\u0275\u0275elementStart"](71,"td",37),a["\u0275\u0275elementStart"](72,"label",38),a["\u0275\u0275text"](73,"Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](74,"td",39),a["\u0275\u0275text"](75,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](76,"td",37),a["\u0275\u0275elementStart"](77,"label",38),a["\u0275\u0275text"](78,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"td",37),a["\u0275\u0275elementStart"](80,"label",38),a["\u0275\u0275text"](81,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"td",39),a["\u0275\u0275text"](83,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",39),a["\u0275\u0275text"](85,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",37),a["\u0275\u0275elementStart"](87,"label",38),a["\u0275\u0275text"](88,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](89,"td",37),a["\u0275\u0275elementStart"](90,"label",38),a["\u0275\u0275text"](91,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",37),a["\u0275\u0275elementStart"](93,"label",38),a["\u0275\u0275text"](94,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](95,"td",39),a["\u0275\u0275text"](96,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](97,"td",39),a["\u0275\u0275text"](98,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](99,"td",39),a["\u0275\u0275text"](100,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"td",39),a["\u0275\u0275text"](102,"Image"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](103,"td",39),a["\u0275\u0275text"](104,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](105,"tr"),a["\u0275\u0275elementStart"](106,"td",40),a["\u0275\u0275element"](107,"input",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",40),a["\u0275\u0275elementStart"](109,"input",42),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](110,"img",43),a["\u0275\u0275elementStart"](111,"div",44),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e,-1)}),a["\u0275\u0275element"](112,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](113,"input",45),a["\u0275\u0275element"](114,"input",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"td",40),a["\u0275\u0275elementStart"](116,"input",47),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](117,"img",48),a["\u0275\u0275elementStart"](118,"div",49),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e,-1)}),a["\u0275\u0275element"](119,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](120,"input",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"td",40),a["\u0275\u0275elementStart"](122,"input",51),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](123,"img",52),a["\u0275\u0275elementStart"](124,"div",53),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e,-1)}),a["\u0275\u0275element"](125,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](126,"td",40),a["\u0275\u0275element"](127,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](128,"td",40),a["\u0275\u0275element"](129,"input",55),a["\u0275\u0275element"](130,"input",56),a["\u0275\u0275element"](131,"input",57),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](132,"td",40),a["\u0275\u0275elementStart"](133,"input",58),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](134,"td",40),a["\u0275\u0275elementStart"](135,"input",59),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](136,"td",40),a["\u0275\u0275elementStart"](137,"input",60),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](138,"td",40),a["\u0275\u0275element"](139,"input",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](140,"td",40),a["\u0275\u0275element"](141,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"td",40),a["\u0275\u0275element"](143,"input",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"td",64),a["\u0275\u0275elementStart"](145,"input",65,66),a["\u0275\u0275listener"]("change",function(e){return t.onFileSelected(e,-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](147,"i",67),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](146).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](148,"i",68),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=a["\u0275\u0275reference"](154);return t.openWebcam(e,-1,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](149,"td",64),a["\u0275\u0275template"](150,ht,2,1,"div",69),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](151,"div",70),a["\u0275\u0275elementStart"](152,"div",6),a["\u0275\u0275template"](153,bt,17,2,"ng-template",null,71,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](155,"div",7),a["\u0275\u0275elementStart"](156,"div",72),a["\u0275\u0275template"](157,xt,2,0,"button",73),a["\u0275\u0275template"](158,yt,5,0,"button",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](42),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",8),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("accept",t.requiredFileType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.fileNames[-1]),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.q,o.x,b.m,o.w,o.n,o.g,o.b,o.m,o.e,b.n,y.l,Te.a],pipes:[b.v],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}#content[_ngcontent-%COMP%]{background-color:hsla(0,0%,82%,.5);padding:.5rem;display:flex}.snapshot[_ngcontent-%COMP%]{text-align:center;img{max-width:99%}}']}),e}(),_t=n("IkSl");function Et(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Ct(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function kt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function wt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",43),a["\u0275\u0275template"](1,Ct,2,0,"span",44),a["\u0275\u0275template"](2,kt,2,1,"span",44),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function It(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.organization))}}function $t(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function Ft(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function Dt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function Mt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function Ot(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",45),a["\u0275\u0275element"](1,"img",46),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function Pt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",45),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function Tt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",73),a["\u0275\u0275elementStart"](1,"i",74),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](69);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function Rt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,Tt,2,1,"span",72),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Nt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",59),a["\u0275\u0275elementStart"](1,"td",60),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",60),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",60),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",60),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",61),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",61),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",60),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",60),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",60),a["\u0275\u0275text"](23),a["\u0275\u0275pipe"](24,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",60),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",60),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",60),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",60),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",60),a["\u0275\u0275text"](37),a["\u0275\u0275pipe"](38,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",60),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td"),a["\u0275\u0275template"](43,Rt,2,1,"div",44),a["\u0275\u0275elementStart"](44,"div",62),a["\u0275\u0275text"](45," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",60),a["\u0275\u0275elementStart"](47,"span",63),a["\u0275\u0275elementStart"](48,"i",64),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](67);return r.openWebcam(e,i._id,o)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"span",65),a["\u0275\u0275elementStart"](50,"i",66),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2),r=a["\u0275\u0275reference"](71);return i.uploadwPopup(r,e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"span",67),a["\u0275\u0275elementStart"](52,"a",68),a["\u0275\u0275element"](53,"i",69),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"span",70),a["\u0275\u0275elementStart"](55,"i",71),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).confirmBoxDelete(e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](r+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](5,23,i.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,25,i.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,27,i.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](18,29,i.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](21,32,i.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](24,35,i.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](i.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,38,i.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,41,i.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,44,i.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](38,47,i.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,50,i.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",i.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",i.invoice,""),a["\u0275\u0275advance"](8),a["\u0275\u0275propertyInterpolate1"]("href","stockiest/updateClaim/",i._id,"",a["\u0275\u0275sanitizeUrl"])}}function jt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",47),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",48),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",49),a["\u0275\u0275text"](7,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",50),a["\u0275\u0275text"](9,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",50),a["\u0275\u0275text"](11,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",51),a["\u0275\u0275text"](13,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",52),a["\u0275\u0275text"](15,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",53),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",53),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",54),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",55),a["\u0275\u0275text"](23,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",56),a["\u0275\u0275text"](25,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",56),a["\u0275\u0275text"](27,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",57),a["\u0275\u0275text"](29,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",57),a["\u0275\u0275text"](31,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",54),a["\u0275\u0275text"](33,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"th",54),a["\u0275\u0275text"](35,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"th",54),a["\u0275\u0275text"](37,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"tbody"),a["\u0275\u0275template"](39,Nt,56,53,"tr",58),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](39),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function At(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",81),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).postClaim()}),a["\u0275\u0275text"](1,"Post Claim"),a["\u0275\u0275elementEnd"]()}}function Bt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",82),a["\u0275\u0275elementStart"](1,"span",83),a["\u0275\u0275element"](2,"img",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",84),a["\u0275\u0275text"](4,"Post Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Qt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",75),a["\u0275\u0275elementStart"](1,"div",76),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",77),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",78),a["\u0275\u0275template"](7,At,2,0,"button",79),a["\u0275\u0275template"](8,Bt,5,0,"button",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Total Amount: ",a["\u0275\u0275pipeBind2"](5,4,n.totalAmount,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!n.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.btnLoader)}}function Ut(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"webcam",97),a["\u0275\u0275listener"]("imageCapture",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleImage(e)})("cameraSwitched",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).cameraWasSwitched(e)})("initError",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](2).handleInitError(e)}),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("height",376)("width",376)("trigger",i.triggerObservable)("allowCameraSwitch",i.allowCameraSwitch)("switchCamera",i.nextWebcamObservable)("videoOptions",i.videoOptions)("imageQuality",1)}}function Lt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",98),a["\u0275\u0275element"](1,"img",99),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("src",n.webcamImage.imageAsDataUrl,a["\u0275\u0275sanitizeUrl"])}}function Yt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",85),a["\u0275\u0275elementStart"](1,"h4",86),a["\u0275\u0275text"](2,"Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",87),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",88),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",89),a["\u0275\u0275elementStart"](7,"div",90),a["\u0275\u0275template"](8,Ut,1,7,"webcam",91),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",89),a["\u0275\u0275elementStart"](10,"div",92),a["\u0275\u0275template"](11,Lt,2,1,"div",93),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",94),a["\u0275\u0275elementStart"](13,"button",95),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](14,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"button",96),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().triggerSnapshot()}),a["\u0275\u0275text"](16,"Take A Snapshot"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",i.showWebcam),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.webcamImage)}}function Vt(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",107),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function qt(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",108),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function zt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",85),a["\u0275\u0275elementStart"](1,"h4",86),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",87),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",100),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",101),a["\u0275\u0275template"](7,Vt,1,2,"pdf-viewer",102),a["\u0275\u0275template"](8,qt,1,2,"img",103),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",94),a["\u0275\u0275elementStart"](10,"button",104),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",105),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",106),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Ht(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",85),a["\u0275\u0275elementStart"](1,"h4",86),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",87),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",100),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",109),a["\u0275\u0275elementStart"](7,"input",110,111),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",94),a["\u0275\u0275elementStart"](10,"button",112),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",106),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var Jt=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=Z,this.showWebcam=!1,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.trigger=new Pe.a,this.nextWebcam=new Pe.a,this.faStar=x.d,this.faPlus=x.c,this.heading="Drafts",this.subheading="Temporarily saved claim. The claim can be corrected (if necessary) and finally submitted for acceptance.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - Jan"},{id:2,name:"02 - Feb"},{id:3,name:"03 - Mar"},{id:4,name:"04 - Apr"},{id:5,name:"05 - May"},{id:6,name:"06 - Jun"},{id:7,name:"07 - Jul"},{id:8,name:"08 - Aug"},{id:9,name:"09 - Sep"},{id:10,name:"10 - Oct"},{id:11,name:"11 - Nov"},{id:12,name:"12 - Dec"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.pdfSource="",this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.totalAmount=0,this.urlData=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t);var n=Re().format("YYYY"),i=Re().format("MM");this.urlData={urlYear:this.activatedRoute.snapshot.params.year,urlMonth:this.activatedRoute.snapshot.params.month,urlStockist:this.activatedRoute.snapshot.params.stockist,urlDistributor:this.activatedRoute.snapshot.params.distributor},this.currentMonth=this.urlData.urlMonth?parseInt(this.urlData.urlMonth):parseInt(i),this.currentYear=this.urlData.urlYear?parseInt(this.urlData.urlYear):parseInt(n);for(var a=this.currentYear;a>this.currentYear-3;a--)this.years.push({id:a,name:a});this.currentMonth-1<=0?(this.selectedYear=this.currentYear-1,this.selectedMonth=12):(this.selectedYear=this.currentYear,this.selectedMonth=this.currentMonth),this.selectedFields.month=this.selectedMonth,this.selectedFields.year=this.selectedYear,this.selectedFields.division=0,this.selectedFields.type=0,this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}),Te.c.getAvailableVideoInputs().then(function(t){e.multipleWebcamsAvailable=t&&t.length>1})},e.prototype.triggerSnapshot=function(){var e=this;this.trigger.next();var t=this.selectedwebcamrow,n={};n.camimg=this.webcamImage.imageAsBase64,this.apiService.upload("/api/UploadClaimInvoicesWebcam",n).subscribe(function(n){if(200===n.status){if(n.data.length){var i=[];n.data.forEach(function(n){i.push({claimId:t,filename:n.filename,originalFilename:n.originalname,createdBy:e.sessionData.id})}),console.log("images---",i),e.apiService.post("/api/claim/fileUpload",i).subscribe(function(t){console.log("response---",t.status),200===t.status?(e.modalReference.close(),e.getData(),H.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(e.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else e.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},e.prototype.handleInitError=function(e){this.errors.push(e)},e.prototype.showNextWebcam=function(e){this.nextWebcam.next(e)},e.prototype.handleImage=function(e){console.info("received webcam image",e),this.webcamImage=e},e.prototype.cameraWasSwitched=function(e){console.log("active device: "+e),this.deviceId=e},Object.defineProperty(e.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!1,configurable:!0}),e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e,t){$("#err_month").hide(),this.selectedFields.month>this.currentMonth&&this.selectedFields.year>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e,t)},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getDivisions(),e.delay(1e3).then(function(t){e.getData()})}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=e.urlData.urlDistributor?e.urlData.urlDistributor:parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions())})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions())})},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getStockiest=function(){var e=this,t=[],n=this.selectedFields.distributor,i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type&&t.push(Number(i)),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n.toString())||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=e.urlData.urlStockist?e.urlData.urlStockist:parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getData())})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[],this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],this.totalAmount=0;var t=this.selectedFields.type,n=this.selectedFields.division;this.apiService.post("/api/getClaim",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(i){200===i.status?i.data.length?(i.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=i.data,e.tempRecords=i.data,(t||n)&&e.filterDataTwice(t,n),e.tempRecords.forEach(function(t){e.totalAmount=e.totalAmount+t.amount}),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",i.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e,t){var n=this;this.loading=!0,this.showData=!0,this.selectedFields[t]="type"===t?e:parseInt(e),"distributor"===t&&(this.selectedFields.type=0,this.selectedFields.division=0,this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){n.getData()})),"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type=0,this.selectedFields.division=0,this.getData());var i=this.selectedFields.type,a=this.selectedFields.division;if(console.log(i,a,this.records),a){var r=this.divisions.filter(function(e){return e.division==Number(a)})[0].division;$("#divisionCode").text("("+r+")")}i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionId==a}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionId==a}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.totalAmount=0,this.tempRecords.forEach(function(e){n.totalAmount=n.totalAmount+e.amount}),this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.viewPopup=function(e,t,n,i){var a=this;console.log(t),this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),console.log("images---",i),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){console.log("response---",e.status),200===e.status?(n.modalReference.close(),n.getData(),H.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this;H.a.fire({title:"Are you sure want to submit?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"No, keep it"}).then(function(t){var n,i;if(t.value){var a=0,r=[];e.records.forEach(function(e){e.files.length&&r.push({invoice:e.invoice,file:e.files[0].filename})});var o=Object(c.g)(new Map(r.map(function(e){return[e.invoice,e]})).values()),l=e.records.filter(function(e){var t=e.invoice;return!o.some(function(e){return e.invoice===t})}),s=Object(c.g)(new Map(l.map(function(e){return[e.invoice,e]})).values());if(s&&s.forEach(function(t){a=1,$("."+t.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),e.tempRecords.length<=0&&(a=1,e.toast("error","Currently there are no claims on the list.")),0===a){var d=[];e.tempRecords.forEach(function(t,n){console.log("element--",t);var i={_id:t._id,plant:t.plant,customerId:t.customerId,divisionId:t.divisionId,claimMonth:t.claimMonth,claimYear:t.claimYear,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:Re().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};d.push(i)}),console.log(d);var m=[],p=new Map;try{for(var u=Object(c.h)(d),f=u.next();!f.done;f=u.next()){var h=f.value;p.has(h.divisionId)||(p.set(h.divisionId,!0),m.push({msgType:"newPost",division:h.divisionId,distributorId:h.plant,stockistId:h.customerId,claimMonth:h.claimMonth,claimYear:h.claimYear}))}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}e.apiService.post("/api/claim/submit",d).subscribe(function(t){200===t.status&&(e.apiService.post("/api/user/insertMessages",m).subscribe(function(e){}),e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}}else t.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.prototype.openWebcam=function(e,t,n){var i=this;this.showWebcam=!0,this.selectedwebcamrow=t,this.modalService.open(n,{size:"lg"}).result.then(function(e){i.closeResult="Closed with: "+e,i.showWebcam=!1,i.webcamImage=null},function(e){i.closeResult="Dismissed "+i.getDismissReason(e),i.showWebcam=!1,i.webcamImage=null})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-draft-claim"]],decls:72,vars:30,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-lg-3","col-sm-12","cpdlr"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],[1,"col-lg-2","col-sm-12","cpdlr"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[3,"value"],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[1,"col-lg-1","col-sm-12","cpdlr"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],[1,"col-md-4"],["webcammodal",""],["details",""],["uploads",""],[2,"color","orange","font-size","12px"],[4,"ngIf"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","50px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","110px"],[1,"border-right",2,"width","180px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[2,"display","none"],["title","Upload Invoice Webcam",1,"option-span",2,"color","#6610f2"],[1,"vsm-icon","pe-7s-camera",3,"click"],["title","Upload Invoice",1,"option-span",2,"color","#6610f2"],[1,"vsm-icon","pe-7s-cloud-upload","option-tr",3,"click"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"],["title","Delete",1,"option-span",2,"color","red"],[1,"vsm-icon","pe-7s-trash","option-tr",3,"click"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-3",2,"padding-top","10px","font-weight","600"],[1,"col-md-3","tar",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",3,"click",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","content",1,"modal-body"],[1,"col-md-6"],["id","left"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],["id","right"],["class","snapshot",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError"],[1,"snapshot"],[3,"src"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"ng-select",10),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(e){return t.filterData(e,"distributor")}),a["\u0275\u0275template"](16,Et,3,5,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275element"](19,"img",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",8),a["\u0275\u0275elementStart"](21,"label",15),a["\u0275\u0275text"](22," Stockist "),a["\u0275\u0275template"](23,wt,3,2,"span",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"ng-select",17),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e})("change",function(e){return t.filterData(e,"stockiest")}),a["\u0275\u0275template"](25,It,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementStart"](27,"div",19),a["\u0275\u0275element"](28,"img",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",20),a["\u0275\u0275elementStart"](30,"label",21),a["\u0275\u0275text"](31,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"ng-select",22),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e})("change",function(e){return t.filterData(e,"type")}),a["\u0275\u0275elementStart"](33,"ng-option",23),a["\u0275\u0275text"](34," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](35,$t,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](36,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",20),a["\u0275\u0275elementStart"](38,"label",25),a["\u0275\u0275text"](39,"Division "),a["\u0275\u0275element"](40,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"ng-select",27),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e})("change",function(e){return t.filterData(e,"division")}),a["\u0275\u0275elementStart"](42,"ng-option",23),a["\u0275\u0275text"](43," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](44,Ft,3,4,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"div",28),a["\u0275\u0275elementStart"](46,"label",29),a["\u0275\u0275text"](47,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"ng-select",30),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(e){return t.validateMonth(e,"month")}),a["\u0275\u0275template"](49,Dt,2,2,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](50,"span",31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"div",28),a["\u0275\u0275elementStart"](52,"label",32),a["\u0275\u0275text"](53,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"ng-select",33),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(e){return t.validateMonth(e,"year")}),a["\u0275\u0275template"](55,Mt,2,2,"ng-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](56,"span",34),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"div",7),a["\u0275\u0275elementStart"](58,"div",35),a["\u0275\u0275element"](59,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](60,Ot,4,0,"div",36),a["\u0275\u0275template"](61,Pt,2,0,"div",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](62,jt,40,1,"div",37),a["\u0275\u0275template"](63,Qt,9,7,"div",38),a["\u0275\u0275elementStart"](64,"div",39),a["\u0275\u0275elementStart"](65,"div",6),a["\u0275\u0275template"](66,Yt,17,2,"ng-template",null,40,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](68,zt,16,3,"ng-template",null,41,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](70,Ht,14,1,"ng-template",null,42,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[Ne.a,o.m,o.p,b.m,b.n,Ne.d,y.l,Te.a,_t.a],pipes:[b.v,b.f],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel-items{max-height:158px}.ng-select.custom[_ngcontent-%COMP%]     .ng-option{padding:5px 8px}.cpdlr[_ngcontent-%COMP%]{padding:0 4px}#content[_ngcontent-%COMP%]{background-color:hsla(0,0%,82%,.5);padding:.5rem;display:flex}.snapshot[_ngcontent-%COMP%]{text-align:center;img{max-width:99%}}"]}),e}(),Wt=n("lLjj");function Gt(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",56),a["\u0275\u0275elementStart"](1,"button",57),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",58),a["\u0275\u0275text"](3," Export to Excel "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function Zt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Kt(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function Xt(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function en(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",59),a["\u0275\u0275template"](1,Kt,2,0,"span",53),a["\u0275\u0275template"](2,Xt,2,1,"span",53),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function tn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function nn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function an(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function rn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function on(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function ln(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function sn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",60),a["\u0275\u0275element"](1,"img",61),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function dn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",60),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function cn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",65),a["\u0275\u0275text"](1,"Stockist"),a["\u0275\u0275elementEnd"]())}function mn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1,"Acc. QTY"),a["\u0275\u0275elementEnd"]())}function pn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",63),a["\u0275\u0275text"](1,"Acc. Amount"),a["\u0275\u0275elementEnd"]())}function un(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",70),a["\u0275\u0275text"](1,"Options"),a["\u0275\u0275elementEnd"]())}function fn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"Self"),a["\u0275\u0275elementEnd"]())}function hn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.stockiest[0].organization)}}function vn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",77),a["\u0275\u0275template"](1,fn,2,0,"span",53),a["\u0275\u0275template"](2,hn,2,1,"span",53),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!==n.customerId)}}function gn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",77),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.approvedQty)}}function bn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",77),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](2,1,n.approvedAmount,"1.2-2"))}}function xn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",81),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](2).$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function yn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",77),a["\u0275\u0275template"](1,xn,1,0,"img",80),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function Sn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",76),a["\u0275\u0275elementStart"](1,"td",77),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,vn,3,2,"td",78),a["\u0275\u0275elementStart"](4,"td",77),a["\u0275\u0275text"](5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",77),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",79),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",79),a["\u0275\u0275text"](13),a["\u0275\u0275pipe"](14,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",77),a["\u0275\u0275text"](16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",77),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",77),a["\u0275\u0275text"](21),a["\u0275\u0275pipe"](22,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",77),a["\u0275\u0275text"](24),a["\u0275\u0275pipe"](25,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"td",77),a["\u0275\u0275text"](27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"td",77),a["\u0275\u0275text"](29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",77),a["\u0275\u0275text"](31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"td",77),a["\u0275\u0275text"](33),a["\u0275\u0275pipe"](34,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",77),a["\u0275\u0275text"](36),a["\u0275\u0275pipe"](37,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",77),a["\u0275\u0275text"](39),a["\u0275\u0275pipe"](40,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,gn,2,1,"td",78),a["\u0275\u0275template"](42,bn,3,4,"td",78),a["\u0275\u0275template"](43,yn,2,1,"td",78),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.allField),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](8,19,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,21,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](14,23,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](19,25,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](22,28,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](25,31,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.freeQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](34,34,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](37,37,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](40,40,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.optionField)}}function _n(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",62),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",63),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](6,cn,2,0,"th",64),a["\u0275\u0275elementStart"](7,"th",65),a["\u0275\u0275text"](8,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",66),a["\u0275\u0275text"](10,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",67),a["\u0275\u0275text"](12,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",68),a["\u0275\u0275text"](14,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",65),a["\u0275\u0275text"](16,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",69),a["\u0275\u0275text"](18,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",69),a["\u0275\u0275text"](20,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",70),a["\u0275\u0275text"](22,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",71),a["\u0275\u0275text"](24,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",63),a["\u0275\u0275text"](26,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",63),a["\u0275\u0275text"](28,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",72),a["\u0275\u0275text"](30,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",72),a["\u0275\u0275text"](32,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",70),a["\u0275\u0275text"](34,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](35,mn,2,0,"th",73),a["\u0275\u0275template"](36,pn,2,0,"th",73),a["\u0275\u0275template"](37,un,2,0,"th",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"tbody"),a["\u0275\u0275template"](39,Sn,44,43,"tr",75),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",n.allField),a["\u0275\u0275advance"](29),a["\u0275\u0275property"]("ngIf",n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.optionField),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function En(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",85),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" Total Amount: ",a["\u0275\u0275pipeBind2"](2,1,n.totalAmount,"1.2-2")," ")}}function Cn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",85),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" Total Accepted Amount: ",a["\u0275\u0275pipeBind2"](2,1,n.accAmount,"1.2-2")," ")}}function kn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",82),a["\u0275\u0275elementStart"](1,"div",83),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,En,3,4,"div",84),a["\u0275\u0275template"](4,Cn,3,4,"div",84),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!n.accField),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.accField)}}function wn(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",96),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function In(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",97),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function $n(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",86),a["\u0275\u0275elementStart"](1,"h4",87),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",88),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",89),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",90),a["\u0275\u0275template"](7,wn,1,2,"pdf-viewer",91),a["\u0275\u0275template"](8,In,1,2,"img",92),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",93),a["\u0275\u0275elementStart"](10,"button",94),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",95),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Fn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function Dn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function Mn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function On(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function Pn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function Tn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",98),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",99),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}var Rn=function(){function e(e,t,n){this.router=e,this.modalService=t,this.apiService=n,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.c,this.heading="Claim Status",this.subheading="Accepted, Rejected and Inprogress claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!1,this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.tempRecords=[],this.accAmount=0,this.totalAmount=0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.status=[{id:"inprogress",name:"Inprogress"},{id:"approved",name:"Accepted"},{id:"rejected",name:"Rejected"}],this.months=[{id:1,name:"01 - Jan"},{id:2,name:"02 - Feb"},{id:3,name:"03 - Mar"},{id:4,name:"04 - Apr"},{id:5,name:"05 - May"},{id:6,name:"06 - Jun"},{id:7,name:"07 - Jul"},{id:8,name:"08 - Aug"},{id:9,name:"09 - Sep"},{id:10,name:"10 - Oct"},{id:11,name:"11 - Nov"},{id:12,name:"12 - Dec"}],this.years=[],this.records=[],this.divisions=[],this.stockiests=[],this.loggedUserId="",this.selectedFields=[],this.pdfSource="",this.clickedFile=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t);var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});parseInt(n)-1<=0?(this.selectedYear=parseInt(i)-1,this.selectedMonth=12):(this.selectedYear=i,this.selectedMonth=parseInt(n)),this.selectedFields.month=this.selectedMonth,this.selectedFields.year=this.selectedYear,this.selectedFields.division=0,this.selectedFields.type=0,this.selectedFields.status=0,this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.clear=function(){var e=Re().format("MM"),t=Re().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.getDistributorStockists(n[0]),e.delay(500).then(function(t){e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()})}})},e.prototype.getDistributorStockists=function(e){var t=this;this.apiService.post("/api/stockiest/distributorStockiest",{plant:e.plant}).subscribe(function(n){if(200===n.status&&n.data){var i=[];n.data.forEach(function(e){i.push(e.customerId)}),t.apiService.post("/api/user/getUserByCodes",{codes:i}).subscribe(function(i){if(200===i.status&&n.data){var a=[];i.data.forEach(function(e){a.push(e.code)}),t.userPlantStockists[e.plant]=a}})}})},e.prototype.getDistributors=function(){var e=this;this.distributors=[],this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getStockiest=function(){var e=this,t=[],n=this.selectedFields.distributor,i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type?t.push(Number(i)):"distributor"===this.sessionData.type&&(t=i),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!i.includes(n)||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show())})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[],this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&(console.log("response.data---",t.data),t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()))})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions())})},e.prototype.distributorChange=function(){this.getStockiest(),this.getDivisions()},e.prototype.getData=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o,l,s=this;return Object(c.d)(this,function(d){return this.loading=this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.records=this.tempRecords=[],this.totalAmount=0,this.accAmount=0,$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide(),e=this.selectedFields.distributor,n=this.selectedFields.type,i=this.selectedFields.division,a=this.selectedFields.month,r=this.selectedFields.year,o=this.selectedFields.status,(t=this.selectedFields.stockiest)&&o?a>this.currentMonth&&r>=this.currentYear?($("#err_month").text("You can't claim for this month.").show(),[2]):(l={plant:e,customerId:t,month:a,year:r,status:o},n&&(l.claimType=n),i&&(l.division=i),this.apiService.post("/api/getApprovedClaim",l).subscribe(function(e){200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),s.records=e.data,s.tempRecords=e.data,s.tempRecords.forEach(function(e){s.totalAmount=s.totalAmount+e.amount,s.accAmount=s.accAmount+e.approvedAmount}),s.loading=!1,s.showData=!0,"approved"===o?s.accField=!0:"rejected"===o&&(s.optionField=!0),"all"===t&&(s.allField=!0)):s.loading=s.showData=!1:s.toast("error",e.message)}),[2]):(e||$("#err_distributor").text("it's a required field.").show(),t||$("#err_stockiest").text("it's a required field.").show(),o||$("#err_status").text("it's a required field.").show(),[2])})})},e.prototype.exportToExcel=function(){var e=[];this.tempRecords.forEach(function(t){var n={Stockiest:t.customerId,"Claim Type":t.claimType,Month:t.claimMonth,Year:t.claimYear,"Reference No":t.invoice,Batch:t.batch,Division:t.divisionName,Material:t.material,"Material Name":t.materialName,MRP:t.mrp,PTS:t.pts,"Billing Rate":t.billingRate,Margin:t.margin,"Free QTY":t.freeQuantity,"Sale QTY":t.saleQuantity,Difference:t.difference,"Total Difference":t.totalDifference,Amount:t.amount};1===t.ftStatus&&1===t.suhStatus&&1===t.hoStatus&&1===t.ho1Status&&(t.approvedQty&&(n["Accepted QTY"]=t.approvedQty),t.approvedAmount&&(n["Accepted Amount"]=t.approvedAmount)),e.push(n)});var t=Wt.utils.json_to_sheet(e);for(var n in t["!cols"]=[{wch:10},{wch:10},{wch:8},{wch:5},{wch:15},{wch:10},{wch:20},{wch:15},{wch:40},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20},{wch:20},{wch:20}],t)if("object"==typeof t[n]){var i=Wt.utils.decode_cell(n);t[n].s={alignment:{vertical:"center",wrapText:1}},0==i.r&&(t[n].s.alignment={vertical:"center",wrapText:!0},t[n].s.fill={fgColor:{rgb:"585858"}},t[n].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var a=Wt.utils.book_new();Wt.utils.book_append_sheet(a,t,"Sheet1"),Wt.writeFile(a,"ClaimStatus.xlsx")},e.prototype.viewPopup=function(e,t){var n=this;this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){this.clickedRecord=e,document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-status"]],decls:105,vars:42,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-lg-3","col-sm-12","cpdlr"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange"],[3,"value"],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["id","modalComments",1,"modal",2,"top","70px !important"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],[1,"modal-footer",2,"padding","5px 15px"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","70px"],["class","border-right","style","width: 90px;",4,"ngIf"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","75px"],["class","border-right","style","width: 70px;",4,"ngIf"],["class","border-right","style","width: 80px;",4,"ngIf"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],["class","border-right",4,"ngIf"],[1,"border-right","tal"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],["class","col-md-6 tar","style","padding-top: 10px; font-weight: 600;",4,"ngIf"],[1,"col-md-6","tar",2,"padding-top","10px","font-weight","600"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,Gt,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"ng-select",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(){return t.distributorChange()}),a["\u0275\u0275template"](17,Zt,3,5,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"span",13),a["\u0275\u0275elementStart"](19,"div",14),a["\u0275\u0275element"](20,"img",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",9),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23," Stockiest "),a["\u0275\u0275template"](24,en,3,2,"span",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"ng-select",18),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e}),a["\u0275\u0275template"](26,tn,3,4,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](27,"span",19),a["\u0275\u0275elementStart"](28,"div",20),a["\u0275\u0275element"](29,"img",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",9),a["\u0275\u0275elementStart"](31,"label",21),a["\u0275\u0275text"](32,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"ng-select",22),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e}),a["\u0275\u0275elementStart"](34,"ng-option",23),a["\u0275\u0275text"](35," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](36,nn,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",9),a["\u0275\u0275elementStart"](39,"label",25),a["\u0275\u0275text"](40,"Division "),a["\u0275\u0275element"](41,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"ng-select",27),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e}),a["\u0275\u0275elementStart"](43,"ng-option",23),a["\u0275\u0275text"](44," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](45,an,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",9),a["\u0275\u0275elementStart"](47,"label",28),a["\u0275\u0275text"](48,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"ng-select",29),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(){return t.validateMonth()}),a["\u0275\u0275template"](50,rn,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",9),a["\u0275\u0275elementStart"](53,"label",31),a["\u0275\u0275text"](54,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"ng-select",32),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(){return t.validateMonth()}),a["\u0275\u0275template"](56,on,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](57,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",9),a["\u0275\u0275elementStart"](59,"label",34),a["\u0275\u0275text"](60,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"ng-select",22),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.status=e}),a["\u0275\u0275elementStart"](62,"ng-option",23),a["\u0275\u0275text"](63," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](64,ln,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"span",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"div",9),a["\u0275\u0275elementStart"](67,"div",36),a["\u0275\u0275elementStart"](68,"button",37),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](69,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"button",38),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](71,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"div",8),a["\u0275\u0275elementStart"](73,"div",39),a["\u0275\u0275element"](74,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,sn,4,0,"div",40),a["\u0275\u0275template"](76,dn,2,0,"div",40),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](77,_n,40,5,"div",41),a["\u0275\u0275template"](78,kn,5,3,"div",42),a["\u0275\u0275template"](79,$n,14,3,"ng-template",null,43,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](81,"div",44),a["\u0275\u0275elementStart"](82,"div",45),a["\u0275\u0275elementStart"](83,"div",46),a["\u0275\u0275elementStart"](84,"h2",47),a["\u0275\u0275text"](85,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](87,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"div",49),a["\u0275\u0275elementStart"](89,"div",8),a["\u0275\u0275elementStart"](90,"table",50),a["\u0275\u0275elementStart"](91,"tr"),a["\u0275\u0275elementStart"](92,"th",51),a["\u0275\u0275text"](93,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"th",52),a["\u0275\u0275text"](95,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](96,Fn,7,1,"tr",53),a["\u0275\u0275template"](97,Dn,7,1,"tr",53),a["\u0275\u0275template"](98,Mn,7,1,"tr",53),a["\u0275\u0275template"](99,On,7,1,"tr",53),a["\u0275\u0275template"](100,Pn,7,1,"tr",53),a["\u0275\u0275template"](101,Tn,7,1,"tr",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"div",54),a["\u0275\u0275elementStart"](103,"button",55),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](104," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.sessionData.permissions.includes("3")),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.status)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.status),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[b.n,Ne.a,o.m,o.p,b.m,Ne.d,_.a,y.l,_t.a],pipes:[b.v,b.f],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.cpdlr[_ngcontent-%COMP%]{padding:0 4px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel-items{max-height:158px}.ng-select.custom[_ngcontent-%COMP%]     .ng-option{padding:5px 8px}']}),e}();function Nn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275element"](1,"img",25),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Uploading... Please wait"),a["\u0275\u0275element"](4,"br"),a["\u0275\u0275elementStart"](5,"b"),a["\u0275\u0275text"](6,"Don`t close this window while uploading"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function jn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",16),a["\u0275\u0275elementStart"](1,"h4",17),a["\u0275\u0275text"](2,"Upload Stockist Data"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",18),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",19),a["\u0275\u0275elementStart"](5,"p"),a["\u0275\u0275elementStart"](6,"input",20),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onFileSelected(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",21),a["\u0275\u0275elementStart"](8,"button",22),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](9,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"button",23),a["\u0275\u0275listener"]("click",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().uploadStockiest(e)}),a["\u0275\u0275text"](11,"Save changes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](12,Nn,7,0,"div",15),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",i.loading)}}function An(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",12),a["\u0275\u0275text"](1,"Options"),a["\u0275\u0275elementEnd"]())}function Bn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",12),a["\u0275\u0275elementStart"](1,"span",28),a["\u0275\u0275elementStart"](2,"a",29),a["\u0275\u0275element"](3,"i",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("href","stockiest/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function Qn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",26),a["\u0275\u0275elementStart"](1,"td",12),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",27),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",12),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",12),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",12),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](11,Bn,4,1,"td",13),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.organization),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.customerId),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","it"===r.sessionData.workType)}}function Un(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275element"](1,"img",25),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}var Ln=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.modalService=a,this.faStar=x.d,this.faPlus=x.c,this.heading="Stockist",this.subheading="Stockist List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.stockiest=[],this.selectedFiles=[],this.dtOptions={},this.dtTrigger=new Pe.a}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getallstockiest()},e.prototype.addNewStockiest=function(){this.router.navigateByUrl("/stockiest/add")},e.prototype.getallstockiest=function(){var e=this;this.loading=!0,this.apiService.fetch("/api/stockiest/all").subscribe(function(t){200===t.status&&(t.data.length&&(e.stockiest=t.data,e.dtTrigger.next()),e.loading=!1)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.open=function(e){var t=this;this.modalService.open(e).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.onFileSelected=function(e){this.selectedFiles=e.target.files},e.prototype.uploadStockiest=function(){for(var e=this,t=new FormData,n=0;n<this.selectedFiles.length;n++)t.append("file",this.selectedFiles[n]);console.log("Test 2===",t),this.loading=!0,$("#uploadstockiestid").attr("disabled",!0),this.apiService.upload("/api/stockiestImport",t).subscribe(function(t){200===t.status&&(e.loading=!1,e.closeResult="success",H.a.fire({icon:"success",title:"Stockiest Uploaded Successfully",showConfirmButton:!1,timer:1500}),e.modalService.dismissAll(),window.location.reload())})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X),a["\u0275\u0275directiveInject"](y.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-stockiest"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](r.a,1),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.dtElement=n.first)},decls:34,vars:10,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["content",""],["type","button",1,"btn-shadow","me-3","btn","btn-dark",3,"click"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[1,"border-right"],["class","border-right",4,"ngIf"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["type","file",1,"file-input",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","id","uploadstockiestid",1,"btn","btn-primary",3,"click"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"],[1,"border-bottom",2,"height","35px"],[1,"border-right","tal"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275template"](10,jn,13,1,"ng-template",null,6,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](12,"button",7),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275reference"](11);return t.open(e)}),a["\u0275\u0275text"](13," Upload Stockiest "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"div",8),a["\u0275\u0275elementStart"](15,"div",9),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"table",11),a["\u0275\u0275elementStart"](18,"thead"),a["\u0275\u0275elementStart"](19,"tr"),a["\u0275\u0275elementStart"](20,"th",12),a["\u0275\u0275text"](21,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",12),a["\u0275\u0275text"](23,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",12),a["\u0275\u0275text"](25,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",12),a["\u0275\u0275text"](27,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",12),a["\u0275\u0275text"](29,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,An,2,0,"th",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"tbody"),a["\u0275\u0275template"](32,Qn,12,6,"tr",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](33,Un,4,0,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("ngIf","it"===t.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loading))},directives:[r.a,b.n,b.m],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}"]}),e}();function Yn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n," ")}}function Vn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var qn=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create Stockiest",this.subheading="Create a stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getuniqueplant(),this.createForm()},e.prototype.getuniqueplant=function(){var e=this;this.apiService.fetch("/api/stockiest/getdistinctplan").subscribe(function(t){200===t.status&&(e.plants=t.data)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.stockiestForm=this.fb.group({organization:["",[o.v.required]],plant:[""],customerid:["",[o.v.required]],status:[""],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Organization is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),r?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/stockiest/add",this.stockiestForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-stockiest"]],decls:46,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Organization Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerid","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Organization Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,Yn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",8),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",16),a["\u0275\u0275text"](39," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,Vn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",25),a["\u0275\u0275elementStart"](43,"div",26),a["\u0275\u0275elementStart"](44,"button",27),a["\u0275\u0275text"](45,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.stockiestForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.m,o.r,o.t],styles:[""]}),e}();function zn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n," ")}}function Hn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",28),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Jn=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Edit / Update Stockiest",this.subheading="Update a stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.records=[],this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.selectedStockiest=this.activatedRoute.snapshot.paramMap.get("stockiestId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getuniqueplant(),this.getData(),this.createForm()},e.prototype.getuniqueplant=function(){var e=this;this.apiService.fetch("/api/stockiest/getdistinctplan").subscribe(function(t){200===t.status&&(e.plants=t.data)})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/stockiest",this.selectedStockiest).subscribe(function(t){200===t.status&&(e.records=t.data,e.stockiestForm.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.stockiestForm.value.plant=e.records.plant,e.stockiestForm.controls.oldplantcode.setValue(e.records.plant,{onlySelf:!0}),e.stockiestForm.value.oldplantcode=e.records.plant,e.stockiestForm.controls.organization.setValue(e.records.organization,{onlySelf:!0}),e.stockiestForm.value.organization=e.records.organization,e.stockiestForm.controls.customerid.setValue(e.records.customerId,{onlySelf:!0}),e.stockiestForm.value.customerid=e.records.customerId,e.stockiestForm.controls.oldcustomerId.setValue(e.records.customerId,{onlySelf:!0}),e.stockiestForm.value.oldcustomerId=e.records.customerId,e.stockiestForm.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.stockiestForm.value.status=e.records.isActive,e.stockiestForm.controls._id.setValue(e.records._id,{onlySelf:!0}),e.stockiestForm.value._id=e.records._id)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.stockiestForm=this.fb.group({_id:[this.selectedStockiest,[o.v.required]],organization:["",[o.v.required]],plant:[""],customerid:["",[o.v.required]],status:[""],oldplantcode:[this.records.plant,[o.v.required]],oldcustomerId:[this.records.newcustomerId,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;console.log("xxxxxxxxxx",this.stockiestForm.value),this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Organization is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),r?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/stockiest/edit",this.stockiestForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-stockiest"]],decls:46,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Organization Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerid","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Organization Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,zn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",8),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",16),a["\u0275\u0275text"](39," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,Hn,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](41,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",25),a["\u0275\u0275elementStart"](43,"div",26),a["\u0275\u0275elementStart"](44,"button",27),a["\u0275\u0275text"](45,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.stockiestForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.m,o.r,o.t],styles:[""]}),e}();function Wn(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",56),a["\u0275\u0275elementStart"](1,"button",57),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",58),a["\u0275\u0275text"](3," Export to Excel "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function Gn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Zn(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function Kn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function Xn(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",59),a["\u0275\u0275template"](1,Zn,2,0,"span",53),a["\u0275\u0275template"](2,Kn,2,1,"span",53),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function ei(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function ti(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function ni(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function ii(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function ai(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function ri(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function oi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",60),a["\u0275\u0275element"](1,"img",61),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function li(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",60),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function si(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",74),a["\u0275\u0275elementStart"](1,"i",75),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](79);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function di(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,si,2,1,"span",73),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function ci(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",70),a["\u0275\u0275elementStart"](1,"td",66),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",66),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",66),a["\u0275\u0275text"](6),a["\u0275\u0275pipe"](7,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",71),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",71),a["\u0275\u0275text"](11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",66),a["\u0275\u0275text"](13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",66),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",66),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",66),a["\u0275\u0275text"](21),a["\u0275\u0275pipe"](22,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"td",66),a["\u0275\u0275text"](24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",66),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td"),a["\u0275\u0275template"](28,di,2,1,"div",53),a["\u0275\u0275elementStart"](29,"div",72),a["\u0275\u0275text"](30," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](7,18,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.divisionName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.materialName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](16,20,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](19,23,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](22,26,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.freeQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("border-right att_",n.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",n.invoice,"")}}function mi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",62),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",63),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",64),a["\u0275\u0275text"](7,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",64),a["\u0275\u0275text"](9,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",65),a["\u0275\u0275text"](11,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",66),a["\u0275\u0275text"](13,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",64),a["\u0275\u0275text"](15,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",67),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",64),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",64),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",67),a["\u0275\u0275text"](23,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",67),a["\u0275\u0275text"](25,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",68),a["\u0275\u0275text"](27,"ATTM"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"tbody"),a["\u0275\u0275template"](29,ci,31,29,"tr",69),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](29),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function pi(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",86),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function ui(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",87),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function fi(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",76),a["\u0275\u0275elementStart"](1,"h4",77),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",78),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",79),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",80),a["\u0275\u0275template"](7,pi,1,2,"pdf-viewer",81),a["\u0275\u0275template"](8,ui,1,2,"img",82),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",83),a["\u0275\u0275elementStart"](10,"button",84),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",85),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function hi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function vi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function gi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function bi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function xi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function yi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",88),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",89),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}var Si=function(){function e(e,t,n,i){this.router=e,this.modalService=t,this.activatedRoute=n,this.apiService=i,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.a,this.heading="Stockist Claims",this.subheading="Accepted, Rejected and Inprogress claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!1,this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.tempRecords=[],this.accAmount=0,this.totalAmount=0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.status=[{id:"inprogress",name:"Inprogress"}],this.months=[{id:1,name:"01 - Jan"},{id:2,name:"02 - Feb"},{id:3,name:"03 - Mar"},{id:4,name:"04 - Apr"},{id:5,name:"05 - May"},{id:6,name:"06 - Jun"},{id:7,name:"07 - Jul"},{id:8,name:"08 - Aug"},{id:9,name:"09 - Sep"},{id:10,name:"10 - Oct"},{id:11,name:"11 - Nov"},{id:12,name:"12 - Dec"}],this.years=[],this.records=[],this.divisions=[],this.stockiests=[],this.loggedUserId="",this.selectedFields=[],this.pdfSource="",this.clickedFile=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[],this.urlData=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t);var n=Re().format("YYYY"),i=Re().format("MM");this.urlData={urlYear:this.activatedRoute.snapshot.params.year,urlMonth:this.activatedRoute.snapshot.params.month,urlStockist:this.activatedRoute.snapshot.params.stockist,urlDistributor:this.activatedRoute.snapshot.params.distributor},this.currentMonth=this.urlData.urlMonth?parseInt(this.urlData.urlMonth):parseInt(i),this.currentYear=parseInt(n);for(var a=parseInt(n);a>parseInt(n)-3;a--)this.years.push({id:a,name:a});this.currentMonth-1<=0?(this.selectedYear=this.urlData.urlYear?parseInt(this.urlData.urlYear):parseInt(n),this.selectedMonth=12):(this.selectedYear=this.urlData.urlYear?parseInt(this.urlData.urlYear):parseInt(n),this.selectedMonth=this.currentMonth),this.selectedFields.month=this.selectedMonth,this.selectedFields.year=this.selectedYear,this.selectedFields.division=0,this.selectedFields.type=0,this.selectedFields.status="inprogress",this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(){$("#err_month").hide()},e.prototype.clear=function(){var e=Re().format("MM"),t=Re().format("YYYY");this.selectedFields={distributor:this.selectedFields.distributor,stockiest:this.selectedFields.stockiest,type:0,division:0,month:parseInt(e),year:parseInt(t),status:"inprogress"},this.tempRecords=[],this.totalAmount=0},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?"ho"===this.sessionData.type||"field"===this.sessionData.type?this.getUserDistStockistDivision():"stockist"===this.sessionData.type?this.getStockistDistDivision():"distributor"===this.sessionData.type&&this.getDivisionCustomerIds():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDivisionCustomerIds=function(){var e=this;this.apiService.get("/api/user/getDivisionCustomerIds",this.sessionData.id).subscribe(function(t){if(200===t.status&&t.data&&t.data[0].distCustomerIds.length){var n=e.distributors.filter(function(e){return e.plant===t.data[0].code});e.userDistributors.push(n[0]),e.userPlantDivisions[t.data[0].code]=t.data[0].divisions[0].divisions,e.getDistributorStockists(n[0]),e.delay(500).then(function(t){e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()})}})},e.prototype.getDistributorStockists=function(e){var t=this;this.apiService.post("/api/stockiest/distributorStockiest",{plant:e.plant}).subscribe(function(n){if(200===n.status&&n.data){var i=[];n.data.forEach(function(e){i.push(e.customerId)}),t.apiService.post("/api/user/getUserByCodes",{codes:i}).subscribe(function(i){if(200===i.status&&n.data){var a=[];i.data.forEach(function(e){a.push(e.code)}),t.userPlantStockists[e.plant]=a}})}})},e.prototype.getDistributors=function(){var e=this;this.distributors=[],this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getStockiest=function(){var e=this,t=[],n=this.selectedFields.distributor,i=this.userPlantStockists[n];"ho"===this.sessionData.type||"field"===this.sessionData.type?i.forEach(function(e){t.push(Number(e))}):"stockist"===this.sessionData.type?t.push(Number(i)):"distributor"===this.sessionData.type&&(t=i),this.apiService.post("/api/getStockiest",t).subscribe(function(i){200===i.status&&i.data.length&&(e.stockiests=i.data,"ho"!==e.sessionData.type&&"field"!==e.sessionData.type||!t.includes(n)||e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=e.urlData.urlStockist?e.urlData.urlStockist:parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.urlData.urlDistributor&&e.urlData.urlStockist&&e.urlData.urlYear&&e.urlData.urlMonth&&e.getData())})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[],this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&(console.log("response.data---",t.data),t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions()))})},e.prototype.getStockistDistDivision=function(){var e=this;this.apiService.get("/api/user/getStockistDistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.customerId,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions())})},e.prototype.distributorChange=function(){this.getStockiest(),this.getDivisions()},e.prototype.getData=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o,l,s,d=this;return Object(c.d)(this,function(c){return this.loading=this.showData=!0,this.accField=!1,this.allField=!1,this.optionField=!1,this.records=this.tempRecords=[],this.totalAmount=0,this.accAmount=0,$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide(),e=this.selectedFields.distributor,n=this.selectedFields.type,i=this.selectedFields.division,a=this.selectedFields.month,r=this.selectedFields.year,o=this.selectedFields.status,(t=this.selectedFields.stockiest)&&o?(l={plant:e,customerId:t,month:a,year:r,status:o},n&&(l.claimType=n),s=[],i?s.push(parseInt(i)):this.userPlantDivisions[e].forEach(function(e){s.push(parseInt(e))}),l.division=s,this.apiService.post("/api/tempGetApprovedClaim",l).subscribe(function(e){200===e.status?e.data.length?(e.data.sort(function(e,t){return e.invoice-t.invoice}),d.records=e.data,d.tempRecords=e.data,d.tempRecords.forEach(function(e){d.totalAmount=d.totalAmount+e.amount,d.accAmount=d.accAmount+e.approvedAmount}),d.loading=!1,d.showData=!0,"approved"===o?d.accField=!0:"rejected"===o&&(d.optionField=!0),"all"===t&&(d.allField=!0)):d.loading=d.showData=!1:d.toast("error",e.message)}),[2]):(e||$("#err_distributor").text("it's a required field.").show(),t||$("#err_stockiest").text("it's a required field.").show(),o||$("#err_status").text("it's a required field.").show(),[2])})})},e.prototype.exportToExcel=function(){var e="StockistClaim_"+Re().format("DDMMYYYY_hhmmss")+"_"+this.selectedFields.stockiest,t=[];this.tempRecords.forEach(function(e,n){var i={"Sl.No.":parseInt(n)+1,Month:e.claimMonth,Year:e.claimYear,Stockiest:e.customerId,"Claim Type":e.claimType,"Reference No":e.invoice,Division:e.divisionName,Material:e.material,"Material Name":e.materialName,Batch:e.batch,MRP:e.mrp,PTS:e.pts,"Billing Rate":e.billingRate,"Free QTY":e.freeQuantity,"Sale QTY":e.saleQuantity};1===e.ftStatus&&1===e.suhStatus&&1===e.hoStatus&&1===e.ho1Status&&(e.approvedQty&&(i["Accepted QTY"]=e.approvedQty),e.approvedAmount&&(i["Accepted Amount"]=e.approvedAmount)),t.push(i)});var n=Wt.utils.json_to_sheet(t);for(var i in n["!cols"]=[{wch:6},{wch:7},{wch:5},{wch:8},{wch:10},{wch:13},{wch:17},{wch:10},{wch:42},{wch:12},{wch:8},{wch:8},{wch:10},{wch:9},{wch:9}],n)if("object"==typeof n[i]){var a=Wt.utils.decode_cell(i);n[i].s={alignment:{vertical:"center",wrapText:1}},0==a.r&&(n[i].s.alignment={vertical:"center",wrapText:!0},n[i].s.fill={fgColor:{rgb:"999999"}},n[i].s.font={bold:!0,color:{rgb:"000000"}})}var r=Wt.utils.book_new();Wt.utils.book_append_sheet(r,n,"Sheet1"),Wt.writeFile(r,e+".xlsx")},e.prototype.viewPopup=function(e,t){var n=this;this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){this.clickedRecord=e,document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claims"]],decls:104,vars:41,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-lg-3","col-sm-12","cpdlr"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange"],[3,"value"],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"custom",3,"ngModel","clearable","ngModelChange"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["details",""],["id","modalComments",1,"modal",2,"top","70px !important"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],[1,"modal-footer",2,"padding","5px 15px"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","4%"],[1,"border-right",2,"width","8%"],[1,"border-right",2,"width","10%"],[1,"border-right"],[1,"border-right",2,"width","6%"],[1,"border-right",2,"width","5%"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right","tal"],[2,"display","none"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,Wn,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"ng-select",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(){return t.distributorChange()}),a["\u0275\u0275template"](17,Gn,3,5,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](18,"span",13),a["\u0275\u0275elementStart"](19,"div",14),a["\u0275\u0275element"](20,"img",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",9),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23," Stockiest "),a["\u0275\u0275template"](24,Xn,3,2,"span",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"ng-select",18),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e}),a["\u0275\u0275template"](26,ei,3,4,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](27,"span",19),a["\u0275\u0275elementStart"](28,"div",20),a["\u0275\u0275element"](29,"img",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",9),a["\u0275\u0275elementStart"](31,"label",21),a["\u0275\u0275text"](32,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"ng-select",22),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e}),a["\u0275\u0275elementStart"](34,"ng-option",23),a["\u0275\u0275text"](35," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](36,ti,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",9),a["\u0275\u0275elementStart"](39,"label",25),a["\u0275\u0275text"](40,"Division "),a["\u0275\u0275element"](41,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"ng-select",27),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e}),a["\u0275\u0275elementStart"](43,"ng-option",23),a["\u0275\u0275text"](44," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](45,ni,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",9),a["\u0275\u0275elementStart"](47,"label",28),a["\u0275\u0275text"](48,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"ng-select",29),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(){return t.validateMonth()}),a["\u0275\u0275template"](50,ii,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"div",9),a["\u0275\u0275elementStart"](53,"label",31),a["\u0275\u0275text"](54,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"ng-select",32),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(){return t.validateMonth()}),a["\u0275\u0275template"](56,ai,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](57,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",9),a["\u0275\u0275elementStart"](59,"label",34),a["\u0275\u0275text"](60,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](61,"ng-select",35),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.status=e}),a["\u0275\u0275elementStart"](62,"ng-option",23),a["\u0275\u0275text"](63," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](64,ri,2,2,"ng-option",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"div",9),a["\u0275\u0275elementStart"](67,"div",37),a["\u0275\u0275elementStart"](68,"button",38),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](69,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"button",39),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](71,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"div",8),a["\u0275\u0275elementStart"](73,"div",40),a["\u0275\u0275element"](74,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,oi,4,0,"div",41),a["\u0275\u0275template"](76,li,2,0,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](77,mi,30,1,"div",42),a["\u0275\u0275template"](78,fi,14,3,"ng-template",null,43,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](80,"div",44),a["\u0275\u0275elementStart"](81,"div",45),a["\u0275\u0275elementStart"](82,"div",46),a["\u0275\u0275elementStart"](83,"h2",47),a["\u0275\u0275text"](84,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](85,"span",48),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](86,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](87,"div",49),a["\u0275\u0275elementStart"](88,"div",8),a["\u0275\u0275elementStart"](89,"table",50),a["\u0275\u0275elementStart"](90,"tr"),a["\u0275\u0275elementStart"](91,"th",51),a["\u0275\u0275text"](92,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"th",52),a["\u0275\u0275text"](94,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](95,hi,7,1,"tr",53),a["\u0275\u0275template"](96,vi,7,1,"tr",53),a["\u0275\u0275template"](97,gi,7,1,"tr",53),a["\u0275\u0275template"](98,bi,7,1,"tr",53),a["\u0275\u0275template"](99,xi,7,1,"tr",53),a["\u0275\u0275template"](100,yi,7,1,"tr",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"div",54),a["\u0275\u0275elementStart"](102,"button",55),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](103," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.sessionData.permissions.includes("3")),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.status)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.status),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[b.n,Ne.a,o.m,o.p,b.m,Ne.d,_.a,y.l,_t.a],pipes:[b.v,b.f],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.cpdlr[_ngcontent-%COMP%]{padding:0 4px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}.tal[_ngcontent-%COMP%]{text-align:left}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel-items{max-height:158px}.ng-select.custom[_ngcontent-%COMP%]     .ng-option{padding:5px 8px}.legend-bullet[_ngcontent-%COMP%]{width:12px;height:12px;min-width:12px;border-radius:50%}.rejected[_ngcontent-%COMP%]{background-color:#df2a4a}.approved[_ngcontent-%COMP%]{background-color:#00aa63}.mlr8[_ngcontent-%COMP%]{margin:0 4px}.fl[_ngcontent-%COMP%]{float:left}']}),e}();function _i(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Ei(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"(Self)"),a["\u0275\u0275elementEnd"]())}function Ci(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.stockiest,")")}}function ki(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",134),a["\u0275\u0275template"](1,Ei,2,0,"span",113),a["\u0275\u0275template"](2,Ci,2,1,"span",113),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1!=n.selectedFields.stockiest)}}function wi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.organization))}}function Ii(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function $i(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,2,n.name))}}function Fi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function Di(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.name)}}function Mi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",135),a["\u0275\u0275element"](1,"img",136),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading...Please wait "),a["\u0275\u0275elementEnd"]())}function Oi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",135),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function Pi(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",67),a["\u0275\u0275text"](1," Particulars"),a["\u0275\u0275elementEnd"]())}function Ti(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",67),a["\u0275\u0275text"](1," Category"),a["\u0275\u0275elementEnd"]())}function Ri(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",67),a["\u0275\u0275text"](1," Supply Proof"),a["\u0275\u0275elementEnd"]())}function Ni(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",67),a["\u0275\u0275text"](1," Pur. Order"),a["\u0275\u0275elementEnd"]())}function ji(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"input",154),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"](4).changeCheckbox(e)}),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2),r=i.$implicit;a["\u0275\u0275propertyInterpolate1"]("id","language",i.index,""),a["\u0275\u0275propertyInterpolate"]("value",r._id),a["\u0275\u0275property"]("checked",!1)}}function Ai(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",152),a["\u0275\u0275template"](1,ji,1,3,"input",153),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1==n.ftStatus)}}function Bi(e,t){1&e&&a["\u0275\u0275element"](0,"div",166)}function Qi(e,t){1&e&&a["\u0275\u0275element"](0,"div",167)}function Ui(e,t){1&e&&a["\u0275\u0275element"](0,"div",168)}function Li(e,t){1&e&&a["\u0275\u0275element"](0,"div",169)}function Yi(e,t){1&e&&a["\u0275\u0275element"](0,"div",170)}function Vi(e,t){1&e&&a["\u0275\u0275element"](0,"div",171)}function qi(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",172),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function zi(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",173),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Hi(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",155),a["\u0275\u0275template"](1,Bi,1,0,"div",156),a["\u0275\u0275template"](2,Qi,1,0,"div",157),a["\u0275\u0275template"](3,Ui,1,0,"div",158),a["\u0275\u0275template"](4,Li,1,0,"div",159),a["\u0275\u0275template"](5,Yi,1,0,"div",160),a["\u0275\u0275template"](6,Vi,1,0,"div",161),a["\u0275\u0275template"](7,qi,1,1,"div",162),a["\u0275\u0275template"](8,zi,1,1,"div",163),a["\u0275\u0275element"](9,"div",164),a["\u0275\u0275element"](10,"div",165),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ho1Status),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ho1Status),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function Ji(e,t){1&e&&a["\u0275\u0275element"](0,"div",166)}function Wi(e,t){1&e&&a["\u0275\u0275element"](0,"div",167)}function Gi(e,t){1&e&&a["\u0275\u0275element"](0,"div",168)}function Zi(e,t){1&e&&a["\u0275\u0275element"](0,"div",169)}function Ki(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",172),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Xi(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",173),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function ea(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",155),a["\u0275\u0275template"](1,Ji,1,0,"div",156),a["\u0275\u0275template"](2,Wi,1,0,"div",157),a["\u0275\u0275template"](3,Gi,1,0,"div",158),a["\u0275\u0275template"](4,Zi,1,0,"div",159),a["\u0275\u0275template"](5,Ki,1,1,"div",162),a["\u0275\u0275template"](6,Xi,1,1,"div",163),a["\u0275\u0275element"](7,"div",164),a["\u0275\u0275element"](8,"div",165),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function ta(e,t){1&e&&a["\u0275\u0275element"](0,"div",166)}function na(e,t){1&e&&a["\u0275\u0275element"](0,"div",167)}function ia(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",172),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function aa(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",173),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function ra(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",155),a["\u0275\u0275template"](1,ta,1,0,"div",156),a["\u0275\u0275template"](2,na,1,0,"div",157),a["\u0275\u0275template"](3,ia,1,1,"div",162),a["\u0275\u0275template"](4,aa,1,1,"div",163),a["\u0275\u0275element"](5,"div",164),a["\u0275\u0275element"](6,"div",165),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function oa(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",172),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function la(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",173),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function sa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",155),a["\u0275\u0275template"](1,oa,1,1,"div",162),a["\u0275\u0275template"](2,la,1,1,"div",163),a["\u0275\u0275element"](3,"div",164),a["\u0275\u0275element"](4,"div",165),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function da(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",175),a["\u0275\u0275elementStart"](1,"i",176),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](72);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function ca(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,da,2,1,"span",174),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function ma(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,n.mrp,"1.2-2")," ")}}function pa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"number"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,n.mrp,"1.2-2")," ")}}function ua(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"span",177),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"img",178),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).showMrp(e.batchDetail,e.material,e._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"input",179),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_batchMrp_",i._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](3,3,i.mrp,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","batchMrp_selected_",i._id,"")}}function fa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"td",145),a["\u0275\u0275elementStart"](1,"div",180),a["\u0275\u0275elementStart"](2,"input",181),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).searchParticulars(e,t._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",182),a["\u0275\u0275element"](4,"i",183),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",184),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).particularsSelection(e,t._id)}),a["\u0275\u0275element"](6,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.particulars),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i._id,"")}}function ha(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"td",145),a["\u0275\u0275elementStart"](1,"div",180),a["\u0275\u0275elementStart"](2,"input",185),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).searchCategory(e,t._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",182),a["\u0275\u0275element"](4,"i",183),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",186),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).categorySelection(e,t._id)}),a["\u0275\u0275element"](6,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","category_",i._id,""),a["\u0275\u0275propertyInterpolate"]("value",i.category),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i._id,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i._id,"")}}function va(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",193),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function ga(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",194),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function ba(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",195),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function xa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",196),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function ya(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",145),a["\u0275\u0275elementStart"](1,"div",187),a["\u0275\u0275elementStart"](2,"select",188),a["\u0275\u0275elementStart"](3,"option",61),a["\u0275\u0275text"](4," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,va,2,0,"option",189),a["\u0275\u0275template"](6,ga,2,0,"option",190),a["\u0275\u0275template"](7,ba,2,0,"option",191),a["\u0275\u0275template"](8,xa,2,0,"option",192),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",182),a["\u0275\u0275element"](10,"i",183),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","sproof_",n._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=n.supplyProof),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sproof_loader_",n._id,"")}}function Sa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",193),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function _a(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",194),a["\u0275\u0275text"](1,"Yes"),a["\u0275\u0275elementEnd"]())}function Ea(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",195),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function Ca(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",196),a["\u0275\u0275text"](1,"No"),a["\u0275\u0275elementEnd"]())}function ka(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",199),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function wa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",200),a["\u0275\u0275text"](1,"N/A"),a["\u0275\u0275elementEnd"]())}function Ia(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",145),a["\u0275\u0275elementStart"](1,"div",187),a["\u0275\u0275elementStart"](2,"select",188),a["\u0275\u0275elementStart"](3,"option",61),a["\u0275\u0275text"](4," - - "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,Sa,2,0,"option",189),a["\u0275\u0275template"](6,_a,2,0,"option",190),a["\u0275\u0275template"](7,Ea,2,0,"option",191),a["\u0275\u0275template"](8,Ca,2,0,"option",192),a["\u0275\u0275template"](9,ka,2,0,"option",197),a["\u0275\u0275template"](10,wa,2,0,"option",198),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",182),a["\u0275\u0275element"](12,"i",183),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","porder_",n._id,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf","yes"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","yes"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","no"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"==n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","na"!=n.purchaseOrder),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","porder_loader_",n._id,"")}}function $a(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",201),a["\u0275\u0275elementStart"](1,"span",202),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",203),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Fa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",201),a["\u0275\u0275elementStart"](1,"span",202),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",203),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",204),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Da(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",201),a["\u0275\u0275elementStart"](1,"span",202),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",203),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Ma(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",201),a["\u0275\u0275elementStart"](1,"span",202),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",203),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",204),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Oa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",205),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function Pa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",141),a["\u0275\u0275elementStart"](1,"td",142),a["\u0275\u0275template"](2,Ai,2,1,"div",143),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"td",142),a["\u0275\u0275template"](5,Hi,11,10,"div",144),a["\u0275\u0275template"](6,ea,9,8,"div",144),a["\u0275\u0275template"](7,ra,7,6,"div",144),a["\u0275\u0275template"](8,sa,5,4,"div",144),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",145),a["\u0275\u0275template"](10,ca,2,1,"div",113),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",142),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",142),a["\u0275\u0275text"](15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",146),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",146),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",142),a["\u0275\u0275text"](23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",142),a["\u0275\u0275text"](25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"td",142),a["\u0275\u0275template"](27,ma,3,4,"div",113),a["\u0275\u0275template"](28,pa,3,4,"div",113),a["\u0275\u0275template"](29,ua,6,6,"div",113),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",142),a["\u0275\u0275elementStart"](31,"div",147),a["\u0275\u0275text"](32),a["\u0275\u0275pipe"](33,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"td",142),a["\u0275\u0275text"](35),a["\u0275\u0275pipe"](36,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",142),a["\u0275\u0275text"](38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",142),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td",142),a["\u0275\u0275text"](43),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"td",142),a["\u0275\u0275text"](45),a["\u0275\u0275pipe"](46,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"td",142),a["\u0275\u0275text"](48),a["\u0275\u0275pipe"](49,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"td",142),a["\u0275\u0275text"](51),a["\u0275\u0275pipe"](52,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](53,fa,7,4,"td",148),a["\u0275\u0275template"](54,ha,7,4,"td",148),a["\u0275\u0275template"](55,ya,11,6,"td",148),a["\u0275\u0275template"](56,Ia,13,8,"td",148),a["\u0275\u0275elementStart"](57,"td",149),a["\u0275\u0275template"](58,$a,3,0,"span",150),a["\u0275\u0275template"](59,Fa,4,0,"span",150),a["\u0275\u0275template"](60,Da,3,0,"span",150),a["\u0275\u0275template"](61,Ma,4,0,"span",150),a["\u0275\u0275template"](62,Oa,1,0,"img",151),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",i+1," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&"ho1"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](13,34,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](18,36,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](21,38,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batchDetail[0].material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho1"===r.sessionData.workType||"field"===r.sessionData.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!("ho"!==r.sessionData.type||null!==r.sessionData.workType&&""!==r.sessionData.workType||n.batchDetail[0].mrp2||n.batchDetail[0].mrp3||n.batchDetail[0].mrp4)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)&&(n.batchDetail[0].mrp2||n.batchDetail[0].mrp3||n.batchDetail[0].mrp4)),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](33,40,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](36,43,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,46,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](46,49,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](49,52,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](52,55,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",1===n.hoStatus&&"ho"===r.sessionData.type&&"ho1"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus&&"ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus&&"field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function Ta(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",10),a["\u0275\u0275elementStart"](1,"div",137),a["\u0275\u0275elementStart"](2,"div",138),a["\u0275\u0275elementStart"](3,"table",66),a["\u0275\u0275elementStart"](4,"tr"),a["\u0275\u0275elementStart"](5,"th",67),a["\u0275\u0275text"](6,"SNo."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",67),a["\u0275\u0275text"](8,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",67),a["\u0275\u0275text"](10,"Attachment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",67),a["\u0275\u0275text"](12,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",67),a["\u0275\u0275text"](14,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",67),a["\u0275\u0275text"](16,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",67),a["\u0275\u0275text"](18,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",67),a["\u0275\u0275text"](20,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",67),a["\u0275\u0275text"](22,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",67),a["\u0275\u0275text"](24,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",67),a["\u0275\u0275text"](26,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",67),a["\u0275\u0275text"](28,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",67),a["\u0275\u0275text"](30,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",67),a["\u0275\u0275text"](32,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",67),a["\u0275\u0275text"](34,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"th",67),a["\u0275\u0275text"](36,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"th",67),a["\u0275\u0275text"](38,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"th",67),a["\u0275\u0275text"](40,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,Pi,2,0,"th",139),a["\u0275\u0275template"](42,Ti,2,0,"th",139),a["\u0275\u0275template"](43,Ri,2,0,"th",139),a["\u0275\u0275template"](44,Ni,2,0,"th",139),a["\u0275\u0275elementStart"](45,"th",67),a["\u0275\u0275text"](46,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](47,Pa,63,58,"tr",140),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](41),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","ho"===n.sessionData.type&&(null===n.sessionData.workType||""===n.sessionData.workType)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function Ra(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",206),a["\u0275\u0275elementStart"](1,"div",207),a["\u0275\u0275elementStart"](2,"div",208),a["\u0275\u0275elementStart"](3,"input",209),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().toggleCheckboxAll(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"label",210),a["\u0275\u0275text"](5,"Select/Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",211),a["\u0275\u0275elementStart"](7,"button",212),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().acceptAll()}),a["\u0275\u0275text"](8,"Accept Selected Claims"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Na(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",213),a["\u0275\u0275elementStart"](1,"div",214),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",215),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Total Amount: ",a["\u0275\u0275pipeBind2"](5,2,n.totalAmount,"1.2-2")," ")}}function ja(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",222),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function Aa(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",223),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function Ba(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",124),a["\u0275\u0275elementStart"](1,"h4",125),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",216),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",217),a["\u0275\u0275template"](7,ja,1,2,"pdf-viewer",218),a["\u0275\u0275template"](8,Aa,1,2,"img",219),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",127),a["\u0275\u0275elementStart"](10,"button",220),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",221),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Qa(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",124),a["\u0275\u0275elementStart"](1,"h4",125),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",216),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",224),a["\u0275\u0275elementStart"](7,"input",225,226),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",127),a["\u0275\u0275elementStart"](10,"button",227),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",221),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}function Ua(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function La(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ya(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Va(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function qa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function za(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function Ha(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function Ja(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function Wa(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function Ga(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function Za(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",229),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}function Ka(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",230),a["\u0275\u0275elementStart"](1,"td",149),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",149),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",149),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",149),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distInvoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distInvQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.distRemnQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.totalSaleQuantity)}}function Xa(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",117),a["\u0275\u0275text"](1,"Distributor"),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3,"Invoice No."),a["\u0275\u0275elementEnd"]())}function er(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"td",117),a["\u0275\u0275text"](1,"Distributor"),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3,"Invoice QTY."),a["\u0275\u0275elementEnd"]())}function tr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",149),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.allotedHoInvoiceQty[0].distInvoice)}}function nr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",149),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.allotedHoInvoiceQty[0].distInvQty)}}function ir(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",230),a["\u0275\u0275template"](1,tr,2,1,"td",231),a["\u0275\u0275template"](2,nr,2,1,"td",231),a["\u0275\u0275elementStart"](3,"td",149),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",149),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",149),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",149),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkInvoiceQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.stkRemnQty),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.totalSaleQuantity)}}function ar(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",228),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",228),a["\u0275\u0275element"](4,"input",232),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",228),a["\u0275\u0275text"](6),a["\u0275\u0275pipe"](7,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",228),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate"]("value",i),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](7,4,n.mrp,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](10,7,n.pts,"1.2-2")," ")}}var rr=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.c,this.heading="Approval",this.subheading="To approve the claim sent by the stockist.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - Jan"},{id:2,name:"02 - Feb"},{id:3,name:"03 - Mar"},{id:4,name:"04 - Apr"},{id:5,name:"05 - May"},{id:6,name:"06 - Jun"},{id:7,name:"07 - Jul"},{id:8,name:"08 - Aug"},{id:9,name:"09 - Sep"},{id:10,name:"10 - Oct"},{id:11,name:"11 - Nov"},{id:12,name:"12 - Dec"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.categories=[],this.particulars=[],this.clickedFile=[],this.batchPrices=[],this.tempRecords=[],this.sessionData="",this.selectedFields=[],this.divisions_edit=[],this.alignedStockiest=[],this.pdfSource="",this.salesAndRemainings=[],this.allotedInvoiceQty=[],this.allotedHoInvoiceQty=[],this.allotedQty=0,this.hoAllotedQty=0,this.requestedQty=0,this.displayStyle="none",this.approvalClickedClaim=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[],this.totalAmount=0}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.heading="ho"===this.sessionData.type?"HO Approval":"Field Approval";var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});parseInt(n)-1<=0?(this.selectedYear=parseInt(i)-1,this.selectedMonth=12):(this.selectedYear=i,this.selectedMonth=parseInt(n)),this.selectedFields.month=this.selectedMonth,this.selectedFields.year=this.selectedYear,this.selectedFields.division=0,this.selectedFields.type=0,this.getDistributors(),this.getParticulars(),this.getCategories(),this.getProduct(),this.getBatch(),this.delay(1e3).then(function(t){e.isDistributors()})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.isDistributors=function(){var e=this;this.distributors[0]?this.getUserDistStockistDivision():(this.getDistributors(),this.delay(1e3).then(function(t){e.isDistributors()}))},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&(t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions}),e.selectedFields.distributor=parseInt(e.userDistributors[0].plant),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions())})},e.prototype.getStockiest=function(){var e=this,t=this.selectedFields.distributor,n=this.userPlantStockists[t],i=[];n.forEach(function(e){i.push(Number(e))}),this.apiService.post("/api/getStockiest",i).subscribe(function(i){200===i.status&&i.data.length&&(e.stockiests=i.data,n.includes(t.toString())&&e.stockiests.push({customerId:1,organization:"-- SELF --"}),e.selectedFields.stockiest=parseInt(e.stockiests[0].customerId),$("#stockiest_loader").hide(),$("#stockiest").show(),e.getData())})},e.prototype.getDivisions=function(){var e=this;this.divisions=[];var t=[];this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data,e.divisions_edit=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],this.totalAmount=0;var t=[];this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/claimForApproval",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,divisions:t,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(t){200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,(e.selectedFields.type||e.selectedFields.division)&&e.filterDataTwice(e.selectedFields.type,e.selectedFields.division),e.tempRecords.forEach(function(t){e.totalAmount=e.totalAmount+t.amount}),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getCategories=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.categories=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.validateMonth=function(e,t){$("#err_month").hide(),this.selectedFields.month>this.currentMonth&&this.selectedFields.year>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e,t)},e.prototype.searchParticulars=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a,r=this;return Object(c.d)(this,function(o){switch(o.label){case 0:return n=e.currentTarget.value,i=-1===t?"def":t,"Tab"==e.key?[3,4]:(console.log("inputVal.length--",n.length),n.length>2?($("#particulars_loader_"+i).show(),[4,this.matchParticulars(n,t)]):[3,2]);case 1:return a=o.sent(),console.log("results--",a),this.delay(200).then(function(e){console.log("results2--",a),r.particularsSuggestions(a,n,t)}),[3,3];case 2:$("#particulars_suggestion_"+i).hide(),o.label=3;case 3:return[3,5];case 4:n.length<=0&&($("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()),o.label=5;case 5:return[2]}})})},e.prototype.matchParticulars=function(e,t){var n=this,i=e.toLowerCase();return this.apiService.get("/api/particulars",i).subscribe(function(e){n.particulars=200===e.status&&e.data.length?e.data:[]}),this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(i)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#particulars_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#particulars_"+i).val(""):1==r.length?($("#particulars_"+i).val(r[0].input),$("#particulars_suggestion_"+i).hide()):(a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show()),$("#particulars_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide(),$("#particulars_loader_"+n).hide()},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.categories.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#category_"+i).val(""):1==r.length?$("#category_"+i).val(r[0].input):(a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show()),$("#category_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide()},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide(),$("#category_loader_"+n).show()},e.prototype.searchDivision=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_division_id").val(""),$("#edit_product").val(""),$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_division_loader").show(),t=this.matchDivision(i),this.delay(10).then(function(e){n.divisionSuggestions(t,i)})):$("#edit_division_suggestion").hide()},e.prototype.matchDivision=function(e){var t=e.toLowerCase();return this.divisions_edit.filter(function(e){return e.name.toLowerCase().indexOf(t)>-1})},e.prototype.divisionSuggestions=function(e,t){var n=document.querySelector("#edit_division_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.name.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_division_suggestion").show(),$("#edit_division_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide(),$("#edit_division_loader").hide())},e.prototype.divisionSelection=function(e){var t,n=document.querySelector("#edit_division_suggestion ul");$("#edit_division").val(e.target.innerText),(t=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",t),$("#edit_division_id").val("")):$("#edit_division_id").val(t[0].division),n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide()},e.prototype.searchProduct=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_product_loader").show(),t=this.matchProduct(i),this.delay(10).then(function(e){n.productSuggestions(t,i)})):$("#edit_product_suggestion").hide()},e.prototype.matchProduct=function(e){var t=e.toLowerCase(),n=$("#edit_division_id").val();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(t)>-1&&e.division===Number(n)})},e.prototype.productSuggestions=function(e,t){var n=document.querySelector("#edit_product_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.materialName.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_product_suggestion").show(),$("#edit_product_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_product_suggestion").hide(),$("#edit_product_loader").hide())},e.prototype.productSelection=function(e){var t=[];t=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var n="";t.length>1?t.forEach(function(e,i){n+=i+1==t.length?e.material:e.material+","}):n=t[0].material;var i=document.querySelector("#edit_product_suggestion ul");i.innerHTML="",i.classList.remove("has-suggestions"),$("#edit_product").val(e.target.innerText),$("#edit_material").val(n),$("#edit_product_suggestion").hide()},e.prototype.searchBatch=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_batch_loader").show(),t=this.matchBatch(i),this.delay(10).then(function(e){n.batchSuggestions(t,i)})):$("#edit_batch_suggestion").hide()},e.prototype.matchBatch=function(e){var t=this,n=e.toLowerCase(),i=$("#edit_division_id").val(),a=$("#edit_material").val().split(","),r=[];return a.forEach(function(e){var a;(a=t.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(i)&&t.batch.toLowerCase().indexOf(n)>-1})).length&&r.push(a)}),r},e.prototype.batchSuggestions=function(e,t){var n=document.querySelector("#edit_batch_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){e.forEach(function(e){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(n.innerHTML+="<li>"+i.input+"</li>")})}),n.classList.add("has-suggestions"),$("#edit_batch_suggestion").show(),$("#edit_batch_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide(),$("#edit_batch_loader").hide())},e.prototype.batchSelection=function(e){var t=document.querySelector("#edit_batch_suggestion ul");$("#edit_batch").val(e.target.innerText),t.innerHTML="",t.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide();var n=this.batches.filter(function(t){return t.batch===e.target.innerText}),i=n.length?n[0].mrp:0,a=n.length?n[0].pts:0,r=n.length?n[0].ptr:0,o=n.length?n[0].ptd:0,l=n.length?n[0].material:"";$("#edit_material").val(l),$("#edit_mrp").val(i.toFixed(2)),$("#edit_pts").val(a.toFixed(2)),$("#edit_ptr").val(r.toFixed(2)),$("#edit_ptd").val(o.toFixed(2))},e.prototype.filterData=function(e,t){var n=this;this.loading=!0,this.showData=!0,this.selectedFields[t]="type"===t?e:parseInt(e),$("#divisionCode").text(""),"distributor"===t&&(this.selectedFields.type=0,this.selectedFields.division=0,this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){n.getData()})),"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type=0,this.selectedFields.division=0,this.getData());var i=this.selectedFields.type,a=this.selectedFields.division;if(a){var r=this.divisions.filter(function(e){return e.division==Number(a)})[0].division;$("#divisionCode").text("("+r+")")}i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionId===Number(a)}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionId===Number(a)}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.validateApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a,r,o,l,s,d,m,p,u=this;return Object(c.d)(this,function(f){switch(f.label){case 0:return n="",this.allotedQty=0,this.allotedInvoiceQty=[],this.salesAndRemainings=[],this.allotedHoInvoiceQty=[],this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=f.sent(),console.log("claim-----",i),!i)return H.a.fire("Sorry","Clam doesn't exists.","error"),[2];if("ho"===this.sessionData.type&&"ho1"!=this.sessionData.workType&&0!=i.ho1Status)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t)if("ho"===this.sessionData.type&&"ho1"===this.sessionData.workType){if(1===i.ho1Status)return H.a.fire("Oops... can't proceed","This claim has already been approved.","error"),[2]}else{if(1===i.hoStatus)return H.a.fire("Oops... can't proceed","This claim has already been approved.","error"),[2];if(0==$("#batchMrp_selected_"+e._id).val())return H.a.fire("Oops... can't proceed","There is more than one price in this batch.<br>Please confirm price first.","error"),[2];a=!1,r=!1,i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>",(o=$("#particulars_"+e._id).val())?(this.particulars.forEach(function(e){o!==e.name||(r=!0)}),r?i.particulars=o:n+="Particulars not matched.<br>"):n+="Enter particulars.<br>",(l=$("#category_"+e._id).val())?(this.categories.forEach(function(e){l!==e.name||(a=!0)}),a?i.category=l:n+="Category not matched.<br>"):n+="Enter category.<br>",(m=$("#sproof_"+e._id).val())?i.supplyProof=m:n+="Select supply proof.<br>",(p=$("#porder_"+e._id).val())?i.purchaseOrder=p:n+="Select purchase order.<br>"}else if("Unapprove"===t)if("ho"===this.sessionData.type&&"ho1"===this.sessionData.workType){if(2===i.ho1Status)return H.a.fire("Oops... can't proceed","This claim has already been unapproved.","error"),[2];i.ho1Status=2,i.ho1ActionBy=this.sessionData.id,i.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else{if(2===i.hoStatus)return H.a.fire("Oops... can't proceed","This claim has already been unapproved.","error"),[2];s=$("#particulars_"+e._id).val(),i.particulars=s,d=$("#category_"+e._id).val(),i.category=d,m=$("#sproof_"+e._id).val(),i.supplyProof=m,p=$("#porder_"+e._id).val(),i.purchaseOrder=p,i.hoStatus=2,i.hoActionBy=this.sessionData.id,i.hoActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}return n?(H.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}),[3,8]):[3,2];case 2:return this.approvalClickedClaim=i,"Unapprove"!==t?[3,3]:($("#comments").val(""),document.getElementById("myModalComment").style.display="block",[3,8]);case 3:return[4,this.checkDuplicacy(this.approvalClickedClaim)];case 4:return f.sent().data?(H.a.fire({title:"Pay attention",text:"Such claim has already been accepted!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, submit it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(u,void 0,void 0,function(){var t,n,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return e.value?[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)]:[3,2];case 1:return t=r.sent(),"ho1"===this.sessionData.workType&&t.length?(n={_id:i._id,ho1Status:1,ho1ApprovalComment:null,ho1ActionBy:this.sessionData.id,ho1ActionOn:Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")},this.apiService.post("/api/claim/updateClaim",n).subscribe(function(e){200===e.status?H.a.fire("Approved!","You approved the claim successfully.","success"):H.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+i._id).hide(),$("#def_unapprovedIcon_"+i._id).hide(),$("#approvedIcon_"+i._id).show(),$("#unapprovedIcon_"+i._id).hide()})):(t.length&&t.forEach(function(e){return Object(c.b)(a,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?a.getRemaining(i):H.a.fire("Oops","Something went wrong please try again.","error")})),[3,3];case 2:e.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),r.label=3;case 3:return[2]}})})}),[2]):[3,5];case 5:return"ho1"!==this.sessionData.workType||1!==i.hoStatus||0!==i.ho1Status?[3,6]:(i.ho1Status=1,i.ho1ActionBy=this.sessionData.id,i.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+u.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+u.approvalClickedClaim._id).hide(),$("#approvedIcon_"+u.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+u.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Oops","Something went wrong please try again.","error")}),[3,8]);case 6:return[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)];case 7:f.sent().length&&"ho1"===this.sessionData.workType?(i.ho1Status=1,i.ho1ActionBy=this.sessionData.id,i.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+u.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+u.approvalClickedClaim._id).hide(),$("#approvedIcon_"+u.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+u.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Oops","Something went wrong please try again.","error")})):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(e){200===e.status?u.getRemaining(i):H.a.fire("Oops","Something went wrong please try again.","error")}),f.label=8;case 8:return[2]}})})},e.prototype.getStockiest_edit=function(){var e=this,t=[],n=$("#edit_distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.getDivisions_edit(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#edit_stockiest").val($("#edit_stockiest option:eq(1)").val())}))})},e.prototype.getDivisions_edit=function(){var e=this,t=[];this.divisions=[];var n=$("#edit_distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions_edit=t.data)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(),H.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:Re().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.validateFoApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i;return Object(c.d)(this,function(a){switch(a.label){case 0:return n="",this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=a.sent()){if("field"===this.sessionData.type&&"field"===this.sessionData.workType&&0!=i.suhStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("field"===this.sessionData.type&&"suh"===this.sessionData.workType&&0!=i.hoStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t){if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(1===i.ftStatus)return H.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.ftStatus=1,i.ftApprovalComment=null,i.ftActionBy=this.sessionData.id,i.ftActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error"),[2];if(1===i.suhStatus)return H.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.suhStatus=1,i.suhApprovalComment=null,i.suhActionBy=this.sessionData.id,i.suhActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>"}else if("Unapprove"===t)if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(2===i.ftStatus)return H.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.ftStatus=2,i.ftActionBy=this.sessionData.id,i.ftActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.suhStatus)return H.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.suhStatus=2,i.suhActionBy=this.sessionData.id,i.suhActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}}else n+="Clam doesn't exists.<br>";return n?H.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}):"Unapprove"===t?($("#comments").val(""),this.approvalClickedClaim=i,document.getElementById("myModalComment").style.display="block"):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(n){200===n.status?"Approve"===t&&($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).show(),$("#unapprovedIcon_"+e._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Oops","Something went wrong please try again.","error")}),[2]}})})},e.prototype.checkDuplicacy=function(e){var t=this,n={id:e._id,plant:e.plant,batch:e.batch,invoice:e.invoice,material:e.material,customerId:e.customerId};return new Promise(function(e){t.apiService.post("/api/claim/checkDuplicacy",n).subscribe(function(t){e(200===t.status?t:[])})})},e.prototype.findUpdateRemaining=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/remaining/findUpdateRemaining",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.findUpdateHoRemaining=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/remaining/findUpdateHoRemaining",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getRemaining=function(e){return Object(c.b)(this,void 0,void 0,function(){var t,n,i,a,r,o,l,s=this;return Object(c.d)(this,function(d){switch(d.label){case 0:return console.log("demand--",e),this.allotedHoInvoiceQty=[],t=[],[4,this.getDistributorByPlant(e.plant)];case 1:return(n=d.sent()).length&&n.forEach(function(e){t.push(e.customerId)}),1!==e.customerId?[3,3]:(i=0,[4,this.hoInvoice({customerId:{$in:t},batch:e.batch})]);case 2:return r=d.sent(),console.log("hoInvoice--",r),r[0].length?(r[0].forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,a,r,o,l;return Object(c.d)(this,function(s){return console.log("hoRemaining--",t),i>=e.saleQuantity?(console.log("Break foreach"),[2]):(console.log("Break foreach else"),a=e.saleQuantity-i,r=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit,console.log(a,r),i+=n=r>=e.saleQuantity?a:a>=r?r:a,l={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:t.billDocNumber,distInvQty:t.saleUnit,stkInvoice:"",stkInvoiceQty:"",distRemnQty:r-n,stkRemnQty:"",hdnStkRemnQty:r,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:o=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*o/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*o/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},console.log("claimData--",l),this.allotedHoInvoiceQty.push(l),[2])})})}),this.allotedHoInvoiceQty&&(this.hoAllotedQty=i,this.requestedQty=e.saleQuantity,this.openSelfPopup())):H.a.fire("Oops... can't proceed","The distributor has no stock of this batch/material.","error"),[3,6];case 3:return a=0,[4,this.hoInvoice({customerId:{$in:t},batch:e.batch})];case 4:return(r=d.sent())[0].forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,i,r,o,l;return Object(c.d)(this,function(s){return a>=e.saleQuantity?(console.log("Break foreach"),[2]):(console.log("Break foreach else"),n=0,i=e.saleQuantity-a,(r=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit)&&(n=r>=e.saleQuantity?i:i>=r?r:i),a+=n,l={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:t.billDocNumber,distInvQty:t.saleUnit,stkInvoice:"",stkInvoiceQty:"",distRemnQty:r-n,stkRemnQty:"",hdnStkRemnQty:r,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:o=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*o/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*o/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},this.allotedHoInvoiceQty.push(l),[2])})})}),[4,this.salesAndRemainingQuantity({customerId:e.customerId,batch:e.batch})];case 5:o=d.sent(),console.log("salesAndRemainingQuantity--",o),o.length?(l=0,this.salesAndRemainings.push(o),o.forEach(function(t){return Object(c.b)(s,void 0,void 0,function(){var n,i,a,r,o;return Object(c.d)(this,function(s){return l>=e.saleQuantity?(console.log("Break foreach"),[2]):(i=e.saleQuantity-l,a=t.remainingData.length?t.remainingData[0].quantity:t.saleUnit,console.log("requiredQty--",i,a),l+=n=a>=e.saleQuantity?i:i>=a?a:i,o={claimId:e._id,customerId:e.customerId,invoice:e.invoice,batch:t.batch,division:t.divisionName,product:t.materialDesc,material:t.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:t.billDocNumber,stkInvoiceQty:t.saleUnit,stkRemnQty:a-n,hdnStkRemnQty:a,mrp:t.mrp,pts:t.pts,billingRate:e.billingRate,margin:r=e.margin?e.margin:10,freeQuantity:e.freeQuantity,saleQuantity:n,difference:(t.pts-e.billingRate).toFixed(2),totalDifference:(t.pts-e.billingRate+e.billingRate*r/100).toFixed(2),amount:((t.pts-e.billingRate+e.billingRate*r/100)*n).toFixed(2),totalSaleQuantity:n,ptd:t.ptd,totalPtdAmt:(t.ptd*n).toFixed(2),image:""},this.allotedInvoiceQty.push(o),[2])})})}),a<=0&&(this.allotedHoInvoiceQty=[],$("#stockistMod").css("width","515px"),console.log("this.allotedHoInvoiceQty--",this.allotedHoInvoiceQty)),this.allotedInvoiceQty&&(this.allotedQty=l,this.requestedQty=e.saleQuantity,this.openPopup())):H.a.fire("Oops... can't proceed","The stockist has no stock of this batch/material.","error"),console.log("allotedInvoiceQty---",this.allotedInvoiceQty),d.label=6;case 6:return[2]}})})},e.prototype.hoInvoice=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/ho/invoice",e).subscribe(function(e){n(200===e.status&&e.data?[e.data]:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getDistributorByPlant=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getCustomer",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getClaimById=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getClaim",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data[0]:[])})})},e.prototype.openPopup=function(){this.displayStyle="block"},e.prototype.closePopup=function(){this.displayStyle="none"},e.prototype.openSelfPopup=function(){document.getElementById("modalSelf").style.display="block"},e.prototype.closeSelfPopup=function(){document.getElementById("modalSelf").style.display="none"},e.prototype.approveSelf=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return this.requestedQty>this.hoAllotedQty?(H.a.fire({title:"Are you sure want to approve?",text:"Only "+this.hoAllotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(a,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return e.value?[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)]:[3,2];case 1:return t.sent(),this.closeSelfPopup(),[3,3];case 2:e.dismiss===H.a.DismissReason.cancel&&(H.a.fire("Cancelled","Your record is safe :)","error"),this.closeSelfPopup()),t.label=3;case 3:return[2]}})})}),[3,3]):[3,1];case 1:return[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)];case 2:r.sent(),e=0,t=this.approvalClickedClaim.pts,n=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?e=t*this.hoAllotedQty:n&&(e=(t-(i=this.approvalClickedClaim.billingRate)+i*this.approvalClickedClaim.margin/100)*this.hoAllotedQty),this.approvalClickedClaim.approvedQty=this.hoAllotedQty,this.approvalClickedClaim.approvedAmount=e,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+a.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+a.approvalClickedClaim._id).hide(),$("#approvedIcon_"+a.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+a.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closeSelfPopup(),r.label=3;case 3:return[2]}})})},e.prototype.allocateHoQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateHoQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.approve=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return this.requestedQty>this.allotedQty?(H.a.fire({title:"Are you sure want to approve?",text:"Only "+this.allotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(e){return Object(c.b)(a,void 0,void 0,function(){var t,n,i,a,r=this;return Object(c.d)(this,function(o){switch(o.label){case 0:return e.value?[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)]:[3,3];case 1:return o.sent(),[4,this.allocateQuantity(this.allotedInvoiceQty)];case 2:return o.sent(),t=0,n=this.approvalClickedClaim.pts,i=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?t=n*this.allotedQty:i&&(t=(n-(a=this.approvalClickedClaim.billingRate)+a*this.approvalClickedClaim.margin/100)*this.allotedQty),this.approvalClickedClaim.approvedQty=this.allotedQty,this.approvalClickedClaim.approvedAmount=t,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),console.log("this.approvalClickedClaim--",this.approvalClickedClaim),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+r.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+r.approvalClickedClaim._id).hide(),$("#approvedIcon_"+r.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+r.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),[3,4];case 3:e.dismiss===H.a.DismissReason.cancel&&(H.a.fire("Cancelled","Your record is safe :)","error"),this.closePopup()),o.label=4;case 4:return[2]}})})}),[3,4]):[3,1];case 1:return[4,this.allocateHoQuantity(this.allotedHoInvoiceQty)];case 2:return r.sent(),[4,this.allocateQuantity(this.allotedInvoiceQty)];case 3:r.sent(),e=0,t=this.approvalClickedClaim.pts,n=this.approvalClickedClaim.saleQuantity,this.approvalClickedClaim.freeQuantity?e=t*this.allotedQty:n&&(e=(t-(i=this.approvalClickedClaim.billingRate)+i*this.approvalClickedClaim.margin/100)*this.allotedQty),this.approvalClickedClaim.approvedQty=this.allotedQty,this.approvalClickedClaim.approvedAmount=e,"ho"===this.sessionData.type&&"ho1"===this.sessionData.workType?(this.approvalClickedClaim.ho1Status=1,this.approvalClickedClaim.ho1ActionBy=this.sessionData.id,this.approvalClickedClaim.ho1ActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(this.approvalClickedClaim.hoStatus=1,this.approvalClickedClaim.hoActionBy=this.sessionData.id,this.approvalClickedClaim.hoActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),console.log("this.approvalClickedClaim--",this.approvalClickedClaim),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+a.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+a.approvalClickedClaim._id).hide(),$("#approvedIcon_"+a.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+a.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),r.label=4;case 4:return[2]}})})},e.prototype.allocateQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getAllocatedQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.allocatedHoQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedHoQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.editRecord=function(e){return Object(c.b)(this,void 0,void 0,function(){var t;return Object(c.d)(this,function(n){switch(n.label){case 0:return[4,this.getClaimById(e._id)];case 1:if(t=n.sent(),"field"===this.sessionData.type&&"field"===this.sessionData.workType){if(0!=t.suhStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2]}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0!=t.hoStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2]}else if("ho"===this.sessionData.type){if(0!=t.ho1Status)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];1===t.hoStatus&&H.a.fire("Sorry","You have accepted this claim, if you update it you will need to accept or reject this claim again.","info")}return $("#edit_id").val(e._id),$("#edit_distributor").val(e.plant),$("#edit_stockiest").val(e.customerId),$("#edit_type").val(e.claimType),$("#edit_month").val(e.claimMonth),$("#edit_year").val(e.claimYear),$("#edit_invoice").val(e.invoice),$("#edit_batch").val(e.batch),$("#edit_division").val(e.divisionName),$("#edit_product").val(e.materialName),$("#edit_material").val(e.batchDetail[0].material),$("#edit_mrp").val(e.mrp),$("#edit_pts").val(e.pts),$("#edit_billingRate").val(e.billingRate),$("#edit_margin").val(e.margin),$("#edit_freeQuantity").val(e.freeQuantity),$("#edit_saleQuantity").val(e.saleQuantity),$("#edit_difference").val(e.difference),$("#edit_totalDifference").val(e.totalDifference),$("#edit_amount").val(e.amount),$("#edit_hoStatus").val(e.hoStatus),document.getElementById("myModal").style.display="block",this.validateClaim(),[2]}})})},e.prototype.closeEditModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModal").style.display="none"},e.prototype.closeCommentModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModalComment").style.display="none"},e.prototype.rejectClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i=this;return Object(c.d)(this,function(a){switch(a.label){case 0:return(e=$.trim($("#comments").val()))?"field"!==this.sessionData.type||"field"!==this.sessionData.workType?[3,1]:(this.approvalClickedClaim.ftApprovalComment=e,[3,6]):[3,7];case 1:return"field"!==this.sessionData.type||"suh"!==this.sessionData.workType?[3,2]:(this.approvalClickedClaim.suhApprovalComment=e,[3,6]);case 2:return"ho"!==this.sessionData.type?[3,6]:("ho1"===this.sessionData.workType?this.approvalClickedClaim.ho1ApprovalComment=e:this.approvalClickedClaim.hoApprovalComment=e,this.approvalClickedClaim.approvedAmount=0,this.approvalClickedClaim.approvedQty=0,1!==this.approvalClickedClaim.customerId?[3,4]:[4,this.allocatedHoQuantity(this.approvalClickedClaim._id)]);case 3:return(t=a.sent()).length&&t.forEach(function(e){return Object(c.b)(i,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateHoRemaining({billDocNumber:e.distInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),[3,6];case 4:return[4,this.getAllocatedQuantity(this.approvalClickedClaim._id)];case 5:(n=a.sent()).length&&n.forEach(function(e){return Object(c.b)(i,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:this.approvalClickedClaim.customerId,batch:this.approvalClickedClaim.batch,allocatedQty:e.allocatedQty,claimId:this.approvalClickedClaim._id})];case 1:return t.sent(),[2]}})})}),a.label=6;case 6:return this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(e){200===e.status?H.a.fire("Un-Approved!","You un-approved the claim successfully.","success"):H.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+i.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+i.approvalClickedClaim._id).hide(),$("#approvedIcon_"+i.approvalClickedClaim._id).hide(),$("#unapprovedIcon_"+i.approvalClickedClaim._id).show(),i.closeCommentModal()}),[3,8];case 7:H.a.fire("Sorry","Please write the reason for rejection.","error"),a.label=8;case 8:return[2]}})})},e.prototype.closeUpdateCommentModal=function(){document.getElementById("updateModalComment").style.display="none"},e.prototype.updateCommentClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t,n,i,a,r,o=this;return Object(c.d)(this,function(l){switch(l.label){case 0:return(e=$.trim($("#update_comments").val()))?(t=$("#edit_id").val(),n=$("#edit_stockiest").val(),i=$("#edit_batch").val(),a={_id:t,plant:$("#edit_distributor").val(),customerId:n,claimType:$("#edit_type").val(),claimMonth:$("#edit_month").val(),claimYear:$("#edit_year").val(),invoice:$("#edit_invoice").val(),batch:i,divisionName:$("#edit_division").val(),material:$("#edit_material").val(),materialName:$("#edit_product").val(),mrp:$("#edit_mrp").val(),pts:$("#edit_pts").val(),ptr:$("#edit_ptr").val(),ptd:$("#edit_ptd").val(),billingRate:$("#edit_billingRate").val(),margin:$("#edit_margin").val(),freeQuantity:$("#edit_freeQuantity").val(),saleQuantity:$("#edit_saleQuantity").val(),difference:$("#edit_difference").val(),totalDifference:$("#edit_totalDifference").val(),amount:$("#edit_amount").val()},"field"===this.sessionData.type&&"field"===this.sessionData.workType?(a.ftUpdateComment=e,a.ftActionBy=this.sessionData.id,a.ftActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):"field"===this.sessionData.type&&"suh"===this.sessionData.workType?(a.suhUpdateComment=e,a.suhActionBy=this.sessionData.id,a.suhActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")):(a.hoUpdateComment=e,a.hoActionBy=this.sessionData.id,a.hoActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")),1!=$("#edit_hoStatus").val()?[3,2]:(a.hoStatus=0,a.approvedQty=0,a.approvedAmount=0,[4,this.getAllocatedQuantity(t)])):[3,3];case 1:(r=l.sent()).length&&r.forEach(function(e){return Object(c.b)(o,void 0,void 0,function(){return Object(c.d)(this,function(a){switch(a.label){case 0:return[4,this.findUpdateRemaining({billDocNumber:e.stkInvoiceNo,billToParty:n,batch:i,allocatedQty:e.allocatedQty,claimId:t})];case 1:return a.sent(),[2]}})})}),l.label=2;case 2:return this.apiService.post("/api/claim/updateClaim",a).subscribe(function(e){200===e.status?(o.toast("success","Successfully updated."),o.getData(),setTimeout(function(){o.closeUpdateCommentModal(),o.closeEditModal()},2e3)):o.toast("error","Something went wrong. Try refreshing the page or try again later.")}),[3,4];case 3:H.a.fire("Sorry","Please write the reason for update.","error"),l.label=4;case 4:return[2]}})})},e.prototype.changeCalculation=function(e){$("#edit_freeQuantity").attr("readonly",!1),$("#edit_billingRate").removeClass("grf-invalid"),$("#edit_freeQuantity").removeClass("grf-invalid"),$("#edit_saleQuantity").removeClass("grf-invalid");var t=$("#edit_billingRate").val(),n=$("#edit_freeQuantity").val(),i=$("#edit_saleQuantity").val(),a=/^\d*\.?\d*$/;if(a.test(t)||$("#edit_billingRate").addClass("grf-invalid"),a.test(n)||$("#edit_freeQuantity").addClass("grf-invalid"),a.test(i)||$("#edit_saleQuantity").addClass("grf-invalid"),0==t)if($("#edit_margin").val(0),n){var r=$("#edit_pts").val()*n;$("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(r.toFixed(2))}else $("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(Number(0).toFixed(2));else if($("#edit_freeQuantity").val(""),$("#edit_freeQuantity").attr("readonly",!0),t&&i){""!=$("#edit_margin").val()&&0!=$("#edit_margin").val()||$("#edit_margin").val(10);var o=$("#edit_margin").val(),l=$("#edit_pts").val()-t,s=l+t*o/100;r=s*i,$("#edit_difference").val(l.toFixed(2)),$("#edit_totalDifference").val(s.toFixed(2)),$("#edit_amount").val(r.toFixed(2))}},e.prototype.validateClaim=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass");var e=0,t=$("#edit_stockiest").val(),n=$("#edit_type").val(),i=$("#edit_month").val(),a=$("#edit_year").val(),r=$("#edit_invoice").val(),o=$("#edit_batch").val(),l=$("#edit_division").val(),s=$("#edit_product").val(),d=$("#edit_material").val(),c=$("#edit_mrp").val(),m=$("#edit_pts").val(),p=$("#edit_billingRate").val(),u=$("#edit_freeQuantity").val(),f=$("#edit_amount").val();t||(e=1,$("#edit_stockiest").addClass("errorClass")),n||(e=1,$("#edit_type").addClass("errorClass")),i||(e=1,$("#edit_month").addClass("errorClass")),a||(e=1,$("#edit_year").addClass("errorClass")),r||(e=1,$("#edit_invoice").addClass("errorClass")),o||(e=1,$("#edit_batch").addClass("errorClass")),l||(e=1,$("#edit_batch").addClass("errorClass")),s||(e=1,$("#edit_batch").addClass("errorClass")),d||(e=1,$("#edit_batch").addClass("errorClass")),c||(e=1,$("#edit_batch").addClass("errorClass")),m||(e=1),p<0&&(e=1,$("#edit_batch").addClass("errorClass"),$("#edit_billingRate").addClass("errorClass")),f<=0&&(e=1,$("#edit_amount").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),$("#edit_error").val(e)},e.prototype.updateClaim=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(e){return this.validateClaim(),0!=$("#edit_error").val()?this.toast("error","Something is wrong please fix before updating."):($("#update_comments").val(""),document.getElementById("updateModalComment").style.display="block"),[2]})})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){this.clickedRecord=e,document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.showMrp=function(e,t,n){var i=this;$("#batchMrp_id").val(""),this.batchPrices=[],e.forEach(function(e){e.material===t&&(i.batchPrices.push({mrp:e.mrp,pts:e.pts}),e.mrp2&&i.batchPrices.push({mrp:e.mrp2,pts:e.pts2}),e.mrp3&&i.batchPrices.push({mrp:e.mrp3,pts:e.pts3}),e.mrp4&&i.batchPrices.push({mrp:e.mrp4,pts:e.pts4}))}),$("#batchMrp_id").val(n),document.getElementById("modalBatchPrice").style.display="block"},e.prototype.closeBatchPriceModal=function(){document.getElementById("modalBatchPrice").style.display="none"},e.prototype.confirmBatchPrice=function(){var e=this,t=$("#batchMrp_id").val(),n=$('input[name="batchMrp"]:checked').val();this.apiService.post("/api/claim/updateClaim",{_id:t,mrp:this.batchPrices[n].mrp,pts:this.batchPrices[n].pts}).subscribe(function(i){200===i.status?($("#err_batchMrp_"+t).text(parseFloat(e.batchPrices[n].mrp).toFixed(2)),$("#pts_"+t).text(parseFloat(e.batchPrices[n].pts).toFixed(2)),$("#batchMrp_selected_"+t).val(1),e.closeBatchPriceModal(),H.a.fire("MRP PTS","Updated successfully.","success")):(e.closeBatchPriceModal(),H.a.fire("Oops","Something went wrong please try again.","error"))})},e.prototype.toggleCheckboxAll=function(e){var t=e.target.checked;console.log("checked--",t),$(".selectedId").prop("checked",t)},e.prototype.changeCheckbox=function(e){var t=$(".selectedId").filter(":checked").length==$(".selectedId").length;console.log("check--",t),$("#selectall").prop("checked",t)},e.prototype.acceptAll=function(){var e=$(".selectedId:checked"),t=e.length;if(t>0){var n=this.sessionData.id,i=this.apiService,a=0,r=0;e.each(function(e,o){var l={_id:o.value,suhStatus:1,suhApprovalComment:null,suhActionBy:n,suhActionOn:Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")};i.post("/api/claim/updateClaim",l).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+o.value).hide(),$("#def_unapprovedIcon_"+o.value).hide(),$("#approvedIcon_"+o.value).show(),$("#unapprovedIcon_"+o.value).hide()):r=1}),++a===t&&(r?H.a.fire("Notice","Unable to accept some claims. <br> Please check it manually.","warning"):H.a.fire("Approved!","You approved the claim successfully.","success"))})}else H.a.fire("Notice","Please check at least one checkbox to proceed.","warning")},e.prototype.rejectAll=function(){var e=$(".selectedId:checked"),t=e.length;if(t>0){var n=this.sessionData.id,i=this.apiService,a=0,r=0;e.each(function(e,o){var l={_id:o.value,suhStatus:0,suhApprovalComment:null,suhActionBy:n,suhActionOn:Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")};i.post("/api/claim/updateClaim",l).subscribe(function(e){200===e.status?($("#def_approvedIcon_"+o.value).hide(),$("#def_unapprovedIcon_"+o.value).hide(),$("#approvedIcon_"+o.value).show(),$("#unapprovedIcon_"+o.value).hide()):r=1}),++a===t&&(r?H.a.fire("Notice","Unable to accept some claims. <br> Please check it manually.","warning"):H.a.fire("Approved!","You approved the claim successfully.","success"))})}else H.a.fire("Notice","Please check at least one checkbox to proceed.","warning")},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-stockiest-claim"]],decls:347,vars:68,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading",2,"width","50%"],[1,"page-title-icon"],[1,"page-title-subheading"],["id","headLoader",1,"tc",2,"display","none","font-size","14px","font-weight","600","color","#FF0013","letter-spacing","1px"],["src","./../../../assets/images/btn_loader.gif"],["id","pageLoader",2,"position","absolute","width","100%","height","100%","background-color","#F1F4F6","z-index","1","opacity","0.5","display","none"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-lg-3","col-sm-12","cpdlr"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],[1,"col-lg-2","col-sm-12","cpdlr"],["for","type",1,"form-label","fb"],["id","type",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[3,"value"],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[1,"col-lg-1","col-sm-12","cpdlr"],["for","month",1,"form-label","fb"],["id","month",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12","cpdlr"],["class","col-md-12 cpdlr tc","style","color: red;",4,"ngIf"],["class","row",4,"ngIf"],["class","row","style","font-weight: 600;",4,"ngIf"],["class","row","style","font-weight: 600; margin-top: 20px;",4,"ngIf"],["style","width: 1000px;"],["details",""],["uploads",""],["id","myModal",1,"modal"],[1,"modal-content"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body"],[1,"col"],[1,"position-relative","mb-3","required"],["for","edit_distributor",1,"form-label","fb"],["id","edit_distributor",1,"form-select",3,"change"],["value","","disabled","","hidden","","selected",""],["for","edit_stockiest",1,"form-label","fb"],["id","edit_stockiest",1,"form-select",3,"tabIndex","change"],["for","edit_type",1,"form-label","fb"],["id","edit_type",1,"form-select",3,"tabIndex","change"],["value","","disabled","","selected",""],["for","edit_month",1,"form-label","fb"],["id","edit_month",1,"form-select",3,"tabIndex","change"],["for","edit_year",1,"form-label","fb"],["id","edit_year",1,"form-select",3,"tabIndex","change"],["id","table1",1,"table"],[1,"td-head"],["type","text","id","edit_invoice",1,"form-control","grf-am",3,"tabIndex","change"],["type","text","id","edit_division",1,"form-control","grf-am",3,"keyup"],["id","edit_division_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_division_suggestion",1,"suggestions",2,"display","none",3,"click"],["type","hidden","id","edit_division_id"],["type","text","id","edit_product",1,"form-control","grf-am",3,"keyup"],["id","edit_product_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_product_suggestion",1,"suggestions",2,"left","18%","display","none",3,"click"],["type","hidden","id","edit_material"],["type","text","id","edit_batch","autocomplete","off",1,"form-control","grf-am",3,"tabIndex","keyup"],["id","edit_batch_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_batch_suggestion",1,"suggestions",2,"left","26%","display","none",3,"click"],["type","text","id","edit_mrp","disabled","",1,"form-control","grf-am"],["type","text","id","edit_pts","disabled","",1,"form-control","grf-am"],["type","hidden","id","edit_ptr",1,"form-control","grf-am"],["type","hidden","id","edit_ptd",1,"form-control","grf-am"],["type","hidden","id","edit_margin",1,"form-control","grf-am"],["type","text","id","edit_billingRate",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_freeQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_saleQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_difference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_totalDifference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_amount","disabled","",1,"form-control","grf-am",3,"tabIndex"],[1,"modal-footer",2,"padding","5px 15px"],["type","hidden","id","edit_id","value","",1,"form-control"],["type","hidden","id","edit_error","value","0",1,"form-control","grf-am"],["type","hidden","id","edit_hoStatus","value","0",1,"form-control"],["type","button",1,"btn","btn-success",3,"tabIndex","click"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],["id","updateModalComment",1,"modal"],[1,"modal-content",2,"width","380px","margin","auto"],[1,"modal-body",2,"padding-top","22px"],[1,"col-md-12"],["id","update_comments","name","update_comments","rows","4","cols","50"],["id","myModalComment",1,"modal"],["type","hidden","id","comments_id","value",""],["type","hidden","id","comments_batch","value",""],["type","hidden","id","comments_customerId","value",""],["id","comments","name","comments","rows","4","cols","50"],["id","modalComments",1,"modal"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],["id","modalSelf",1,"modal"],[2,"width","720px","overflow-x","auto"],[2,"font-weight","600","height","50px"],[1,"tc",2,"width","120px"],["style","height: 30px;",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog"],["id","stockistMod",1,"modal-content",2,"width","755px","margin","auto"],[1,"modal-header"],[1,"modal-title"],["class","tc","style","width: 120px;",4,"ngIf"],[1,"modal-footer"],["id","modalBatchPrice",1,"modal"],[1,"modal-content",2,"width","435px","margin","auto"],["type","hidden","id","batchMrp_id","value",""],[2,"overflow-x","hidden","margin-bottom","15px"],[2,"padding","0 0 0 5px","text-align","center","width","25%"],[4,"ngFor","ngForOf"],[2,"color","orange","font-size","12px"],[1,"col-md-12","cpdlr","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"col-sm-12","col-md-12","cpdlr"],[1,"table-responsive"],["class","td-head",4,"ngIf"],["class","border-bottom tc","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom","tc",2,"height","35px"],[1,"border-right","tc"],["class","custom-checkbox custom-control form-check","style","padding: 0px 0 0 30px; min-height: auto;",4,"ngIf"],["class","fl",4,"ngIf"],[1,"border-right"],[1,"border-right","tal"],[3,"id"],["class","border-right",4,"ngIf"],[1,"tc"],["style","padding: 0px;",4,"ngIf"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],[1,"custom-checkbox","custom-control","form-check",2,"padding","0px 0 0 30px","min-height","auto"],["type","checkbox","class","form-check-input selectedId","name","language",3,"id","value","checked","change",4,"ngIf"],["type","checkbox","name","language",1,"form-check-input","selectedId",3,"id","value","checked","change"],[1,"fl"],["placement","bottom","ngbTooltip","Accepted by FT","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by FT","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by SUH","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by SUH","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by HO","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by HO","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted","class","legend-bullet mlr8 fl approved",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected","class","legend-bullet mlr8 fl rejected",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Accepted by FT",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by FT",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by SUH",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by SUH",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by HO",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by HO",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",3,"id"],["style","margin:0 2px; cursor: pointer;",4,"ngFor","ngForOf"],[2,"margin","0 2px","cursor","pointer"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[2,"color","#FF0013",3,"id"],["src","./../../../assets/images/question.png",1,"question",3,"click"],["type","hidden","value","0",3,"id"],[1,"inputcontainer"],["type","text","placeholder","Enter Particulars",1,"form-control","tc",2,"width","160px",3,"id","value","keyup"],[1,"icon-container",3,"id"],[1,"loader"],[1,"suggestions",2,"left","52%","display","none",3,"id","click"],["type","text","placeholder","Enter Category",1,"form-control","tc",2,"width","120px",3,"id","value","keyup"],[1,"suggestions",2,"left","61%","display","none",3,"id","click"],[1,"position-relative",2,"padding","0px"],[1,"form-select",3,"id"],["value","yes","selected","",4,"ngIf"],["value","yes",4,"ngIf"],["value","no","selected","",4,"ngIf"],["value","no",4,"ngIf"],["value","yes","selected",""],["value","yes"],["value","no","selected",""],["value","no"],["value","na","selected","",4,"ngIf"],["value","na",4,"ngIf"],["value","na","selected",""],["value","na"],[2,"padding","0px"],["placement","bottom","ngbTooltip","Accept",1,"option-icon","pe-7s-check","iconpe_green",3,"click"],["placement","bottom","ngbTooltip","Reject",1,"option-icon","pe-7s-close-circle","iconpe_red",3,"click"],["placement","bottom","ngbTooltip","Edit",1,"option-icon","pe-7s-edit","iconpe_blue",3,"click"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"font-weight","600"],[1,"col-md-2"],[1,"custom-checkbox","custom-control","form-check"],["type","checkbox","name","selectall","id","selectall",1,"form-check-input",2,"margin","11px 5px 0 -15px",3,"change"],["for","selectall",1,"form-label","form-check-label",2,"cursor","pointer","margin","8px 0 0 0"],[1,"col-md-10"],["type","button",1,"btn","btn-success",2,"margin-right","10px",3,"click"],[1,"row",2,"font-weight","600","margin-top","20px"],[1,"col-md-6","col-sm-6"],[1,"col-md-6","col-sm-6","tar"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"],[2,"height","30px"],["class","tc",4,"ngIf"],["name","batchMrp","type","radio",1,"form-check-input",3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",2),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275element"](11,"img",6),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275text"](13," Processing... Please wait! "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"div",7),a["\u0275\u0275elementStart"](15,"div",8),a["\u0275\u0275elementStart"](16,"div",9),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"label",12),a["\u0275\u0275text"](20,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"ng-select",13),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.distributor=e})("change",function(e){return t.filterData(e,"distributor")}),a["\u0275\u0275template"](22,_i,3,5,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](23,"span",15),a["\u0275\u0275elementStart"](24,"div",16),a["\u0275\u0275element"](25,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",11),a["\u0275\u0275elementStart"](27,"label",18),a["\u0275\u0275text"](28," Stockiest "),a["\u0275\u0275template"](29,ki,3,2,"span",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"ng-select",20),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.stockiest=e})("change",function(e){return t.filterData(e,"stockiest")}),a["\u0275\u0275template"](31,wi,3,4,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementStart"](33,"div",22),a["\u0275\u0275element"](34,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"div",23),a["\u0275\u0275elementStart"](36,"label",24),a["\u0275\u0275text"](37,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"ng-select",25),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.type=e})("change",function(e){return t.filterData(e,"type")}),a["\u0275\u0275elementStart"](39,"ng-option",26),a["\u0275\u0275text"](40," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,Ii,3,4,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](43,"div",23),a["\u0275\u0275elementStart"](44,"label",28),a["\u0275\u0275text"](45,"Division "),a["\u0275\u0275element"](46,"span",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"ng-select",30),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e})("change",function(e){return t.filterData(e,"division")}),a["\u0275\u0275elementStart"](48,"ng-option",26),a["\u0275\u0275text"](49," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](50,$i,3,4,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"div",31),a["\u0275\u0275elementStart"](52,"label",32),a["\u0275\u0275text"](53,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"ng-select",33),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.month=e})("change",function(e){return t.validateMonth(e,"month")}),a["\u0275\u0275template"](55,Fi,2,2,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](56,"span",34),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"div",31),a["\u0275\u0275elementStart"](58,"label",35),a["\u0275\u0275text"](59,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"ng-select",36),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.year=e})("change",function(e){return t.validateMonth(e,"year")}),a["\u0275\u0275template"](61,Di,2,2,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](62,"span",37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"div",10),a["\u0275\u0275elementStart"](64,"div",38),a["\u0275\u0275element"](65,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](66,Mi,4,0,"div",39),a["\u0275\u0275template"](67,Oi,2,0,"div",39),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](68,Ta,48,5,"div",40),a["\u0275\u0275template"](69,Ra,9,0,"div",41),a["\u0275\u0275template"](70,Na,6,5,"div",42),a["\u0275\u0275template"](71,Ba,14,3,"ng-template",43,44,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](73,Qa,14,1,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](75,"div",46),a["\u0275\u0275elementStart"](76,"div",47),a["\u0275\u0275elementStart"](77,"div",48),a["\u0275\u0275elementStart"](78,"h2",49),a["\u0275\u0275text"](79,"Update Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](81,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"div",51),a["\u0275\u0275elementStart"](83,"div",10),a["\u0275\u0275elementStart"](84,"div",52),a["\u0275\u0275elementStart"](85,"div",53),a["\u0275\u0275elementStart"](86,"label",54),a["\u0275\u0275text"](87,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"select",55),a["\u0275\u0275listener"]("change",function(){return t.getStockiest_edit()}),a["\u0275\u0275elementStart"](89,"option",56),a["\u0275\u0275text"](90," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](91,Ua,3,5,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"div",52),a["\u0275\u0275elementStart"](93,"div",53),a["\u0275\u0275elementStart"](94,"label",57),a["\u0275\u0275text"](95,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"select",58),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](97,"option",56),a["\u0275\u0275text"](98," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](99,La,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](100,"div",52),a["\u0275\u0275elementStart"](101,"div",53),a["\u0275\u0275elementStart"](102,"label",59),a["\u0275\u0275text"](103,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"select",60),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](105,"option",61),a["\u0275\u0275text"](106," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](107,Ya,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"div",52),a["\u0275\u0275elementStart"](109,"div",53),a["\u0275\u0275elementStart"](110,"label",62),a["\u0275\u0275text"](111,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](112,"select",63),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](113,"option",61),a["\u0275\u0275text"](114," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](115,Va,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](116,"div",52),a["\u0275\u0275elementStart"](117,"div",53),a["\u0275\u0275elementStart"](118,"label",64),a["\u0275\u0275text"](119,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](120,"select",65),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](121,"option",61),a["\u0275\u0275text"](122," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](123,qa,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](124,"div",10),a["\u0275\u0275elementStart"](125,"table",66),a["\u0275\u0275elementStart"](126,"tr"),a["\u0275\u0275elementStart"](127,"th",67),a["\u0275\u0275text"](128,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](129,"th",67),a["\u0275\u0275text"](130,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](131,"th",67),a["\u0275\u0275text"](132,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](133,"th",67),a["\u0275\u0275text"](134,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](135,"th",67),a["\u0275\u0275text"](136,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](137,"th",67),a["\u0275\u0275text"](138,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](139,"th",67),a["\u0275\u0275text"](140,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](141,"th",67),a["\u0275\u0275text"](142,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](143,"th",67),a["\u0275\u0275text"](144,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](145,"th",67),a["\u0275\u0275text"](146,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](147,"th",67),a["\u0275\u0275text"](148,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](149,"th",67),a["\u0275\u0275text"](150,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](151,"tr"),a["\u0275\u0275elementStart"](152,"td"),a["\u0275\u0275elementStart"](153,"input",68),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](154,"td"),a["\u0275\u0275elementStart"](155,"input",69),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](156,"img",70),a["\u0275\u0275elementStart"](157,"div",71),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e)}),a["\u0275\u0275element"](158,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](159,"input",72),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](160,"td"),a["\u0275\u0275elementStart"](161,"input",73),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](162,"img",74),a["\u0275\u0275elementStart"](163,"div",75),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e)}),a["\u0275\u0275element"](164,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](165,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](166,"td"),a["\u0275\u0275elementStart"](167,"input",77),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](168,"img",78),a["\u0275\u0275elementStart"](169,"div",79),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e)}),a["\u0275\u0275element"](170,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](171,"td"),a["\u0275\u0275element"](172,"input",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](173,"td"),a["\u0275\u0275element"](174,"input",81),a["\u0275\u0275element"](175,"input",82),a["\u0275\u0275element"](176,"input",83),a["\u0275\u0275element"](177,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](178,"td"),a["\u0275\u0275elementStart"](179,"input",85),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](180,"td"),a["\u0275\u0275elementStart"](181,"input",86),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](182,"td"),a["\u0275\u0275elementStart"](183,"input",87),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](184,"td"),a["\u0275\u0275element"](185,"input",88),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](186,"td"),a["\u0275\u0275element"](187,"input",89),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](188,"td"),a["\u0275\u0275element"](189,"input",90),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](190,"div",91),a["\u0275\u0275element"](191,"input",92),a["\u0275\u0275element"](192,"input",93),a["\u0275\u0275element"](193,"input",94),a["\u0275\u0275elementStart"](194,"button",95),a["\u0275\u0275listener"]("click",function(){return t.updateClaim()}),a["\u0275\u0275text"](195," Update "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](196,"button",96),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](197," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](198,"div",97),a["\u0275\u0275elementStart"](199,"div",98),a["\u0275\u0275elementStart"](200,"div",48),a["\u0275\u0275elementStart"](201,"h2",49),a["\u0275\u0275text"](202,"Reason for update"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](203,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](204,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](205,"div",99),a["\u0275\u0275elementStart"](206,"div",10),a["\u0275\u0275elementStart"](207,"div",100),a["\u0275\u0275elementStart"](208,"div",53),a["\u0275\u0275element"](209,"textarea",101),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](210,"div",91),a["\u0275\u0275elementStart"](211,"button",95),a["\u0275\u0275listener"]("click",function(){return t.updateCommentClaim()}),a["\u0275\u0275text"](212," Update Now "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](213,"button",96),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](214," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](215,"div",102),a["\u0275\u0275elementStart"](216,"div",98),a["\u0275\u0275elementStart"](217,"div",48),a["\u0275\u0275elementStart"](218,"h2",49),a["\u0275\u0275text"](219,"Reason for rejection"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](220,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](221,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](222,"div",99),a["\u0275\u0275elementStart"](223,"div",10),a["\u0275\u0275elementStart"](224,"div",100),a["\u0275\u0275element"](225,"input",103),a["\u0275\u0275element"](226,"input",104),a["\u0275\u0275element"](227,"input",105),a["\u0275\u0275elementStart"](228,"div",53),a["\u0275\u0275element"](229,"textarea",106),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](230,"div",91),a["\u0275\u0275elementStart"](231,"button",95),a["\u0275\u0275listener"]("click",function(){return t.rejectClaim()}),a["\u0275\u0275text"](232," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](233,"button",96),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](234," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](235,"div",107),a["\u0275\u0275elementStart"](236,"div",108),a["\u0275\u0275elementStart"](237,"div",48),a["\u0275\u0275elementStart"](238,"h2",49),a["\u0275\u0275text"](239,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](240,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](241,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](242,"div",109),a["\u0275\u0275elementStart"](243,"div",10),a["\u0275\u0275elementStart"](244,"table",110),a["\u0275\u0275elementStart"](245,"tr"),a["\u0275\u0275elementStart"](246,"th",111),a["\u0275\u0275text"](247,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](248,"th",112),a["\u0275\u0275text"](249,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](250,za,7,1,"tr",113),a["\u0275\u0275template"](251,Ha,7,1,"tr",113),a["\u0275\u0275template"](252,Ja,7,1,"tr",113),a["\u0275\u0275template"](253,Wa,7,1,"tr",113),a["\u0275\u0275template"](254,Ga,7,1,"tr",113),a["\u0275\u0275template"](255,Za,7,1,"tr",113),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](256,"div",91),a["\u0275\u0275elementStart"](257,"button",96),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](258," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](259,"div",114),a["\u0275\u0275elementStart"](260,"div",108),a["\u0275\u0275elementStart"](261,"div",48),a["\u0275\u0275elementStart"](262,"h2",49),a["\u0275\u0275text"](263,"Invoice/Quantity Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](264,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](265,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](266,"div",109),a["\u0275\u0275elementStart"](267,"div",10),a["\u0275\u0275elementStart"](268,"table",115),a["\u0275\u0275elementStart"](269,"tr",116),a["\u0275\u0275elementStart"](270,"td",117),a["\u0275\u0275text"](271,"Distributor"),a["\u0275\u0275element"](272,"br"),a["\u0275\u0275text"](273,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](274,"td",117),a["\u0275\u0275text"](275,"Distributor"),a["\u0275\u0275element"](276,"br"),a["\u0275\u0275text"](277,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](278,"td",117),a["\u0275\u0275text"](279,"Distributor"),a["\u0275\u0275element"](280,"br"),a["\u0275\u0275text"](281,"Remn. QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](282,"td",117),a["\u0275\u0275text"](283,"Total Sale QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](284,Ka,9,4,"tr",118),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](285,"div",91),a["\u0275\u0275elementStart"](286,"button",119),a["\u0275\u0275listener"]("click",function(){return t.approveSelf()}),a["\u0275\u0275text"](287," Approve "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](288,"button",120),a["\u0275\u0275listener"]("click",function(){return t.closeSelfPopup()}),a["\u0275\u0275text"](289," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](290,"div",121),a["\u0275\u0275elementStart"](291,"div",122),a["\u0275\u0275elementStart"](292,"div",123),a["\u0275\u0275elementStart"](293,"div",124),a["\u0275\u0275elementStart"](294,"h4",125),a["\u0275\u0275text"](295,"Invoice/Quantity Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](296,"div",51),a["\u0275\u0275elementStart"](297,"table",115),a["\u0275\u0275elementStart"](298,"tr",116),a["\u0275\u0275template"](299,Xa,4,0,"td",126),a["\u0275\u0275template"](300,er,4,0,"td",126),a["\u0275\u0275elementStart"](301,"td",117),a["\u0275\u0275text"](302,"Stockiest"),a["\u0275\u0275element"](303,"br"),a["\u0275\u0275text"](304,"Invoice No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](305,"td",117),a["\u0275\u0275text"](306,"Stockiest"),a["\u0275\u0275element"](307,"br"),a["\u0275\u0275text"](308,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](309,"td",117),a["\u0275\u0275text"](310,"Stockiest Remn."),a["\u0275\u0275element"](311,"br"),a["\u0275\u0275text"](312,"Invoice QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](313,"td",117),a["\u0275\u0275text"](314,"Total Sale QTY."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](315,ir,11,6,"tr",118),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](316,"div",127),a["\u0275\u0275elementStart"](317,"button",119),a["\u0275\u0275listener"]("click",function(){return t.approve()}),a["\u0275\u0275text"](318," Approve "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](319,"button",120),a["\u0275\u0275listener"]("click",function(){return t.closePopup()}),a["\u0275\u0275text"](320," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](321,"div",128),a["\u0275\u0275elementStart"](322,"div",129),a["\u0275\u0275elementStart"](323,"div",48),a["\u0275\u0275elementStart"](324,"h2",49),a["\u0275\u0275text"](325,"Batch MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](326,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](327,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](328,"div",109),a["\u0275\u0275elementStart"](329,"div",10),a["\u0275\u0275element"](330,"input",130),a["\u0275\u0275elementStart"](331,"table",131),a["\u0275\u0275elementStart"](332,"tr"),a["\u0275\u0275elementStart"](333,"th",132),a["\u0275\u0275text"](334,"Sl.No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](335,"th",132),a["\u0275\u0275text"](336,"#"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](337,"th",132),a["\u0275\u0275text"](338,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](339,"th",132),a["\u0275\u0275text"](340,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](341,ar,11,10,"tr",133),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](342,"div",91),a["\u0275\u0275elementStart"](343,"button",119),a["\u0275\u0275listener"]("click",function(){return t.confirmBatchPrice()}),a["\u0275\u0275text"](344," Confirm "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](345,"button",96),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](346," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("ngModel",t.selectedFields.distributor)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.stockiest)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.type)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.selectedFields.month)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectedFields.year)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData&&"field"===t.sessionData.type&&"suh"===t.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",11),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](27),a["\u0275\u0275property"]("ngForOf",t.allotedHoInvoiceQty),a["\u0275\u0275advance"](6),a["\u0275\u0275styleMapInterpolate1"]("display:",t.displayStyle,""),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngIf",t.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.allotedHoInvoiceQty[0]),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngForOf",t.allotedInvoiceQty),a["\u0275\u0275advance"](26),a["\u0275\u0275property"]("ngForOf",t.batchPrices),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",13))},directives:[Ne.a,o.m,o.p,b.m,b.n,Ne.d,o.q,o.x,y.l,_t.a],pipes:[b.v,b.f],styles:['.errorClass[_ngcontent-%COMP%]{border:1px solid #ff0013}.fl[_ngcontent-%COMP%]{float:left}.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.mlr8[_ngcontent-%COMP%]{margin:0 4px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.cpdlr[_ngcontent-%COMP%]{padding:0 4px}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.td-head[_ngcontent-%COMP%]{font-weight:600;height:30px;background:#efefef}.grf-am[_ngcontent-%COMP%], .td-head[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1;left:10%}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.inputcontainer[_ngcontent-%COMP%]{position:relative;padding:0}.icon-container[_ngcontent-%COMP%]{position:absolute;right:15px;top:calc(50% - 9px);display:none}.loader[_ngcontent-%COMP%]{position:relative;height:15px;width:15px;display:inline-block;-webkit-animation:around 5.4s infinite;animation:around 5.4s infinite}@-webkit-keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";background:#fff;position:absolute;display:inline-block;width:100%;height:100%;border-color:#e15b64 #e15b64 transparent transparent;border-style:solid;border-width:2px;border-radius:20px;box-sizing:border-box;top:0;left:0;-webkit-animation:around .7s ease-in-out infinite;animation:around .7s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{-webkit-animation:around .7s ease-in-out .1s infinite;animation:around .7s ease-in-out .1s infinite;background:transparent}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto 7%;width:92%;padding:0;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.wpseo-score-icon[_ngcontent-%COMP%]{background:#888;border-radius:50%!important;height:12px!important;width:12px!important;margin:auto}.wpseo-score-icon.good[_ngcontent-%COMP%]{background-color:#4bae4f}.wpseo-score-icon.bad[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_green[_ngcontent-%COMP%]{background-color:#4bae4f}.iconpe_green[_ngcontent-%COMP%], .iconpe_red[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#fff;border-radius:50%;text-align:center;padding:0 0 0 .5px;margin:2px;cursor:pointer}.iconpe_red[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_blue[_ngcontent-%COMP%]{font-size:15px;background-color:#2fa4e7;padding:3px 3px 2px 3.5px}.iconpe_blue[_ngcontent-%COMP%], .iconpe_purp[_ngcontent-%COMP%]{font-weight:800;color:#fff;border-radius:50%;text-align:center;margin:2px;cursor:pointer}.iconpe_purp[_ngcontent-%COMP%]{font-size:20px;background-color:#6610f2;padding:0 0 0 .5px}.disabledd[_ngcontent-%COMP%]{background-color:#ccc}.npicon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.bg-ripe-malin-np[_ngcontent-%COMP%]{background-image:linear-gradient(120deg,#ff0013,#ff0013)!important}.bg-grow-early-np[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#03ac13 0,#03ac13)!important}.legend-bullet[_ngcontent-%COMP%]{width:12px;height:12px;min-width:12px;border-radius:50%}.rejected[_ngcontent-%COMP%]{background-color:#df2a4a}.approved[_ngcontent-%COMP%]{background-color:#00aa63}.inprogress[_ngcontent-%COMP%]{background-color:#e8e8eb}.question[_ngcontent-%COMP%]{padding:0;cursor:pointer;margin-left:5px}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.mat-autocomplete-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-autocomplete-panel[_ngcontent-%COMP%]{background:#fff;color:rgba(0,0,0,.87)}.mat-autocomplete-panel.mat-autocomplete-visible[_ngcontent-%COMP%]{visibility:visible}.mat-autocomplete-panel[_ngcontent-%COMP%]{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1}.mat-option[_ngcontent-%COMP%], .mat-option-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;color:rgba(0,0,0,.87);font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px}.mat-option-ripple[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;overflow:hidden}.mat-option.mat-active[_ngcontent-%COMP%]{background:rgba(0,0,0,.04);color:rgba(0,0,0,.87)}.ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel-items{max-height:158px}.ng-select.custom[_ngcontent-%COMP%]     .ng-option{padding:5px 8px}']}),e}();function or(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function lr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function sr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function dr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",40),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function cr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275elementStart"](1,"div",41),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4," Loading... Please wait "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function mr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275elementStart"](1,"i",86),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](3),r=a["\u0275\u0275reference"](120);return i.viewPopup(r,e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalname)}}function pr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,mr,2,1,"span",85),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().index,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.fileNames[n])}}function ur(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",43),a["\u0275\u0275elementStart"](1,"td",44),a["\u0275\u0275elementStart"](2,"input",45,46),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().onFileSelected(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"i",47),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275reference"](3).click()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,pr,2,1,"div",48),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",49),a["\u0275\u0275element"](7,"input",50),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",49),a["\u0275\u0275elementStart"](9,"input",51),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchBatch(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](10,"img",52),a["\u0275\u0275elementStart"](11,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().batchSelection(e,i)}),a["\u0275\u0275element"](12,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",49),a["\u0275\u0275element"](14,"input",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",49),a["\u0275\u0275element"](16,"input",55),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",49),a["\u0275\u0275element"](18,"input",56),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",49),a["\u0275\u0275elementStart"](20,"input",57),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchParticulars(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"img",58),a["\u0275\u0275elementStart"](22,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().particularsSelection(e,i)}),a["\u0275\u0275element"](23,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",49),a["\u0275\u0275elementStart"](25,"input",59),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().searchCategory(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"img",58),a["\u0275\u0275elementStart"](27,"div",53),a["\u0275\u0275listener"]("click",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().categorySelection(e,i)}),a["\u0275\u0275element"](28,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"td",49),a["\u0275\u0275element"](30,"input",60),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"td",49),a["\u0275\u0275element"](32,"input",61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",49),a["\u0275\u0275element"](34,"input",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"td",49),a["\u0275\u0275element"](36,"input",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"td",49),a["\u0275\u0275element"](38,"input",64),a["\u0275\u0275element"](39,"input",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"td",49),a["\u0275\u0275element"](41,"input",66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td",49),a["\u0275\u0275element"](43,"input",67),a["\u0275\u0275element"](44,"input",68),a["\u0275\u0275element"](45,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"td",49),a["\u0275\u0275elementStart"](47,"input",69),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"billingRate")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"td",49),a["\u0275\u0275elementStart"](49,"input",70),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeMargin(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"td",49),a["\u0275\u0275elementStart"](51,"input",71),a["\u0275\u0275listener"]("keyup",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().changeCalculation(e,i,"freeQuantity")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"td",49),a["\u0275\u0275elementStart"](53,"input",72),a["\u0275\u0275listener"]("blur",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().checkQuantity(e,i)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"td",49),a["\u0275\u0275element"](55,"input",73),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"td",49),a["\u0275\u0275element"](57,"input",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"td",49),a["\u0275\u0275element"](59,"input",75),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"td",49),a["\u0275\u0275element"](61,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",49),a["\u0275\u0275element"](63,"input",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",49),a["\u0275\u0275element"](65,"input",78),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",79),a["\u0275\u0275elementStart"](67,"span",80),a["\u0275\u0275element"](68,"i",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](69,"span",82),a["\u0275\u0275element"](70,"i",83),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](71,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("accept",r.requiredFileType),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",r.fileNames[i]),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","invoice_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+11),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","batch_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+12),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","batch_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","product_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","material_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","particulars_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","particulars_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","category_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+15),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_loader_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","category_suggestion_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","distInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distInvQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoice_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkInvoiceQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stkRemnQty_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","hdn_stkRemnQty_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","mrp_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","pts_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptr_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","billingRate_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+16),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","margin_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","freeQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+17),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","saleQuantity_",i,""),a["\u0275\u0275property"]("tabIndex",10*i+18),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","difference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalDifference_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","amount_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalSaleQuantity_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","ptd_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","totalPtdAmt_",i,""),a["\u0275\u0275advance"](6),a["\u0275\u0275propertyInterpolate"]("value",i)}}function fr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",87),a["\u0275\u0275text"](1,"Save as Draft"),a["\u0275\u0275elementEnd"]())}function hr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"button",88),a["\u0275\u0275elementStart"](1,"span",89),a["\u0275\u0275element"](2,"img",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",90),a["\u0275\u0275text"](4,"Please Wait ..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function vr(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",102),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function gr(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",103),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function br(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",91),a["\u0275\u0275elementStart"](1,"h4",92),a["\u0275\u0275text"](2,"Attachment of invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",93),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",94),a["\u0275\u0275elementStart"](5,"div",7),a["\u0275\u0275elementStart"](6,"div",95),a["\u0275\u0275template"](7,vr,1,2,"pdf-viewer",96),a["\u0275\u0275template"](8,gr,1,2,"img",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",98),a["\u0275\u0275elementStart"](10,"button",99),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",100),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",101),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}var xr=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.c,this.heading="Claims for Approval",this.subheading="Approve or reject stockiest claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loading=!0,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.category=[],this.divisions=[],this.fileNames=[],this.stockiests=[],this.particulars=[],this.loggedUserId="",this.selectedFields=[],this.alignedStockiest=[],this.salesAndRemainings=[],this.defaultValue={mrp:"0.00",pts:"0.00",ptr:"0.00",ptd:"0.00",margin:10,difference:"0.00",totalDifference:"0.00",amount:"0.00"},this.pdfSource="",this.clickedFile=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest();var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){$("#type").val("scheme"),$("#month").val(parseInt(n)-1),$("#year").val(i),$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var a=e.activatedRoute.snapshot.paramMap.get("stockiest"),r=e.activatedRoute.snapshot.paramMap.get("month"),o=e.activatedRoute.snapshot.paramMap.get("year"),l=e.activatedRoute.snapshot.paramMap.get("type"),s=e.activatedRoute.snapshot.paramMap.get("invoice");e.getData(a,r,o,l,s)}),this.createForm(),this.getBatch(),this.getDivision(),this.getProduct(),this.getCategory(),this.getParticulars()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.claimForm=this.fb.group({claims:this.fb.array([])})},e.prototype.claims=function(){return this.claimForm.get("claims")},e.prototype.newClaim=function(){return this.fb.group({invoice:"",batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",hdnStkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""})},e.prototype.addNewInvoice=function(){this.claims().push(this.newClaim());var e=$(".count").last().val(),t=parseInt(e)+1;setTimeout(function(){void 0===e?$("#invoice_0").focus():$("#invoice_"+t).focus(),$("table").scrollLeft(0)},5)},e.prototype.addSameInvoice=function(e){if(-1===e){var t=0;if($(".grf-def").removeClass("grf-invalid"),$("#invoice_def").val()||(t=1,$("#invoice_def").addClass("grf-invalid")),!t){var n=this.fb.group({invoice:$("#invoice_def").val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""});this.claims().push(n)}}else t=0,$(".grf-am").removeClass("grf-invalid"),$("#invoice_"+e).val()||(t=1,$("#invoice_"+e).addClass("grf-invalid")),t||(n=this.fb.group({invoice:$("#invoice_"+e).val(),batch:"",division:"",product:"",material:"",particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:"",stkInvoiceQty:"",stkRemnQty:"",mrp:this.defaultValue.mrp,pts:this.defaultValue.pts,ptd:"",totalPtdAmt:"",billingRate:"",margin:this.defaultValue.margin,freeQuantity:"",saleQuantity:"",totalSaleQuantity:"",difference:this.defaultValue.difference,totalDifference:this.defaultValue.totalDifference,amount:this.defaultValue.amount,image:""}),this.claims().push(n));$("table").scrollLeft(0)},e.prototype.removeClaim=function(e){this.claims().removeAt(e),delete this.fileNames[e];var t=[];this.fileNames[-1]&&(t[-1]=this.fileNames[-1]),this.fileNames.forEach(function(e){t.push(e)}),this.fileNames=t},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){200===e.status?e.data.length&&(n.fileNames[t]?e.data.forEach(function(e){n.fileNames[t].push(e)}):n.fileNames[t]=e.data):n.toast("error",e.message)})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.searchBatch=function(e,t){var n=this,i=e.currentTarget.value,a=-1===t?"def":t;$("#mrp_"+a).val(Number(0).toFixed(2)),$("#pts_"+a).val(Number(0).toFixed(2));var r=[];if("Tab"!=e.key)if(i.length>2)$("#batch_loader_"+a).show(),r=this.matchBatch(i,t),this.delay(10).then(function(e){n.batchSuggestions(r,i,t)});else{var o=document.querySelector("#batch_suggestion_"+a+" ul");o.innerHTML="",o.classList.remove("has-suggestions"),$("#batch_suggestion_"+a).hide()}},e.prototype.matchBatch=function(e,t){var n=e.toLowerCase();return this.batches.filter(function(e){return e.batch.toLowerCase().indexOf(n)>-1})},e.prototype.batchSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#batch_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#batch_suggestion_"+i).show(),$("#batch_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#batch_suggestion_"+i).hide(),$("#batch_loader_"+i).hide())},e.prototype.batchSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#batch_suggestion_"+n+" ul");$("#batch_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#batch_suggestion_"+n).hide();var a=this.batches.filter(function(t){return t.batch===e.target.innerText}),r=a.length?a[0].mrp:0,o=a.length?a[0].pts:0,l=a.length?a[0].ptr:0,s=a.length?a[0].ptd:0,d=a.length?a[0].division:0,c=a.length?a[0].material:0;d&&this.getBatchDivision(d,n),c&&this.getBatchProduct(c,n),$("#mrp_"+n).val(r.toFixed(2)),$("#pts_"+n).val(o.toFixed(2)),$("#ptr_"+n).val(l.toFixed(2)),$("#ptd_"+n).val(s.toFixed(2))},e.prototype.searchDivision=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#division_loader_"+(-1===t?"def":t)).show(),a=this.matchDivision(i,t),this.delay(10).then(function(e){n.divisionSuggestions(a,i,t)}))},e.prototype.matchDivision=function(e,t){var n=e.toLowerCase();return this.divisions.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.divisionSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#division_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#division_suggestion_"+i).show(),$("#division_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#division_suggestion_"+i).hide(),$("#division_loader_"+i).hide())},e.prototype.divisionSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#division_suggestion_"+n+" ul");$("#division_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#division_suggestion_"+n).hide()},e.prototype.searchProduct=function(e,t){var n=this,i=e.currentTarget.value,a=[];i.length>2&&($("#product_loader_"+(-1===t?"def":t)).show(),a=this.matchProduct(i,t),console.log(a),this.delay(10).then(function(e){n.productSuggestions(a,i,t)}))},e.prototype.matchProduct=function(e,t){var n=e.toLowerCase();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(n)>-1})},e.prototype.productSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#product_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.materialName.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#product_suggestion_"+i).show(),$("#product_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#product_suggestion_"+i).hide(),$("#product_loader_"+i).hide())},e.prototype.productSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#product_suggestion_"+n+" ul");$("#product_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#product_suggestion_"+n).hide()},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(10).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#particulars_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show(),$("#particulars_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide())},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide()},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;console.log("len--",i.length,e.key),"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.category.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n;console.log("id--",i);var a=document.querySelector("#category_suggestion_"+i+" ul");a.innerHTML="",e.length>0?(e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(a.innerHTML+="<li>"+i.input+"</li>")}),a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show(),$("#category_loader_"+i).hide()):(e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide())},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide()},e.prototype.changeMargin=function(e,t){var n=$("#pts_"+t).val(),i=$("#margin_"+t).val(),a=$("#billingRate_"+t).val(),r=n-a+a*i/100,o=r*$("#saleQuantity_"+t).val();$("#totalDifference_"+t).val(r.toFixed(2)),$("#amount_"+t).val(o.toFixed(2))},e.prototype.changeCalculation=function(e,t,n){console.log(n);var i=-1===t?"def":t;$("#freeQuantity_"+i).attr("readonly",!1),$("#billingRate_"+i).removeClass("grf-invalid"),$("#freeQuantity_"+i).removeClass("grf-invalid"),$("#saleQuantity_"+i).removeClass("grf-invalid");var a=$("#pts_"+i).val(),r=$("#billingRate_"+i).val(),o=$("#freeQuantity_"+i).val(),l=$("#saleQuantity_"+i).val(),s=/^\d*\.?\d*$/;if(s.test(r)||$("#billingRate_"+i).addClass("grf-invalid"),s.test(o)||$("#freeQuantity_"+i).addClass("grf-invalid"),s.test(l)||$("#saleQuantity_"+i).addClass("grf-invalid"),0==r)if($("#margin_"+i).val(0),o){var d=(m=a-r)+0*r/100,c=a*o;$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2))}else $("#difference_"+i).val(Number(0).toFixed(2)),$("#totalDifference_"+i).val(Number(0).toFixed(2)),$("#amount_"+i).val(Number(0).toFixed(2));else{var m,p=$("#margin_"+i).val(),u=parseInt(p)?p:10;$("#margin_"+i).val(u),$("#freeQuantity_"+i).val(""),$("#freeQuantity_"+i).attr("readonly",!0),r&&l&&(c=(d=(m=a-r)+r*u/100)*l,$("#difference_"+i).val(m.toFixed(2)),$("#totalDifference_"+i).val(d.toFixed(2)),$("#amount_"+i).val(c.toFixed(2)))}},e.prototype.validateMonth=function(){$("#err_month").hide();var e=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&e>=this.currentYear&&$("#err_month").text("You can't claim for this month.").show()},e.prototype.getStockiest=function(){var e=this;this.apiService.post("/api/getStockiest",this.alignedStockiest).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data)})},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.getCategory=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.category=t.data)})},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.getBatchDivision=function(e,t){this.apiService.get("/api/division",e).subscribe(function(e){200===e.status&&e.data&&$("#division_"+t).val(e.data.name)})},e.prototype.getBatchProduct=function(e,t){this.apiService.get("/api/product",e).subscribe(function(e){200===e.status&&e.data&&(console.log(e.data),$("#product_"+t).val(e.data.materialName),$("#material_"+t).val(e.data.material))})},e.prototype.fetchRemaining=function(e,t,n){return Object(c.b)(this,void 0,void 0,function(){var e,i;return Object(c.d)(this,function(a){return console.log(t,n),e=-1===t?"def":t,i={customerId:this.activatedRoute.snapshot.paramMap.get("stockiest"),invoice:$("#invoice_"+e).val(),batch:$("#batch_"+e).val(),billingRate:$("#billingRate_"+e).val(),saleQuantity:$("#saleQuantity_"+e).val(),freeQuantity:$("#freeQuantity_"+e).val(),margin:parseInt($("#margin_"+e).val())?$("#margin_"+e).val():10,files:[]},console.log("fetchRemaining---",i),[2]})})},e.prototype.checkQuantity=function(e,t){console.log(this.salesAndRemainings);var n=parseInt($("#saleQuantity_"+t).val()),i=parseInt($("#hdn_stkRemnQty_"+t).val());if(i>=n){var a=i-n;$("#stkRemnQty_"+t).val(a),$("#totalSaleQuantity_"+t).val(n)}else $("#stkRemnQty_"+t).val(i),$("#saleQuantity_"+t).val(0),$("#totalSaleQuantity_"+t).val(0)},e.prototype.getData=function(e,t,n,i,a){return Object(c.b)(this,void 0,void 0,function(){var r,o=this;return Object(c.d)(this,function(l){switch(l.label){case 0:return[4,this.getClaimForApproval({customerId:e,month:t,year:n,type:i,invoice:a})];case 1:return r=l.sent(),this.records=r,this.records.length&&this.records.forEach(function(e,t){return Object(c.b)(o,void 0,void 0,function(){return Object(c.d)(this,function(n){return this.getRemaining(e,t),[2]})})}),[2]}})})},e.prototype.getRemaining=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i,a=this;return Object(c.d)(this,function(r){switch(r.label){case 0:return[4,this.salesAndRemainingQuantity({customerId:e.customerId,batch:e.batch})];case 1:return(n=r.sent())&&(this.salesAndRemainings.push(n),i=0,n.forEach(function(n){return Object(c.b)(a,void 0,void 0,function(){var a,r,o,l,s,d;return Object(c.d)(this,function(c){return i>=e.saleQuantity||(r=e.saleQuantity-i,i+=a=(o=n.remainingData.length?n.remainingData[0].quantity:n.saleUnit)>=e.saleQuantity?r:r>=o?o:r,l=e.margin?e.margin:10,this.fileNames[t]=e.files,s={invoice:e.invoice,batch:n.batch,division:n.divisionName,product:n.materialDesc,material:n.material,particulars:"",category:"",distInvoice:"",distInvQty:"",stkInvoice:n.billDocNumber,stkInvoiceQty:n.saleUnit,stkRemnQty:n.saleUnit-a,hdnStkRemnQty:o,mrp:n.mrp,pts:n.pts,billingRate:e.billingRate,margin:l,freeQuantity:e.freeQuantity,saleQuantity:a,difference:(n.pts-e.billingRate).toFixed(2),totalDifference:(n.pts-e.billingRate+e.billingRate*l/100).toFixed(2),amount:((n.pts-e.billingRate+10*e.billingRate/100)*a).toFixed(2),totalSaleQuantity:a,ptd:n.ptd,totalPtdAmt:(n.ptd*a).toFixed(2),image:""},d=this.fb.group(s),this.claims().push(d)),[2]})})})),this.loading=!1,[2]}})})},e.prototype.getClaimForApproval=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/getClaimForApproval",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.salesAndRemainingQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/remainingQuantity",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.getHoSales=function(e,t){var n=this;return new Promise(function(i){n.apiService.post("/api/sales/ho/invoice",{batch:e,custIds:t}).subscribe(function(e){i(e)})})},e.prototype.onSubmit=function(){var e=$(".count").last().val();null==e&&(e=-1);for(var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#month option:selected").val(),a=$("#year option:selected").val(),r=function(e){var r=-1===e?"def":e,l=t+".::."+n+".::."+i+".::."+a+".::."+o.loggedUserId,s=$("#invoice_"+r).val(),d=$("#batch_"+r).val(),c=$("#division_"+r).val(),m=$("#product_"+r).val(),p=$("#mrp_"+r).val(),u=$("#pts_"+r).val(),f=$("#ptr_"+r).val(),h=$("#ptd_"+r).val(),v=$("#billingRate_"+r).val(),g=$("#margin_"+r).val(),b=$("#freeQuantity_"+r).val(),x=$("#saleQuantity_"+r).val(),y=$("#difference_"+r).val(),S=$("#totalDifference_"+r).val(),_=$("#amount_"+r).val();if(-1===e){var E="";o.fileNames[-1]&&o.fileNames[-1].length&&o.fileNames[-1].forEach(function(e,t){E=E+e.filename+".::."}),o.claimForm.value.def_image=E,o.claimForm.value.def_invoice=s,o.claimForm.value.def_batch=d,o.claimForm.value.def_division=c,o.claimForm.value.def_product=m,o.claimForm.value.def_mrp=p,o.claimForm.value.def_pts=u,o.claimForm.value.def_ptr=f,o.claimForm.value.def_ptd=h,o.claimForm.value.def_billingRate=v,o.claimForm.value.def_margin=g,o.claimForm.value.def_freeQuantity=b,o.claimForm.value.def_saleQuantity=x,o.claimForm.value.def_difference=y,o.claimForm.value.def_totalDifference=S,o.claimForm.value.def_amount=_,o.claimForm.value.header=l}else{var C="";o.fileNames[e]&&o.fileNames[e].length&&o.fileNames[e].forEach(function(e,t){C=C+e.filename+".::."}),o.claimForm.value.claims[e].image=C,o.claimForm.value.claims[e].invoice=s,o.claimForm.value.claims[e].batch=d,o.claimForm.value.claims[e].division=c,o.claimForm.value.claims[e].product=m,o.claimForm.value.claims[e].mrp=p,o.claimForm.value.claims[e].pts=u,o.claimForm.value.claims[e].ptr=f,o.claimForm.value.claims[e].ptd=h,o.claimForm.value.claims[e].billingRate=v,o.claimForm.value.claims[e].margin=g,o.claimForm.value.claims[e].freeQuantity=b,o.claimForm.value.claims[e].saleQuantity=x,o.claimForm.value.claims[e].difference=y,o.claimForm.value.claims[e].totalDifference=S,o.claimForm.value.claims[e].amount=_,o.claimForm.value.claims[e].header=l}},o=this,l=-1;l<=e;l++)r(l);console.log("submit--",this.claimForm.value)},e.prototype.viewPopup=function(e,t){var n=this;console.log(t),this.pdfSource="",this.clickedFile=t;var i=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==i&&".PDF"!==i||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),console.log(this.clickedFile),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.confirmBoxDeleteFile=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?(delete t.fileNames[0],console.log({_id:e._id,deletedBy:t.loggedUserId})):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-claim-approval"]],decls:121,vars:14,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","disabled","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["id","table1",1,"table"],[1,"td-head"],["class","row",4,"ngIf"],["formArrayName","claims"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12","tar"],["type","submit","class","mt-1 btn btn-success m_lr","style","padding: 6px 30px;",4,"ngIf"],["type","button","class","mt-1 btn btn-transition m_lr","style","color: #033C73; border-color: #73A839; cursor:inherit; font-weight: 600;",4,"ngIf"],["details",""],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[3,"formGroupName"],[1,"tc"],["type","file","multiple","",1,"file-input",2,"display","none",3,"accept","change"],["fileUpload",""],["placement","bottom","ngbTooltip","Upload",1,"pe-7s-upload",2,"float","left",3,"click"],[4,"ngIf"],[1,"tdpd"],["type","text","formControlName","invoice",1,"form-control","grf-am",3,"id","tabIndex"],["type","text","formControlName","batch",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-27px 0 0 73px","display","none",3,"id"],[1,"suggestions",2,"display","none",3,"id","click"],["type","text","formControlName","division","readonly","",1,"form-control",3,"id"],["type","text","formControlName","product","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","material","readonly","",1,"form-control",3,"id","tabIndex"],["type","text","formControlName","particulars",1,"form-control",3,"id","tabIndex","keyup"],["src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none",3,"id"],["type","text","formControlName","category",1,"form-control",3,"id","tabIndex","keyup"],["type","text","formControlName","distInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","distInvQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoice","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkInvoiceQty","readonly","",1,"form-control",3,"id"],["type","text","formControlName","stkRemnQty","readonly","",1,"form-control",3,"id"],["type","hidden","formControlName","hdnStkRemnQty",3,"id"],["type","text","formControlName","mrp","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","pts","readonly","",1,"form-control","tc",3,"id"],["type","hidden",3,"id"],["type","text","formControlName","billingRate",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","margin",1,"form-control","tc",3,"id","keyup"],["type","text","formControlName","freeQuantity",1,"form-control","grf-am",3,"id","tabIndex","keyup"],["type","text","formControlName","saleQuantity",1,"form-control","grf-am",3,"id","tabIndex","blur"],["type","text","formControlName","difference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","totalDifference","readonly","",1,"form-control","tc",3,"id"],["type","text","formControlName","amount","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalSaleQuantity","readonly","",1,"form-control","grf-am",3,"id"],["type","text","formControlName","ptd","readonly","",1,"form-control","grf-am","tc",3,"id"],["type","text","formControlName","totalPtdAmt","readonly","",1,"form-control","grf-am","tc",3,"id"],[1,"tdpd","tc"],["title","Approve",2,"color","green"],[1,"vsm-icon","pe-7s-check"],["title","Unapprove",2,"color","red"],[1,"vsm-icon","pe-7s-close-circle"],["type","hidden",1,"count",3,"value"],[4,"ngFor","ngForOf"],["placement","bottom",1,"pe-7s-paperclip",3,"ngbTooltip","click"],["type","submit",1,"mt-1","btn","btn-success","m_lr",2,"padding","6px 30px"],["type","button",1,"mt-1","btn","btn-transition","m_lr",2,"color","#033C73","border-color","#73A839","cursor","inherit","font-weight","600"],[1,"me-2","opacity-7"],[1,"me-1"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,or,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275element"](22,"img",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"div",8),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"label",17),a["\u0275\u0275text"](26,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"select",18),a["\u0275\u0275elementStart"](28,"option",19),a["\u0275\u0275text"](29," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,lr,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](31,"span",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",8),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"label",21),a["\u0275\u0275text"](35,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"select",22),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](37,"option",19),a["\u0275\u0275text"](38," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](39,sr,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",9),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275listener"]("change",function(){return t.validateMonth()}),a["\u0275\u0275elementStart"](46,"option",19),a["\u0275\u0275text"](47," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,dr,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",7),a["\u0275\u0275elementStart"](51,"div",27),a["\u0275\u0275element"](52,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",7),a["\u0275\u0275elementStart"](54,"form",28),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](55,"div",7),a["\u0275\u0275elementStart"](56,"div",29),a["\u0275\u0275elementStart"](57,"div",30),a["\u0275\u0275elementStart"](58,"table",31),a["\u0275\u0275elementStart"](59,"tr"),a["\u0275\u0275elementStart"](60,"td",32),a["\u0275\u0275text"](61,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"td",32),a["\u0275\u0275text"](63,"Reference No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"td",32),a["\u0275\u0275text"](65,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"td",32),a["\u0275\u0275text"](67,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"td",32),a["\u0275\u0275text"](69,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"td",32),a["\u0275\u0275text"](71,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"td",32),a["\u0275\u0275text"](73,"Particulars"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](74,"td",32),a["\u0275\u0275text"](75,"Category"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](76,"td",32),a["\u0275\u0275text"](77,"Distributor Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"td",32),a["\u0275\u0275text"](79,"Distributor Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"td",32),a["\u0275\u0275text"](81,"Stockiest Invoice No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"td",32),a["\u0275\u0275text"](83,"Stockiest Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](84,"td",32),a["\u0275\u0275text"](85,"Remn. STK Invoice QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](86,"td",32),a["\u0275\u0275text"](87,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](88,"td",32),a["\u0275\u0275text"](89,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](90,"td",32),a["\u0275\u0275text"](91,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](92,"td",32),a["\u0275\u0275text"](93,"Margin (%)"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](94,"td",32),a["\u0275\u0275text"](95,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](96,"td",32),a["\u0275\u0275text"](97,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](98,"td",32),a["\u0275\u0275text"](99,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](100,"td",32),a["\u0275\u0275text"](101,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](102,"td",32),a["\u0275\u0275text"](103,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](104,"td",32),a["\u0275\u0275text"](105,"Total Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](106,"td",32),a["\u0275\u0275text"](107,"PTD"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](108,"td",32),a["\u0275\u0275text"](109,"Total PTD Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](110,"td",32),a["\u0275\u0275text"](111,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,cr,5,0,"div",33),a["\u0275\u0275elementStart"](113,"div",34),a["\u0275\u0275template"](114,ur,72,45,"tr",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](115,"div",7),a["\u0275\u0275elementStart"](116,"div",36),a["\u0275\u0275template"](117,fr,2,0,"button",37),a["\u0275\u0275template"](118,hr,5,0,"button",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](119,br,16,2,"ng-template",null,39,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("formGroup",t.claimForm),a["\u0275\u0275advance"](58),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.claims().controls),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.btnLoader),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.btnLoader))},directives:[o.q,o.x,b.m,o.w,o.n,o.g,b.n,o.c,o.h,y.l,o.b,o.m,o.e,_t.a],pipes:[b.v],styles:['.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.form-control[_ngcontent-%COMP%]{padding:4px 2px;text-align:center}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}']}),e}();function yr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",46),a["\u0275\u0275elementStart"](1,"button",47),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",48),a["\u0275\u0275text"](3," Export to Excel "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function Sr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," - ",n.customerId," ")}}function _r(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Er(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.name),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Cr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function kr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",49),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function wr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275element"](1,"img",51),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function Ir(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",50),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function $r(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",70),a["\u0275\u0275elementStart"](1,"i",71),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](87);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function Fr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,$r,2,1,"span",69),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function Dr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",64),a["\u0275\u0275elementStart"](1,"td",65),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",65),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",65),a["\u0275\u0275text"](7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"td",65),a["\u0275\u0275text"](9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"td",66),a["\u0275\u0275text"](11),a["\u0275\u0275pipe"](12,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"td",66),a["\u0275\u0275text"](14),a["\u0275\u0275pipe"](15,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"td",65),a["\u0275\u0275text"](17),a["\u0275\u0275pipe"](18,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"td",65),a["\u0275\u0275text"](20),a["\u0275\u0275pipe"](21,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",65),a["\u0275\u0275text"](23),a["\u0275\u0275pipe"](24,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"td",65),a["\u0275\u0275text"](26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",65),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",65),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",65),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",65),a["\u0275\u0275text"](37),a["\u0275\u0275pipe"](38,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"td",65),a["\u0275\u0275text"](40),a["\u0275\u0275pipe"](41,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"td"),a["\u0275\u0275template"](43,Fr,2,1,"div",67),a["\u0275\u0275elementStart"](44,"div",68),a["\u0275\u0275text"](45," Upload Invoice "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](5,22,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](12,24,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](15,26,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](18,28,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](21,31,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](24,34,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.margin),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,37,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,40,n.saleQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,43,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](38,46,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](41,49,n.amount,"1.2-2")),a["\u0275\u0275advance"](2),a["\u0275\u0275classMapInterpolate1"]("border-right att_",n.invoice,""),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](1),a["\u0275\u0275classMapInterpolate1"]("attch ",n.invoice,"")}}function Mr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",52),a["\u0275\u0275elementStart"](1,"table"),a["\u0275\u0275elementStart"](2,"thead"),a["\u0275\u0275elementStart"](3,"tr"),a["\u0275\u0275elementStart"](4,"th",53),a["\u0275\u0275text"](5,"Sl.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th",54),a["\u0275\u0275text"](7,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th",55),a["\u0275\u0275text"](9,"Invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th",55),a["\u0275\u0275text"](11,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",56),a["\u0275\u0275text"](13,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th",57),a["\u0275\u0275text"](15,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th",58),a["\u0275\u0275text"](17,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",58),a["\u0275\u0275text"](19,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"th",59),a["\u0275\u0275text"](21,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"th",60),a["\u0275\u0275text"](23,"Margin"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"th",61),a["\u0275\u0275text"](25,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"th",61),a["\u0275\u0275text"](27,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"th",62),a["\u0275\u0275text"](29,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"th",62),a["\u0275\u0275text"](31,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"th",59),a["\u0275\u0275text"](33,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"th",59),a["\u0275\u0275text"](35,"Attachments"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"tbody"),a["\u0275\u0275template"](37,Dr,46,52,"tr",63),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](37),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function Or(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",72),a["\u0275\u0275elementStart"](1,"div",73),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](3,"div",74),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function Pr(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",86),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function Tr(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",87),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function Rr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",75),a["\u0275\u0275elementStart"](1,"h4",76),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",77),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",78),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",79),a["\u0275\u0275template"](7,Pr,1,2,"pdf-viewer",80),a["\u0275\u0275template"](8,Tr,1,2,"img",81),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",82),a["\u0275\u0275elementStart"](10,"button",83),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",84),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",85),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function Nr(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",75),a["\u0275\u0275elementStart"](1,"h4",76),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",77),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",78),a["\u0275\u0275elementStart"](5,"div",8),a["\u0275\u0275elementStart"](6,"div",88),a["\u0275\u0275elementStart"](7,"input",89,90),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",82),a["\u0275\u0275elementStart"](10,"button",91),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",85),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}var jr=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.c,this.heading="Claim Status",this.subheading="Approved and Un-approved claim.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.showData=!0,this.submitted=!1,this.btnLoader=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.clickedFile=[],this.tempRecords=[],this.loggedUserId="",this.loggedInUser=[],this.selectedFields=[],this.alignedStockiest=[],this.pdfSource=""}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(t).id,this.loggedInUser=JSON.parse(t),this.alignedStockiest=JSON.parse(t).stockiest,this.getStockiest(),this.getDivision();var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#stockiest").val(),$("#stockiest_loader").hide(),$("#stockiest").show()})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getStockiest=function(){var e=this;this.apiService.get("/api/stockiest/all","").subscribe(function(t){if(200===t.status&&t.data.length){var n=t.data.sort(function(e,t){return e.organization.trim()>t.organization.trim()?1:-1});e.stockiests=n}})},e.prototype.getDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.clear=function(){var e=Re().format("MM"),t=Re().format("YYYY");$("#stockiest").val(""),$("#type").val(""),$("#division").val(""),$("#month").val(parseInt(e)-1),$("#year").val(t),$("#status").val(""),$("#stockiest_loader").hide(),$("#stockiest").show()},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[],$("#err_stockiest").hide(),$("#err_status").hide(),$("#err_month").hide();var t=$("#stockiest option:selected").val(),n=$("#type option:selected").val(),i=$("#division option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val(),o=$("#status option:selected").val();if(!t||!o)return t||$("#err_stockiest").text("it's a required field.").show(),void(o||$("#err_status").text("it's a required field.").show());if(a>this.currentMonth&&r>=this.currentYear)$("#err_month").text("You can't claim for this month.").show();else{var l={customerId:t,month:a,year:r,status:o};n&&(l.claimType=n),i&&(l.divisionName=i),this.apiService.post("/api/getApprovedClaim",l).subscribe(function(t){console.log(t.data),200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,console.log("records---",e.records),(n||i)&&e.filterDataTwice(n,i),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})}},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=e.target.id;this.selectedFields[t]=e.target.value;var n=this.selectedFields.type,i=this.selectedFields.division;"stockiest"!==t&&"month"!==t&&"year"!==t||(this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),n&&i?this.tempRecords=this.records.filter(function(e){return e.claimType==n&&e.divisionName==i}):n&&!i?this.tempRecords=this.records.filter(function(e){return e.claimType==n}):!n&&i?this.tempRecords=this.records.filter(function(e){return e.divisionName==i}):n||i||(this.tempRecords=this.records)},e.prototype.exportToExcel=function(){var e=[];this.tempRecords.forEach(function(t){e.push({Stockiest:t.customerId,"Claim Type":t.claimType,Month:t.claimMonth,Year:t.claimYear,"Reference No":t.invoice,Batch:t.batch,Division:t.divisionName,Material:t.material,"Material Name":t.materialName,MRP:t.mrp,PTS:t.pts,PTR:t.ptr,PTD:t.ptd,"Billing Rate":t.billingRate,Margin:t.margin,"Free QTY":t.freeQuantity,"Sale QTY":t.saleQuantity,Difference:t.difference,"Total Difference":t.totalDifference,Amount:t.amount})});var t=Wt.utils.json_to_sheet(e);for(var n in t["!cols"]=[{wch:10},{wch:10},{wch:8},{wch:5},{wch:15},{wch:10},{wch:20},{wch:15},{wch:40},{wch:10},{wch:10},{wch:10},{wch:10},{wch:15},{wch:10},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20}],t)if("object"==typeof t[n]){var i=Wt.utils.decode_cell(n);t[n].s={alignment:{vertical:"center",wrapText:1}},0==i.r&&(t[n].s.alignment={vertical:"center",wrapText:!0},t[n].s.fill={fgColor:{rgb:"585858"}},t[n].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var a=Wt.utils.book_new();Wt.utils.book_append_sheet(a,t,"Sheet1"),Wt.writeFile(a,"ClaimStatus.xlsx")},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&H.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&H.a.fire("Deleted!","Your imaginary record has been deleted.","success")}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.loggedUserId})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),H.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.loggedUserId,submittedOn:Re().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-status-claim"]],decls:90,vars:15,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["id","stockiest",1,"form-select",2,"display","none"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","type",1,"form-label","fb"],["id","type",1,"form-select"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","division",1,"form-select"],["for","month",1,"form-label","fb"],["id","month",1,"form-select"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select"],["id","err_year",1,"text-danger",2,"display","none"],["for","status",1,"form-label","fb"],["id","status",1,"form-select"],["value","approved"],["value","unapproved"],["value","inprogress"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative",2,"text-align","center"],["type","button",1,"btn","btn-info",2,"margin","28px 3px 0 3px",3,"click"],["type","button",1,"btn","btn-warning",2,"margin","28px 3px 0 3px",3,"click"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","mytable",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["details",""],["uploads",""],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[3,"value"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"mytable"],[1,"border-right",2,"width","50px"],[1,"border-right",2,"width","100px"],[1,"border-right",2,"width","90px"],[1,"border-right",2,"width","140px"],[1,"border-right",2,"width","200px"],[1,"border-right",2,"width","65px"],[1,"border-right",2,"width","80px"],[1,"border-right",2,"width","60px"],[1,"border-right",2,"width","70px"],[1,"border-right",2,"width","75px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"],[1,"border-right","tal"],[4,"ngIf"],[2,"display","none"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"col-md-6","tar"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,yr,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"div",10),a["\u0275\u0275elementStart"](15,"label",11),a["\u0275\u0275text"](16,"Stockiest *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"select",12),a["\u0275\u0275elementStart"](18,"option",13),a["\u0275\u0275text"](19," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,Sr,3,5,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](21,"span",15),a["\u0275\u0275elementStart"](22,"div",16),a["\u0275\u0275element"](23,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",9),a["\u0275\u0275elementStart"](25,"div",10),a["\u0275\u0275elementStart"](26,"label",18),a["\u0275\u0275text"](27,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"select",19),a["\u0275\u0275elementStart"](29,"option",20),a["\u0275\u0275text"](30," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](31,_r,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",9),a["\u0275\u0275elementStart"](34,"div",10),a["\u0275\u0275elementStart"](35,"label",22),a["\u0275\u0275text"](36,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"select",23),a["\u0275\u0275elementStart"](38,"option",20),a["\u0275\u0275text"](39," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,Er,3,4,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",9),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"label",24),a["\u0275\u0275text"](44,"Month *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",25),a["\u0275\u0275elementStart"](46,"option",26),a["\u0275\u0275text"](47," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,Cr,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",9),a["\u0275\u0275elementStart"](51,"div",10),a["\u0275\u0275elementStart"](52,"label",28),a["\u0275\u0275text"](53,"Year *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](54,"select",29),a["\u0275\u0275elementStart"](55,"option",26),a["\u0275\u0275text"](56," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](57,kr,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](58,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"div",9),a["\u0275\u0275elementStart"](60,"div",10),a["\u0275\u0275elementStart"](61,"label",31),a["\u0275\u0275text"](62,"Status *"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"select",32),a["\u0275\u0275elementStart"](64,"option",26),a["\u0275\u0275text"](65," -- Status -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"option",33),a["\u0275\u0275text"](67,"Approved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"option",34),a["\u0275\u0275text"](69,"UnApproved"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"option",35),a["\u0275\u0275text"](71,"Inprogress"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](72,"span",36),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",9),a["\u0275\u0275elementStart"](74,"div",37),a["\u0275\u0275elementStart"](75,"button",38),a["\u0275\u0275listener"]("click",function(){return t.getData()}),a["\u0275\u0275text"](76,"Search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"button",39),a["\u0275\u0275listener"]("click",function(){return t.clear()}),a["\u0275\u0275text"](78,"Clear"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",8),a["\u0275\u0275elementStart"](80,"div",40),a["\u0275\u0275element"](81,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,wr,4,0,"div",41),a["\u0275\u0275template"](83,Ir,2,0,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](84,Mr,38,1,"div",42),a["\u0275\u0275template"](85,Or,4,1,"div",43),a["\u0275\u0275template"](86,Rr,16,3,"ng-template",null,44,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](88,Nr,14,1,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loggedInUser.permissions.includes("7")),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](25),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData))},directives:[b.n,o.q,o.x,b.m,_.a,y.l,_t.a],pipes:[b.v,b.f],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.mytable[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:scroll;flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:180%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}"]}),e}();function Ar(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Br(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",106),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" (",n.selectedFields.stockiest,") ")}}function Qr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Ur(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Lr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function Yr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Vr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function qr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",107),a["\u0275\u0275element"](1,"img",108),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading...Please wait "),a["\u0275\u0275elementEnd"]())}function zr(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",107),a["\u0275\u0275text"](1," No record found! "),a["\u0275\u0275elementEnd"]())}function Hr(e,t){1&e&&a["\u0275\u0275element"](0,"div",129)}function Jr(e,t){1&e&&a["\u0275\u0275element"](0,"div",130)}function Wr(e,t){1&e&&a["\u0275\u0275element"](0,"div",131)}function Gr(e,t){1&e&&a["\u0275\u0275element"](0,"div",132)}function Zr(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function Kr(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function Xr(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,Hr,1,0,"div",121),a["\u0275\u0275template"](2,Jr,1,0,"div",122),a["\u0275\u0275template"](3,Wr,1,0,"div",123),a["\u0275\u0275template"](4,Gr,1,0,"div",124),a["\u0275\u0275template"](5,Zr,1,1,"div",125),a["\u0275\u0275template"](6,Kr,1,1,"div",126),a["\u0275\u0275element"](7,"div",127),a["\u0275\u0275element"](8,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function eo(e,t){1&e&&a["\u0275\u0275element"](0,"div",129)}function to(e,t){1&e&&a["\u0275\u0275element"](0,"div",130)}function no(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function io(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function ao(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,eo,1,0,"div",121),a["\u0275\u0275template"](2,to,1,0,"div",122),a["\u0275\u0275template"](3,no,1,1,"div",125),a["\u0275\u0275template"](4,io,1,1,"div",126),a["\u0275\u0275element"](5,"div",127),a["\u0275\u0275element"](6,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function ro(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",133),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_approvedIcon_",n._id,"")}}function oo(e,t){if(1&e&&a["\u0275\u0275element"](0,"div",134),2&e){var n=a["\u0275\u0275nextContext"](2).$implicit;a["\u0275\u0275propertyInterpolate1"]("id","def_unapprovedIcon_",n._id,"")}}function lo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",120),a["\u0275\u0275template"](1,ro,1,1,"div",125),a["\u0275\u0275template"](2,oo,1,1,"div",126),a["\u0275\u0275element"](3,"div",127),a["\u0275\u0275element"](4,"div",128),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===n.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","approvedIcon_",n._id,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","unapprovedIcon_",n._id,"")}}function so(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",136),a["\u0275\u0275elementStart"](1,"i",137),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit,i=a["\u0275\u0275nextContext"](2).$implicit,r=a["\u0275\u0275nextContext"](2),o=a["\u0275\u0275reference"](85);return r.viewPopup(o,e,i.invoice,i._id)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("ngbTooltip",i.originalFilename)}}function co(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,so,2,1,"span",135),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.files)}}function mo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",141),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function po(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function uo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",138),a["\u0275\u0275elementStart"](1,"span",139),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Approve")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",140),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).validateFoApproval(e,"Unapprove")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",141),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).editRecord(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function fo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"img",142),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).comments(e)}),a["\u0275\u0275elementEnd"]()}}function ho(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",112),a["\u0275\u0275elementStart"](1,"td",113),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",113),a["\u0275\u0275template"](4,Xr,9,8,"div",114),a["\u0275\u0275template"](5,ao,7,6,"div",114),a["\u0275\u0275template"](6,lo,5,4,"div",114),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",115),a["\u0275\u0275template"](8,co,2,1,"div",104),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",113),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",113),a["\u0275\u0275text"](13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",116),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"td",116),a["\u0275\u0275text"](18),a["\u0275\u0275pipe"](19,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"td",113),a["\u0275\u0275text"](21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"td",113),a["\u0275\u0275text"](23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"td",113),a["\u0275\u0275text"](25),a["\u0275\u0275pipe"](26,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"td",113),a["\u0275\u0275text"](28),a["\u0275\u0275pipe"](29,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"td",113),a["\u0275\u0275text"](31),a["\u0275\u0275pipe"](32,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"td",113),a["\u0275\u0275text"](34),a["\u0275\u0275pipe"](35,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"td",113),a["\u0275\u0275text"](37),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"td",113),a["\u0275\u0275text"](39),a["\u0275\u0275pipe"](40,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"td",113),a["\u0275\u0275text"](42),a["\u0275\u0275pipe"](43,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"td",113),a["\u0275\u0275text"](45),a["\u0275\u0275pipe"](46,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"td",117),a["\u0275\u0275template"](48,mo,4,0,"span",118),a["\u0275\u0275template"](49,po,3,0,"span",118),a["\u0275\u0275template"](50,uo,4,0,"span",118),a["\u0275\u0275template"](51,fo,1,0,"img",119),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.files),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,23,n.claimType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.invoice),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](16,25,n.divisionName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](19,27,n.materialName)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.batchDetail[0].material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](26,29,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](29,32,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](32,35,n.billingRate,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](35,38,n.freeQuantity,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.saleQuantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](40,41,n.difference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](43,44,n.totalDifference,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](46,47,n.amount,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",1===n.suhStatus&&"ho"===r.sessionData.type&&(null===r.sessionData.workType||""===r.sessionData.workType)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",1===n.ftStatus&&"field"===r.sessionData.type&&"suh"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","field"===r.sessionData.type&&"field"===r.sessionData.workType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.ftUpdateComment||n.hoUpdateComment||2===n.ftStatus||2===n.suhStatus||2===n.hoStatus||2===n.ho1Status)}}function vo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",10),a["\u0275\u0275elementStart"](1,"div",109),a["\u0275\u0275elementStart"](2,"div",110),a["\u0275\u0275elementStart"](3,"table",62),a["\u0275\u0275elementStart"](4,"tr"),a["\u0275\u0275elementStart"](5,"th",63),a["\u0275\u0275text"](6,"SNo."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",63),a["\u0275\u0275text"](8,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",63),a["\u0275\u0275text"](10,"Attachment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",63),a["\u0275\u0275text"](12,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",63),a["\u0275\u0275text"](14,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",63),a["\u0275\u0275text"](16,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",63),a["\u0275\u0275text"](18,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"th",63),a["\u0275\u0275text"](20,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th",63),a["\u0275\u0275text"](22,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th",63),a["\u0275\u0275text"](24,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"th",63),a["\u0275\u0275text"](26,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"th",63),a["\u0275\u0275text"](28,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"th",63),a["\u0275\u0275text"](30,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"th",63),a["\u0275\u0275text"](32,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"th",63),a["\u0275\u0275text"](34,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"th",63),a["\u0275\u0275text"](36,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"th",63),a["\u0275\u0275text"](38,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"th",63),a["\u0275\u0275text"](40,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](41,ho,52,50,"tr",111),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](41),a["\u0275\u0275property"]("ngForOf",n.tempRecords)}}function go(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",143),a["\u0275\u0275elementStart"](1,"div",144),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" Records: ",n.tempRecords.length," ")}}function bo(e,t){if(1&e&&a["\u0275\u0275element"](0,"pdf-viewer",155),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("src",n.pdfSource)("original-size",!1)}}function xo(e,t){if(1&e&&a["\u0275\u0275element"](0,"img",156),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275propertyInterpolate2"]("src","",n.apiURL,"/uploads/files/",n.clickedFile.filename,"",a["\u0275\u0275sanitizeUrl"])}}function yo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",145),a["\u0275\u0275elementStart"](1,"h4",146),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",147),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",148),a["\u0275\u0275template"](7,bo,1,2,"pdf-viewer",149),a["\u0275\u0275template"](8,xo,1,2,"img",150),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",151),a["\u0275\u0275elementStart"](10,"button",152),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.newTab(e.clickedFile)}),a["\u0275\u0275text"](11,"Open in new tab"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",153),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](13,"Delete"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",154),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](15,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Attachment of invoice `",i.clickedFile.invoice,"`"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",i.pdfSource),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.pdfSource)}}function So(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",145),a["\u0275\u0275elementStart"](1,"h4",146),a["\u0275\u0275text"](2,"Upload on invoice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"button",147),a["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",51),a["\u0275\u0275elementStart"](5,"div",10),a["\u0275\u0275elementStart"](6,"div",157),a["\u0275\u0275elementStart"](7,"input",158,159),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var t=a["\u0275\u0275nextContext"]();return t.onFileSelected(e,t.uploadFile)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",151),a["\u0275\u0275elementStart"](10,"button",160),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]();return e.confirmBoxDeleteFile(e.clickedFile)}),a["\u0275\u0275text"](11,"Upload"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",154),a["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),a["\u0275\u0275text"](13,"Close"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("accept",i.requiredFileType)}}function _o(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Eo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.organization)," ")}}function Co(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ko(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function wo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",105),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Io(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftUpdateComment)}}function $o(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by FT"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ftApprovalComment)}}function Fo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by SUH"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.suhApprovalComment)}}function Do(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Updated"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoUpdateComment)}}function Mo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.hoApprovalComment)}}function Oo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",161),a["\u0275\u0275text"](2,"Un-approved"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275text"](4,"by HO1"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",162),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](n.clickedRecord.ho1ApprovalComment)}}var Po=function(){function e(e,t,n,i,a){this.router=e,this.fb=t,this.modalService=n,this.activatedRoute=i,this.apiService=a,this.apiURL=Z,this.faStar=x.d,this.faPlus=x.c,this.heading="Approval",this.subheading="To approve the claim sent by the stockist.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!0,this.showData=!0,this.submitted=!1,this.types=[{id:"scheme",name:"Scheme and Rate Difference"},{id:"sample",name:"Sample Sales"},{id:"special",name:"Special Discount"}],this.months=[{id:1,name:"01 - January"},{id:2,name:"02 - February"},{id:3,name:"03 - March"},{id:4,name:"04 - April"},{id:5,name:"05 - May"},{id:6,name:"06 - June"},{id:7,name:"07 - July"},{id:8,name:"08 - August"},{id:9,name:"09 - September"},{id:10,name:"10 - October"},{id:11,name:"11 - November"},{id:12,name:"12 - December"}],this.years=[],this.records=[],this.batches=[],this.products=[],this.fileNames=[],this.divisions=[],this.stockiests=[],this.categories=[],this.particulars=[],this.clickedFile=[],this.tempRecords=[],this.sessionData="",this.selectedFields=[],this.divisions_edit=[],this.alignedStockiest=[],this.pdfSource="",this.salesAndRemainings=[],this.allotedInvoiceQty=[],this.allotedHoInvoiceQty=[],this.allotedQty=0,this.requestedQty=0,this.displayStyle="none",this.approvalClickedClaim=[],this.distributors=[],this.userDistributors=[],this.userPlantStockists=[],this.userPlantDivisions=[],this.clickedRecord=[]}return e.prototype.ngOnInit=function(){var e=this,t=sessionStorage.getItem("laUser");t||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(t),this.heading="ho"===this.sessionData.type?"HO Approval":"Field Approval";var n=Re().format("MM");this.currentMonth=parseInt(n);var i=Re().format("YYYY");this.currentYear=parseInt(i);for(var a=parseInt(i);a>parseInt(i)-3;a--)this.years.push({id:a,name:a});this.delay(1e3).then(function(t){parseInt(n)-1<=0?(e.selectedYear=parseInt(i)-1,e.selectedMonth=12):(e.selectedYear=i,e.selectedMonth=parseInt(n)-1),$("#month").val(e.selectedMonth),$("#year").val(e.selectedYear),$("#distributor").val($("#distributor option:eq(1)").val()),$("#distributor_loader").hide(),$("#distributor").show(),e.getStockiest(),e.getDivisions(),e.delay(1e3).then(function(t){var n=$("#distributor option:selected").val(),i=$("#stockiest option:selected").val(),a=$("#month option:selected").val(),r=$("#year option:selected").val();e.selectedFields.distributor=n,e.selectedFields.stockiest=i,e.selectedFields.type="",e.selectedFields.division="",e.selectedFields.month=a,e.selectedFields.year=r,e.getData()})}),this.getDistributors(),this.getParticulars(),this.getCategories(),this.getProduct(),this.getBatch(),this.getUserDistStockistDivision()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.validateMonth=function(e){$("#err_month").hide();var t=$("#year option:selected").val();$("#month option:selected").val()>this.currentMonth&&t>=this.currentYear?$("#err_month").text("You can't claim for this month.").show():this.filterData(e)},e.prototype.getDistributors=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getUserDistStockistDivision=function(){var e=this;this.apiService.get("/api/user/getDistStockistDivision",this.sessionData.id).subscribe(function(t){200===t.status&&t.data&&t.data.forEach(function(t){var n=e.distributors.filter(function(e){return t.plant===e.plant});e.userDistributors.push(n[0]),e.userPlantStockists[t.plant]=t.stockists,e.userPlantDivisions[t.plant]=t.divisions})})},e.prototype.getStockiest=function(){var e=this,t=[],n=$("#distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(t){$("#stockiest").val($("#stockiest option:eq(1)").val()),$("#stockiest_loader").hide(),$("#stockiest").show();var n=$("#stockiest option:selected").val();e.selectedFields.stockiest=n}))})},e.prototype.getDivisions=function(){var e=this,t=[];this.divisions=[];var n=$("#distributor option:selected").val();console.log(n),this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data,e.divisions_edit=t.data)})},e.prototype.getStockiest_edit=function(){var e=this,t=[],n=$("#edit_distributor option:selected").val();this.userPlantStockists[n].forEach(function(e){t.push(Number(e))}),this.getDivisions_edit(),this.apiService.post("/api/getStockiest",t).subscribe(function(t){200===t.status&&t.data.length&&(e.stockiests=t.data,e.delay(5).then(function(e){$("#edit_stockiest").val($("#edit_stockiest option:eq(1)").val())}))})},e.prototype.getDivisions_edit=function(){var e=this,t=[];this.divisions=[];var n=$("#edit_distributor option:selected").val();this.userPlantDivisions[n].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/getDivision",t).subscribe(function(t){200===t.status&&t.data.length&&(e.divisions_edit=t.data)})},e.prototype.getData=function(){var e=this;this.loading=this.showData=!0,this.records=this.tempRecords=[];var t=[];this.userPlantDivisions[this.selectedFields.distributor].forEach(function(e){t.push(Number(e))}),this.apiService.post("/api/claimForApproval",{plant:this.selectedFields.distributor,customerId:this.selectedFields.stockiest,divisions:t,month:this.selectedFields.month,year:this.selectedFields.year}).subscribe(function(t){200===t.status?t.data.length?(t.data.sort(function(e,t){return e.invoice-t.invoice}),e.records=t.data,e.tempRecords=t.data,(e.selectedFields.type||e.selectedFields.division)&&e.filterDataTwice(e.selectedFields.type,e.selectedFields.division),e.loading=!1,e.showData=!0):e.loading=e.showData=!1:e.toast("error",t.message)})},e.prototype.filterDataTwice=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.selectedFields.type=e,this.selectedFields.division=t,$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division),e&&t?this.tempRecords=this.records.filter(function(n){return n.claimType==e&&n.divisionName==t}):e&&!t?this.tempRecords=this.records.filter(function(t){return t.claimType==e}):!e&&t?this.tempRecords=this.records.filter(function(e){return e.divisionName==t}):e||t||(this.tempRecords=this.records)},e.prototype.filterData=function(e){var t=this;this.loading=!0,this.showData=!0;var n=e.target.id;this.selectedFields[n]=e.target.value,$("#divisionCode").text("");var i=this.selectedFields.type,a=this.selectedFields.division;if("distributor"===n&&(this.getStockiest(),this.getDivisions(),this.delay(1e3).then(function(e){t.getData(),t.selectedFields.type="",t.selectedFields.division="",$("#type").val(t.selectedFields.type),$("#division").val(t.selectedFields.division)})),"stockiest"!==n&&"month"!==n&&"year"!==n||(this.getData(),this.selectedFields.type="",this.selectedFields.division="",$("#type").val(this.selectedFields.type),$("#division").val(this.selectedFields.division)),a){var r=this.divisions.filter(function(e){return e.division==Number(a)})[0].division;$("#divisionCode").text("("+r+")")}i&&a?this.tempRecords=this.records.filter(function(e){return e.claimType==i&&e.divisionId===Number(a)}):i&&!a?this.tempRecords=this.records.filter(function(e){return e.claimType==i}):!i&&a?this.tempRecords=this.records.filter(function(e){return e.divisionId===Number(a)}):i||a||(this.tempRecords=this.records),this.tempRecords.length?(this.loading=!1,this.showData=!0):(this.loading=!1,this.showData=!1)},e.prototype.viewPopup=function(e,t,n,i){var a=this;this.pdfSource="",this.clickedFile=t,this.clickedFile.invoice=n;var r=this.clickedFile.filename.substring(this.clickedFile.filename.length-4);".pdf"!==r&&".PDF"!==r||(this.pdfSource=this.apiURL+"/uploads/files/"+this.clickedFile.filename),this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){a.closeResult="Closed with: "+e},function(e){a.closeResult="Dismissed "+a.getDismissReason(e)})},e.prototype.confirmBoxDelete=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this record!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/delete",{_id:e}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error")})},e.prototype.confirmBoxDeleteFile=function(e){var t=this;H.a.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this image/file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(n){n.value?t.apiService.update("/api/claim/deleteFile",{_id:e._id}).subscribe(function(e){200===e.status&&(t.getData(),H.a.fire("Deleted!","Your imaginary record has been deleted.","success"))}):n.dismiss===H.a.DismissReason.cancel&&H.a.fire("Cancelled","Your imaginary record is safe :)","error"),t.modalReference.close()})},e.prototype.uploadwPopup=function(e,t){var n=this;this.uploadFile=t,this.modalReference=this.modalService.open(e),this.modalReference.result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.onFileSelected=function(e,t){for(var n=this,i=new FormData,a=0;a<e.target.files.length;a++)i.append("file",e.target.files[a]);this.apiService.upload("/api/UploadClaimInvoices",i).subscribe(function(e){if(200===e.status){if(e.data.length){var i=[];e.data.forEach(function(e){i.push({claimId:t,filename:e.filename,originalFilename:e.originalname,createdBy:n.sessionData.id})}),n.apiService.post("/api/claim/fileUpload",i).subscribe(function(e){200===e.status?(n.modalReference.close(),n.getData(),H.a.fire("Uploaded!","Your image/file has been uploaded.","success")):(n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error"))})}}else n.modalReference.close(),H.a.fire("Cancelled","Something went wrong. Try refreshing the page or try again later.","error")})},e.prototype.postClaim=function(){var e=this,t=0,n=[];this.records.forEach(function(e){e.files.length&&n.push({invoice:e.invoice,file:e.files[0].filename})});var i=Object(c.g)(new Map(n.map(function(e){return[e.invoice,e]})).values()),a=this.records.filter(function(e){var t=e.invoice;return!i.some(function(e){return e.invoice===t})}),r=Object(c.g)(new Map(a.map(function(e){return[e.invoice,e]})).values());if(r&&r.forEach(function(n){t=1,$("."+n.invoice).show(),e.toast("error","All invoices must have at least one file uploaded.")}),this.tempRecords.length<=0&&(t=1,this.toast("error","Currently there are no claims on the list.")),0===t){var o=[];this.tempRecords.forEach(function(t,n){var i={_id:t._id,isDraft:!1,isSubmit:!0,submittedBy:e.sessionData.id,submittedOn:Re().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")};o.push(i)}),this.apiService.post("/api/claim/submit",o).subscribe(function(t){200===t.status&&(e.toast("success","Successfully submitted."),setTimeout(function(){window.location.reload()},1e3))})}},e.prototype.getParticulars=function(){var e=this;this.apiService.fetch("/api/particulars/all").subscribe(function(t){200===t.status&&t.data.length&&(e.particulars=t.data)})},e.prototype.searchParticulars=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key?i.length?($("#particulars_loader_"+r).show(),a=this.matchParticulars(i,t),this.delay(200).then(function(e){n.particularsSuggestions(a,i,t)})):$("#particulars_suggestion_"+r).hide():i.length<=0&&($("#particulars_suggestion_"+r).hide(),$("#particulars_loader_"+r).hide())},e.prototype.matchParticulars=function(e,t){var n=e.toLowerCase();return this.particulars.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.particularsSuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#particulars_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#particulars_"+i).val(""):1==r.length?($("#particulars_"+i).val(r[0].input),$("#particulars_suggestion_"+i).hide()):(a.classList.add("has-suggestions"),$("#particulars_suggestion_"+i).show()),$("#particulars_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#particulars_suggestion_"+i).hide(),$("#particulars_loader_"+i).hide()},e.prototype.particularsSelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#particulars_suggestion_"+n+" ul");$("#particulars_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#particulars_suggestion_"+n).hide(),$("#particulars_loader_"+n).hide()},e.prototype.getCategories=function(){var e=this;this.apiService.fetch("/api/category/all").subscribe(function(t){200===t.status&&t.data.length&&(e.categories=t.data)})},e.prototype.searchCategory=function(e,t){var n=this,i=e.currentTarget.value,a=[],r=-1===t?"def":t;"Tab"!=e.key&&(i.length?($("#category_loader_"+r).show(),a=this.matchCategory(i,t),this.delay(10).then(function(e){n.categorySuggestions(a,i,t)})):$("#category_suggestion_"+r).hide())},e.prototype.matchCategory=function(e,t){var n=e.toLowerCase();return this.categories.filter(function(e){return e.name.toLowerCase().indexOf(n)>-1})},e.prototype.categorySuggestions=function(e,t,n){var i=-1===n?"def":n,a=document.querySelector("#category_suggestion_"+i+" ul");if(a.innerHTML="",e.length>0){var r=[];e.forEach(function(e,n){var i=e.name.match(new RegExp("^"+t,"i"));i&&(r.push(i),a.innerHTML+="<li>"+i.input+"</li>")}),0==r.length?$("#category_"+i).val(""):1==r.length?$("#category_"+i).val(r[0].input):(a.classList.add("has-suggestions"),$("#category_suggestion_"+i).show()),$("#category_loader_"+i).hide()}else e=[],a.innerHTML="",a.classList.remove("has-suggestions"),$("#category_suggestion_"+i).hide(),$("#category_loader_"+i).hide()},e.prototype.categorySelection=function(e,t){var n=-1===t?"def":t,i=document.querySelector("#category_suggestion_"+n+" ul");$("#category_"+n).val(e.target.innerText),i.innerHTML="",i.classList.remove("has-suggestions"),$("#category_suggestion_"+n).hide(),$("#category_loader_"+n).show()},e.prototype.searchDivision=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_division_id").val(""),$("#edit_product").val(""),$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_division_loader").show(),t=this.matchDivision(i),this.delay(10).then(function(e){n.divisionSuggestions(t,i)})):$("#edit_division_suggestion").hide()},e.prototype.matchDivision=function(e){var t=e.toLowerCase();return this.divisions_edit.filter(function(e){return e.name.toLowerCase().indexOf(t)>-1})},e.prototype.divisionSuggestions=function(e,t){var n=document.querySelector("#edit_division_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.name.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_division_suggestion").show(),$("#edit_division_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide(),$("#edit_division_loader").hide())},e.prototype.divisionSelection=function(e){var t,n=document.querySelector("#edit_division_suggestion ul");$("#edit_division").val(e.target.innerText),(t=this.divisions.filter(function(t){return t.name.toLowerCase().indexOf(e.target.innerText.toLowerCase())>-1})).length>1?(console.log("...More then one division...",t),$("#edit_division_id").val("")):$("#edit_division_id").val(t[0].division),n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_division_suggestion").hide()},e.prototype.searchProduct=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_material").val(""),$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_product_loader").show(),t=this.matchProduct(i),this.delay(10).then(function(e){n.productSuggestions(t,i)})):$("#edit_product_suggestion").hide()},e.prototype.matchProduct=function(e){var t=e.toLowerCase(),n=$("#edit_division_id").val();return this.products.filter(function(e){return e.materialName.toLowerCase().indexOf(t)>-1&&e.division===Number(n)})},e.prototype.productSuggestions=function(e,t){var n=document.querySelector("#edit_product_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){var a=e.materialName.match(new RegExp("^"+t,"i"));a&&(n.innerHTML+="<li>"+a.input+"</li>")}),n.classList.add("has-suggestions"),$("#edit_product_suggestion").show(),$("#edit_product_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_product_suggestion").hide(),$("#edit_product_loader").hide())},e.prototype.productSelection=function(e){var t=[];t=this.products.filter(function(t){return t.materialName.toLowerCase()===e.target.innerText.toLowerCase()});var n="";t.length>1?t.forEach(function(e,i){n+=i+1==t.length?e.material:e.material+","}):n=t[0].material;var i=document.querySelector("#edit_product_suggestion ul");i.innerHTML="",i.classList.remove("has-suggestions"),$("#edit_product").val(e.target.innerText),$("#edit_material").val(n),$("#edit_product_suggestion").hide()},e.prototype.searchBatch=function(e){var t,n=this,i=e.currentTarget.value;$("#edit_batch").val(""),$("#edit_mrp").val(Number(0).toFixed(2)),$("#edit_pts").val(Number(0).toFixed(2)),$("#edit_billingRate").val(""),this.changeCalculation(e),i.length?($("#edit_batch_loader").show(),t=this.matchBatch(i),this.delay(10).then(function(e){n.batchSuggestions(t,i)})):$("#edit_batch_suggestion").hide()},e.prototype.matchBatch=function(e){var t=this,n=e.toLowerCase(),i=$("#edit_division_id").val(),a=$("#edit_material").val().split(","),r=[];return a.forEach(function(e){var a;(a=t.batches.filter(function(t){return t.material===Number(e)&&t.division===Number(i)&&t.batch.toLowerCase().indexOf(n)>-1})).length&&r.push(a)}),r},e.prototype.batchSuggestions=function(e,t){var n=document.querySelector("#edit_batch_suggestion ul");n.innerHTML="",e.length>0?(e.forEach(function(e,i){e.forEach(function(e){var i=e.batch.match(new RegExp("^"+t,"i"));i&&(n.innerHTML+="<li>"+i.input+"</li>")})}),n.classList.add("has-suggestions"),$("#edit_batch_suggestion").show(),$("#edit_batch_loader").hide()):(e=[],n.innerHTML="",n.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide(),$("#edit_batch_loader").hide())},e.prototype.batchSelection=function(e){var t=document.querySelector("#edit_batch_suggestion ul");$("#edit_batch").val(e.target.innerText),t.innerHTML="",t.classList.remove("has-suggestions"),$("#edit_batch_suggestion").hide();var n=this.batches.filter(function(t){return t.batch===e.target.innerText}),i=n.length?n[0].mrp:0,a=n.length?n[0].pts:0,r=n.length?n[0].ptr:0,o=n.length?n[0].ptd:0,l=n.length?n[0].material:"";$("#edit_material").val(l),$("#edit_mrp").val(i.toFixed(2)),$("#edit_pts").val(a.toFixed(2)),$("#edit_ptr").val(r.toFixed(2)),$("#edit_ptd").val(o.toFixed(2))},e.prototype.getBatch=function(){var e=this;this.apiService.fetch("/api/batch/all").subscribe(function(t){200===t.status&&t.data.length&&(e.batches=t.data)})},e.prototype.validateFoApproval=function(e,t){return Object(c.b)(this,void 0,void 0,function(){var n,i;return Object(c.d)(this,function(a){switch(a.label){case 0:return n="",this.approvalClickedClaim=[],[4,this.getClaimById(e._id)];case 1:if(i=a.sent()){if("field"===this.sessionData.type&&"field"===this.sessionData.workType&&0!=i.suhStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("field"===this.sessionData.type&&"suh"===this.sessionData.workType&&0!=i.hoStatus)return H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error"),[2];if("Approve"===t){if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(1===i.ftStatus)return H.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.ftStatus=1,i.ftApprovalComment=null,i.ftActionBy=this.sessionData.id,i.ftActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error"),[2];if(1===i.suhStatus)return H.a.fire("Oops... can't proceed","This claim has already been accepted.","error"),[2];i.suhStatus=1,i.suhApprovalComment=null,i.suhActionBy=this.sessionData.id,i.suhActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}i.claimType||(n+="Enter claim type.<br>"),i.invoice||(n+="Enter reference number.<br>"),i.divisionName||(n+="Enter division.<br>"),i.materialName||(n+="Enter product.<br>"),i.batch||(n+="Enter batch.<br>"),i.billingRate||i.freeQuantity?i.billingRate||i.saleQuantity?i.billingRate&&!i.saleQuantity&&(n+="Enter sale quantity.<br>"):n+="Enter free quantity and/or sale quantity.<br>":n+="Enter billing rate or free quantity.<br>"}else if("Unapprove"===t)if("field"===this.sessionData.type&&"field"===this.sessionData.workType){if(2===i.ftStatus)return H.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.ftStatus=2,i.ftActionBy=this.sessionData.id,i.ftActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}else if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0===i.ftStatus)return H.a.fire("Oops... can't proceed","Claim has not been accepted or rejected by the field team.","error"),[2];if(2===i.suhStatus)return H.a.fire("Oops... can't proceed","This claim has already been rejected.","error"),[2];i.suhStatus=2,i.suhActionBy=this.sessionData.id,i.suhActionOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]")}}else n+="Clam doesn't exists.<br>";return n?H.a.fire({title:"Please correct the points:",icon:"info",html:n,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"Okay!",confirmButtonAriaLabel:"Thumbs up, great!"}):"Unapprove"===t?($("#comments").val(""),this.approvalClickedClaim=i,document.getElementById("myModalComment").style.display="block"):this.apiService.post("/api/claim/updateClaim",i).subscribe(function(n){200===n.status?"Approve"===t&&($("#def_approvedIcon_"+e._id).hide(),$("#def_unapprovedIcon_"+e._id).hide(),$("#approvedIcon_"+e._id).show(),$("#unapprovedIcon_"+e._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Oops","Something went wrong please try again.","error")}),[2]}})})},e.prototype.getClaimById=function(e){var t=this;return new Promise(function(n){t.apiService.get("/api/getClaim",e).subscribe(function(e){n(200===e.status&&e.data.length?e.data[0]:[])})})},e.prototype.openPopup=function(){this.displayStyle="block"},e.prototype.closePopup=function(){this.displayStyle="none"},e.prototype.approve=function(){return Object(c.b)(this,void 0,void 0,function(){var e=this;return Object(c.d)(this,function(t){switch(t.label){case 0:return this.requestedQty>this.allotedQty?(H.a.fire({title:"Are you sure want to approve?",text:"Only "+this.allotedQty+" quantities out of "+this.requestedQty+" are being allotted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, keep it"}).then(function(t){return Object(c.b)(e,void 0,void 0,function(){var e=this;return Object(c.d)(this,function(n){switch(n.label){case 0:return t.value?[4,this.allocateQuantity(this.allotedInvoiceQty)]:[3,2];case 1:return n.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.sessionData.id,this.approvalClickedClaim.approvedOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),[3,3];case 2:t.dismiss===H.a.DismissReason.cancel&&(H.a.fire("Cancelled","Your record is safe :)","error"),this.closePopup()),n.label=3;case 3:return[2]}})})}),[3,3]):[3,1];case 1:return[4,this.allocateQuantity(this.allotedInvoiceQty)];case 2:t.sent(),this.approvalClickedClaim.isApproved=!0,this.approvalClickedClaim.isUnapproved=!1,this.approvalClickedClaim.approvedBy=this.sessionData.id,this.approvalClickedClaim.approvedOn=Re().format("YYYY-MM-DDTHH:mm:ss.000[Z]"),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?($("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).show(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).hide(),H.a.fire("Approved!","You approved the claim successfully.","success")):H.a.fire("Sorry","Something went wrong please try again later.","error")}),this.closePopup(),t.label=3;case 3:return[2]}})})},e.prototype.allocateQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocateQuantity",e).subscribe(function(e){n(200===e.status?e:[])})})},e.prototype.getAllocatedQuantity=function(e){var t=this;return new Promise(function(n){t.apiService.post("/api/sales/allocatedQuantity",{_id:e}).subscribe(function(e){n(200===e.status&&e.data.length?e.data:[])})})},e.prototype.editRecord=function(e){if("field"!==this.sessionData.type||"field"!==this.sessionData.workType||0==e.suhStatus){if("field"===this.sessionData.type&&"suh"===this.sessionData.workType){if(0!=e.hoStatus)return void H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error");if(2===e.ftStatus)return void H.a.fire("Oops... can't proceed","Claim has been rejected by the field team.","error")}$("#edit_id").val(e._id),$("#edit_distributor").val(e.plant),$("#edit_stockiest").val(e.customerId),$("#edit_type").val(e.claimType),$("#edit_month").val(e.claimMonth),$("#edit_year").val(e.claimYear),$("#edit_invoice").val(e.invoice),$("#edit_batch").val(e.batch),$("#edit_division").val(e.divisionName),$("#edit_product").val(e.materialName),$("#edit_material").val(e.batchDetail[0].material),$("#edit_mrp").val(e.mrp),$("#edit_pts").val(e.pts),$("#edit_billingRate").val(e.billingRate),$("#edit_margin").val(e.margin),$("#edit_freeQuantity").val(e.freeQuantity),$("#edit_saleQuantity").val(e.saleQuantity),$("#edit_difference").val(e.difference),$("#edit_totalDifference").val(e.totalDifference),$("#edit_amount").val(e.amount),document.getElementById("myModal").style.display="block",this.validateClaim()}else H.a.fire("Sorry","Further process has been done on this claim so you cannot take any action now.","error")},e.prototype.closeEditModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModal").style.display="none"},e.prototype.closeCommentModal=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass"),document.getElementById("myModalComment").style.display="none"},e.prototype.rejectClaim=function(){var e=this,t=$.trim($("#comments").val());t?("field"===this.sessionData.type&&"field"===this.sessionData.workType?this.approvalClickedClaim.ftApprovalComment=t:"field"===this.sessionData.type&&"suh"===this.sessionData.workType&&(this.approvalClickedClaim.suhApprovalComment=t),this.apiService.post("/api/claim/updateClaim",this.approvalClickedClaim).subscribe(function(t){200===t.status?H.a.fire("Un-Approved!","You un-approved the claim successfully.","success"):H.a.fire("Oops","Something went wrong please try again.","error"),$("#def_approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#def_unapprovedIcon_"+e.approvalClickedClaim._id).hide(),$("#approvedIcon_"+e.approvalClickedClaim._id).hide(),$("#unapprovedIcon_"+e.approvalClickedClaim._id).show(),e.closeCommentModal()})):H.a.fire("Sorry","Please write the reason for rejection.","error")},e.prototype.closeUpdateCommentModal=function(){document.getElementById("updateModalComment").style.display="none"},e.prototype.updateCommentClaim=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t=this;return Object(c.d)(this,function(n){return e={_id:$("#edit_id").val(),plant:$("#edit_distributor").val(),customerId:$("#edit_stockiest").val(),claimType:$("#edit_type").val(),claimMonth:$("#edit_month").val(),claimYear:$("#edit_year").val(),invoice:$("#edit_invoice").val(),batch:$("#edit_batch").val(),divisionName:$("#edit_division").val(),material:$("#edit_material").val(),materialName:$("#edit_product").val(),mrp:$("#edit_mrp").val(),pts:$("#edit_pts").val(),ptr:$("#edit_ptr").val(),ptd:$("#edit_ptd").val(),billingRate:$("#edit_billingRate").val(),margin:$("#edit_margin").val(),freeQuantity:$("#edit_freeQuantity").val(),saleQuantity:$("#edit_saleQuantity").val(),difference:$("#edit_difference").val(),totalDifference:$("#edit_totalDifference").val(),amount:$("#edit_amount").val()},"field"===this.sessionData.type&&"field"===this.sessionData.workType?e.ftUpdateComment=$("#update_comments").val():"field"===this.sessionData.type&&"suh"===this.sessionData.workType?e.suhUpdateComment=$("#update_comments").val():e.ftUpdateComment=$("#update_comments").val(),this.apiService.post("/api/claim/updateClaim",e).subscribe(function(e){200===e.status?(t.toast("success","Successfully updated."),setTimeout(function(){window.location.reload()},2e3)):t.toast("error","Something went wrong. Try refreshing the page or try again later.")}),[2]})})},e.prototype.changeCalculation=function(e){$("#edit_freeQuantity").attr("readonly",!1),$("#edit_billingRate").removeClass("grf-invalid"),$("#edit_freeQuantity").removeClass("grf-invalid"),$("#edit_saleQuantity").removeClass("grf-invalid");var t=$("#edit_billingRate").val(),n=$("#edit_freeQuantity").val(),i=$("#edit_saleQuantity").val(),a=/^\d*\.?\d*$/;if(a.test(t)||$("#edit_billingRate").addClass("grf-invalid"),a.test(n)||$("#edit_freeQuantity").addClass("grf-invalid"),a.test(i)||$("#edit_saleQuantity").addClass("grf-invalid"),0==t)if($("#edit_margin").val(0),n){var r=$("#edit_pts").val()*n;$("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(r.toFixed(2))}else $("#edit_difference").val(Number(0).toFixed(2)),$("#edit_totalDifference").val(Number(0).toFixed(2)),$("#edit_amount").val(Number(0).toFixed(2));else if($("#edit_freeQuantity").val(""),$("#edit_freeQuantity").attr("readonly",!0),t&&i){""!=$("#edit_margin").val()&&0!=$("#edit_margin").val()||$("#edit_margin").val(10);var o=$("#edit_margin").val(),l=$("#edit_pts").val()-t,s=l+t*o/100;r=s*i,$("#edit_difference").val(l.toFixed(2)),$("#edit_totalDifference").val(s.toFixed(2)),$("#edit_amount").val(r.toFixed(2))}},e.prototype.validateClaim=function(){$(".form-select").removeClass("errorClass"),$(".form-control").removeClass("errorClass");var e=0,t=$("#edit_stockiest").val(),n=$("#edit_type").val(),i=$("#edit_month").val(),a=$("#edit_year").val(),r=$("#edit_invoice").val(),o=$("#edit_batch").val(),l=$("#edit_division").val(),s=$("#edit_product").val(),d=$("#edit_material").val(),c=$("#edit_mrp").val(),m=$("#edit_pts").val(),p=$("#edit_billingRate").val(),u=$("#edit_freeQuantity").val(),f=$("#edit_amount").val();t||(e=1,$("#edit_stockiest").addClass("errorClass")),n||(e=1,$("#edit_type").addClass("errorClass")),i||(e=1,$("#edit_month").addClass("errorClass")),a||(e=1,$("#edit_year").addClass("errorClass")),r||(e=1,$("#edit_invoice").addClass("errorClass")),o||(e=1,$("#edit_batch").addClass("errorClass")),l||(e=1,$("#edit_batch").addClass("errorClass")),s||(e=1,$("#edit_batch").addClass("errorClass")),d||(e=1,$("#edit_batch").addClass("errorClass")),c||(e=1,$("#edit_batch").addClass("errorClass")),m||(e=1),p<0&&(e=1,$("#edit_batch").addClass("errorClass"),$("#edit_billingRate").addClass("errorClass")),f<=0&&(e=1,$("#edit_amount").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),0!=p||u&&0!=u||(e=1,$("#edit_billingRate").addClass("errorClass"),$("#edit_freeQuantity").addClass("errorClass")),$("#edit_error").val(e)},e.prototype.getProduct=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.products=t.data)})},e.prototype.updateClaim=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(e){return this.validateClaim(),0!=$("#edit_error").val()?this.toast("error","Something is wrong please fix before updating."):($("#update_comments").val(""),document.getElementById("updateModalComment").style.display="block"),[2]})})},e.prototype.getDismissReason=function(e){return e===y.a.ESC?"by pressing ESC":e===y.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.newTab=function(e){window.open(this.apiURL+"/uploads/files/"+this.clickedFile.filename)},e.prototype.comments=function(e){console.log(e),this.clickedRecord=e,console.log(this.clickedRecord),document.getElementById("modalComments").style.display="block"},e.prototype.closeCommentsModal=function(){document.getElementById("modalComments").style.display="none"},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](y.f),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-fo-approval"]],decls:268,vars:44,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading",2,"width","50%"],[1,"page-title-icon"],[1,"page-title-subheading"],["id","headLoader",1,"tc",2,"display","none","font-size","14px","font-weight","600","color","#FF0013","letter-spacing","1px"],["src","./../../../assets/images/btn_loader.gif"],["id","pageLoader",2,"position","absolute","width","100%","height","100%","background-color","#F1F4F6","z-index","1","opacity","0.5","display","none"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],[1,"position-relative","mb-3","required"],["for","distributor",1,"form-label","fb"],["id","distributor",1,"form-select",2,"display","none",3,"change"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_distributor",1,"text-danger",2,"display","none"],["id","distributor_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","stockiest",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","stockiest",1,"form-select",2,"display","none",3,"change"],["id","err_stockiest",1,"text-danger",2,"display","none"],["id","stockiest_loader"],["for","type",1,"form-label","fb"],["id","type",1,"form-select",3,"change"],["value","","selected",""],["id","err_type",1,"text-danger",2,"display","none"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],["id","division",1,"form-select",3,"change"],["for","month",1,"form-label","fb"],["id","month",1,"form-select",3,"change"],["value","","disabled","","selected",""],["id","err_month",1,"text-danger",2,"display","none"],["for","year",1,"form-label","fb"],["id","year",1,"form-select",3,"change"],["id","err_year",1,"text-danger",2,"display","none"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red;",4,"ngIf"],["class","row",4,"ngIf"],["class","row","style","margin-top: 15px;",4,"ngIf"],["style","width: 1000px;"],["details",""],["uploads",""],["id","myModal",1,"modal"],[1,"modal-content"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",3,"click"],[1,"modal-body"],["for","edit_distributor",1,"form-label","fb"],["id","edit_distributor",1,"form-select",3,"change"],["for","edit_stockiest",1,"form-label","fb"],["id","edit_stockiest",1,"form-select",3,"tabIndex","change"],["for","edit_type",1,"form-label","fb"],["id","edit_type",1,"form-select",3,"tabIndex","change"],["for","edit_month",1,"form-label","fb"],["id","edit_month",1,"form-select",3,"tabIndex","change"],["for","edit_year",1,"form-label","fb"],["id","edit_year",1,"form-select",3,"tabIndex","change"],["id","table1",1,"table"],[1,"td-head"],["type","text","id","edit_invoice",1,"form-control","grf-am",3,"tabIndex","change"],["type","text","id","edit_division",1,"form-control","grf-am",3,"keyup"],["id","edit_division_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_division_suggestion",1,"suggestions",2,"display","none",3,"click"],["type","hidden","id","edit_division_id"],["type","text","id","edit_product",1,"form-control","grf-am",3,"keyup"],["id","edit_product_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_product_suggestion",1,"suggestions",2,"left","18%","display","none",3,"click"],["type","hidden","id","edit_material"],["type","text","id","edit_batch","autocomplete","off",1,"form-control","grf-am",3,"tabIndex","keyup"],["id","edit_batch_loader","src","./../../../assets/images/btn_loader.gif",2,"position","absolute","margin","-35px 0 0 65px","display","none"],["id","edit_batch_suggestion",1,"suggestions",2,"left","26%","display","none",3,"click"],["type","text","id","edit_mrp","disabled","",1,"form-control","grf-am"],["type","text","id","edit_pts","disabled","",1,"form-control","grf-am"],["type","hidden","id","edit_ptr",1,"form-control","grf-am"],["type","hidden","id","edit_ptd",1,"form-control","grf-am"],["type","hidden","id","edit_margin",1,"form-control","grf-am"],["type","text","id","edit_billingRate",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_freeQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_saleQuantity",1,"form-control","grf-am",3,"tabIndex","keyup"],["type","text","id","edit_difference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_totalDifference","disabled","",1,"form-control","grf-am"],["type","text","id","edit_amount","disabled","",1,"form-control","grf-am",3,"tabIndex"],[1,"modal-footer",2,"padding","5px 15px"],["type","hidden","id","edit_id","value","",1,"form-control"],["type","hidden","id","edit_error","value","0",1,"form-control","grf-am"],["type","button",1,"btn","btn-success",3,"tabIndex","click"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],["id","myModalComment",1,"modal"],[1,"modal-content",2,"width","380px","margin","auto"],[1,"modal-body",2,"padding-top","22px"],["id","comments","name","comments","rows","4","cols","50"],["id","updateModalComment",1,"modal"],["id","update_comments","name","update_comments","rows","4","cols","50"],["id","modalComments",1,"modal"],[1,"modal-content",2,"width","500px","margin","auto"],[1,"modal-body",2,"padding-top","18px"],[2,"overflow-x","hidden","overflow-y","auto","max-height","330px"],[2,"padding","0 0 0 5px","text-align","center","width","20%"],[2,"padding","0 0 0 5px","width","80%"],[4,"ngIf"],[3,"value"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red"],["src","./../../assets/images/btn_loader.gif"],[1,"col-sm-12","col-md-12"],[1,"table-responsive"],["class","border-bottom tc","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom","tc",2,"height","35px"],[1,"border-right","tc"],["class","fl",4,"ngIf"],[1,"border-right"],[1,"border-right","tal"],[1,"tc"],["style","padding: 0px;",4,"ngIf"],["style","padding: 0 0px 8px 0px; margin: 0 0px 0px 2px; cursor: pointer;","src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",3,"click",4,"ngIf"],[1,"fl"],["placement","bottom","ngbTooltip","Accepted by FT","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by FT","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted by SUH","class","legend-bullet mlr8 fl approved",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected by SUH","class","legend-bullet mlr8 fl rejected",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted","class","legend-bullet mlr8 fl approved",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Rejected","class","legend-bullet mlr8 fl rejected",3,"id",4,"ngIf"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",2,"display","none",3,"id"],["placement","bottom","ngbTooltip","Accepted by FT",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by FT",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted by SUH",1,"legend-bullet","mlr8","fl","approved"],["placement","bottom","ngbTooltip","Rejected by SUH",1,"legend-bullet","mlr8","fl","rejected"],["placement","bottom","ngbTooltip","Accepted",1,"legend-bullet","mlr8","fl","approved",3,"id"],["placement","bottom","ngbTooltip","Rejected",1,"legend-bullet","mlr8","fl","rejected",3,"id"],["style","margin:0 2px;",4,"ngFor","ngForOf"],[2,"margin","0 2px"],["placement","bottom",1,"pe-7s-paperclip","fb",3,"ngbTooltip","click"],[2,"padding","0px"],["placement","bottom","ngbTooltip","Accept",1,"option-icon","pe-7s-check","iconpe_green",3,"click"],["placement","bottom","ngbTooltip","Reject",1,"option-icon","pe-7s-close-circle","iconpe_red",3,"click"],["placement","bottom","ngbTooltip","Edit",1,"option-icon","pe-7s-edit","iconpe_blue",3,"click"],["src","./../../../assets/images/message.png","placement","bottom","ngbTooltip","Comments",2,"padding","0 0px 8px 0px","margin","0 0px 0px 2px","cursor","pointer",3,"click"],[1,"row",2,"margin-top","15px"],[1,"col-md-6",2,"padding-top","10px","font-weight","600"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12","tc",2,"min-height","200px"],[3,"src","original-size",4,"ngIf"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"modal-footer"],["type","button",1,"mt-1","btn","btn-warning",2,"padding","6px 30px",3,"click"],["type","button",1,"mt-1","btn","btn-danger",2,"padding","6px 30px",3,"click"],["type","button",1,"btn","btn-secondary",2,"padding","6px 30px",3,"click"],[3,"src","original-size"],[2,"max-width","100%",3,"src"],[1,"col-md-12","tc"],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],["type","button",1,"mt-1","btn","btn-success",2,"padding","6px 30px",3,"click"],[2,"padding","0 0 0 5px","text-align","center"],[2,"padding","0 0 0 5px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",2),a["\u0275\u0275elementStart"](10,"div",5),a["\u0275\u0275element"](11,"img",6),a["\u0275\u0275element"](12,"br"),a["\u0275\u0275text"](13," Processing... Please wait! "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"div",7),a["\u0275\u0275elementStart"](15,"div",8),a["\u0275\u0275elementStart"](16,"div",9),a["\u0275\u0275elementStart"](17,"div",10),a["\u0275\u0275elementStart"](18,"div",11),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275elementStart"](20,"label",13),a["\u0275\u0275text"](21,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"select",14),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](23,"option",15),a["\u0275\u0275text"](24," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,Ar,3,5,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",17),a["\u0275\u0275elementStart"](27,"div",18),a["\u0275\u0275element"](28,"img",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",11),a["\u0275\u0275elementStart"](30,"div",12),a["\u0275\u0275elementStart"](31,"label",20),a["\u0275\u0275text"](32," Stockiest "),a["\u0275\u0275template"](33,Br,2,1,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"select",22),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](35,"option",15),a["\u0275\u0275text"](36," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](37,Qr,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](38,"span",23),a["\u0275\u0275elementStart"](39,"div",24),a["\u0275\u0275element"](40,"img",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",11),a["\u0275\u0275elementStart"](42,"div",12),a["\u0275\u0275elementStart"](43,"label",25),a["\u0275\u0275text"](44,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"select",26),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](46,"option",27),a["\u0275\u0275text"](47," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](48,Ur,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](49,"span",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"div",11),a["\u0275\u0275elementStart"](51,"div",12),a["\u0275\u0275elementStart"](52,"label",29),a["\u0275\u0275text"](53,"Division "),a["\u0275\u0275element"](54,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"select",31),a["\u0275\u0275listener"]("change",function(e){return t.filterData(e)}),a["\u0275\u0275elementStart"](56,"option",27),a["\u0275\u0275text"](57," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](58,Lr,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"div",11),a["\u0275\u0275elementStart"](60,"div",12),a["\u0275\u0275elementStart"](61,"label",32),a["\u0275\u0275text"](62,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"select",33),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](64,"option",34),a["\u0275\u0275text"](65," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](66,Yr,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](67,"span",35),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](68,"div",11),a["\u0275\u0275elementStart"](69,"div",12),a["\u0275\u0275elementStart"](70,"label",36),a["\u0275\u0275text"](71,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"select",37),a["\u0275\u0275listener"]("change",function(e){return t.validateMonth(e)}),a["\u0275\u0275elementStart"](73,"option",34),a["\u0275\u0275text"](74," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](75,Vr,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](76,"span",38),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"div",10),a["\u0275\u0275elementStart"](78,"div",39),a["\u0275\u0275element"](79,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](80,qr,4,0,"div",40),a["\u0275\u0275template"](81,zr,2,0,"div",40),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,vo,42,1,"div",41),a["\u0275\u0275template"](83,go,3,1,"div",42),a["\u0275\u0275template"](84,yo,16,3,"ng-template",43,44,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](86,So,14,1,"ng-template",null,45,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementStart"](88,"div",46),a["\u0275\u0275elementStart"](89,"div",47),a["\u0275\u0275elementStart"](90,"div",48),a["\u0275\u0275elementStart"](91,"h2",49),a["\u0275\u0275text"](92,"Update Claim"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](93,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](94,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](95,"div",51),a["\u0275\u0275elementStart"](96,"div",10),a["\u0275\u0275elementStart"](97,"div",11),a["\u0275\u0275elementStart"](98,"div",12),a["\u0275\u0275elementStart"](99,"label",52),a["\u0275\u0275text"](100,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](101,"select",53),a["\u0275\u0275listener"]("change",function(){return t.getStockiest_edit()}),a["\u0275\u0275elementStart"](102,"option",15),a["\u0275\u0275text"](103," -- Distributor -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](104,_o,3,5,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](105,"div",11),a["\u0275\u0275elementStart"](106,"div",12),a["\u0275\u0275elementStart"](107,"label",54),a["\u0275\u0275text"](108,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](109,"select",55),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](110,"option",15),a["\u0275\u0275text"](111," -- Stockiest -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](112,Eo,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](113,"div",11),a["\u0275\u0275elementStart"](114,"div",12),a["\u0275\u0275elementStart"](115,"label",56),a["\u0275\u0275text"](116,"Claim Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](117,"select",57),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](118,"option",34),a["\u0275\u0275text"](119," -- Claim Type -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](120,Co,3,4,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](121,"div",11),a["\u0275\u0275elementStart"](122,"div",12),a["\u0275\u0275elementStart"](123,"label",58),a["\u0275\u0275text"](124,"Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](125,"select",59),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](126,"option",34),a["\u0275\u0275text"](127," -- Month -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](128,ko,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](129,"div",11),a["\u0275\u0275elementStart"](130,"div",12),a["\u0275\u0275elementStart"](131,"label",60),a["\u0275\u0275text"](132,"Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](133,"select",61),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementStart"](134,"option",34),a["\u0275\u0275text"](135," -- Year -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](136,wo,2,2,"option",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](137,"div",10),a["\u0275\u0275elementStart"](138,"table",62),a["\u0275\u0275elementStart"](139,"tr"),a["\u0275\u0275elementStart"](140,"th",63),a["\u0275\u0275text"](141,"Ref. No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](142,"th",63),a["\u0275\u0275text"](143,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](144,"th",63),a["\u0275\u0275text"](145,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](146,"th",63),a["\u0275\u0275text"](147,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](148,"th",63),a["\u0275\u0275text"](149,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](150,"th",63),a["\u0275\u0275text"](151,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](152,"th",63),a["\u0275\u0275text"](153,"Billing Rate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](154,"th",63),a["\u0275\u0275text"](155,"Free QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](156,"th",63),a["\u0275\u0275text"](157,"Sale QTY"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](158,"th",63),a["\u0275\u0275text"](159,"Difference"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](160,"th",63),a["\u0275\u0275text"](161,"Total Diff."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](162,"th",63),a["\u0275\u0275text"](163,"Amount"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](164,"tr"),a["\u0275\u0275elementStart"](165,"td"),a["\u0275\u0275elementStart"](166,"input",64),a["\u0275\u0275listener"]("change",function(){return t.validateClaim()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](167,"td"),a["\u0275\u0275elementStart"](168,"input",65),a["\u0275\u0275listener"]("keyup",function(e){return t.searchDivision(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](169,"img",66),a["\u0275\u0275elementStart"](170,"div",67),a["\u0275\u0275listener"]("click",function(e){return t.divisionSelection(e)}),a["\u0275\u0275element"](171,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](172,"input",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](173,"td"),a["\u0275\u0275elementStart"](174,"input",69),a["\u0275\u0275listener"]("keyup",function(e){return t.searchProduct(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](175,"img",70),a["\u0275\u0275elementStart"](176,"div",71),a["\u0275\u0275listener"]("click",function(e){return t.productSelection(e)}),a["\u0275\u0275element"](177,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](178,"input",72),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](179,"td"),a["\u0275\u0275elementStart"](180,"input",73),a["\u0275\u0275listener"]("keyup",function(e){return t.searchBatch(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](181,"img",74),a["\u0275\u0275elementStart"](182,"div",75),a["\u0275\u0275listener"]("click",function(e){return t.batchSelection(e)}),a["\u0275\u0275element"](183,"ul"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](184,"td"),a["\u0275\u0275element"](185,"input",76),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](186,"td"),a["\u0275\u0275element"](187,"input",77),a["\u0275\u0275element"](188,"input",78),a["\u0275\u0275element"](189,"input",79),a["\u0275\u0275element"](190,"input",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](191,"td"),a["\u0275\u0275elementStart"](192,"input",81),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](193,"td"),a["\u0275\u0275elementStart"](194,"input",82),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](195,"td"),a["\u0275\u0275elementStart"](196,"input",83),a["\u0275\u0275listener"]("keyup",function(e){return t.changeCalculation(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](197,"td"),a["\u0275\u0275element"](198,"input",84),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](199,"td"),a["\u0275\u0275element"](200,"input",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](201,"td"),a["\u0275\u0275element"](202,"input",86),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](203,"div",87),a["\u0275\u0275element"](204,"input",88),a["\u0275\u0275element"](205,"input",89),a["\u0275\u0275elementStart"](206,"button",90),a["\u0275\u0275listener"]("click",function(){return t.updateClaim()}),a["\u0275\u0275text"](207," Update "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](208,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeEditModal()}),a["\u0275\u0275text"](209," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](210,"div",92),a["\u0275\u0275elementStart"](211,"div",93),a["\u0275\u0275elementStart"](212,"div",48),a["\u0275\u0275elementStart"](213,"h2",49),a["\u0275\u0275text"](214,"Reason for rejection"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](215,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](216,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](217,"div",94),a["\u0275\u0275elementStart"](218,"div",10),a["\u0275\u0275elementStart"](219,"div",39),a["\u0275\u0275elementStart"](220,"div",12),a["\u0275\u0275element"](221,"textarea",95),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](222,"div",87),a["\u0275\u0275elementStart"](223,"button",90),a["\u0275\u0275listener"]("click",function(){return t.rejectClaim()}),a["\u0275\u0275text"](224," Submit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](225,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeCommentModal()}),a["\u0275\u0275text"](226," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](227,"div",96),a["\u0275\u0275elementStart"](228,"div",93),a["\u0275\u0275elementStart"](229,"div",48),a["\u0275\u0275elementStart"](230,"h2",49),a["\u0275\u0275text"](231,"Reason for update"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](232,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](233,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](234,"div",94),a["\u0275\u0275elementStart"](235,"div",10),a["\u0275\u0275elementStart"](236,"div",39),a["\u0275\u0275elementStart"](237,"div",12),a["\u0275\u0275element"](238,"textarea",97),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](239,"div",87),a["\u0275\u0275elementStart"](240,"button",90),a["\u0275\u0275listener"]("click",function(){return t.updateCommentClaim()}),a["\u0275\u0275text"](241," Update Now "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](242,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeUpdateCommentModal()}),a["\u0275\u0275text"](243," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](244,"div",98),a["\u0275\u0275elementStart"](245,"div",99),a["\u0275\u0275elementStart"](246,"div",48),a["\u0275\u0275elementStart"](247,"h2",49),a["\u0275\u0275text"](248,"Comment / Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](249,"span",50),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](250,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](251,"div",100),a["\u0275\u0275elementStart"](252,"div",10),a["\u0275\u0275elementStart"](253,"table",101),a["\u0275\u0275elementStart"](254,"tr"),a["\u0275\u0275elementStart"](255,"th",102),a["\u0275\u0275text"](256,"Reason"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](257,"th",103),a["\u0275\u0275text"](258,"Message"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](259,Io,7,1,"tr",104),a["\u0275\u0275template"](260,$o,7,1,"tr",104),a["\u0275\u0275template"](261,Fo,7,1,"tr",104),a["\u0275\u0275template"](262,Do,7,1,"tr",104),a["\u0275\u0275template"](263,Mo,7,1,"tr",104),a["\u0275\u0275template"](264,Oo,7,1,"tr",104),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](265,"div",87),a["\u0275\u0275elementStart"](266,"button",91),a["\u0275\u0275listener"]("click",function(){return t.closeCommentsModal()}),a["\u0275\u0275text"](267," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.selectedFields.stockiest),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.loading&&t.showData),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.userDistributors),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",1),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.stockiests),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",2),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.types),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",3),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.months),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("tabIndex",4),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.years),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("tabIndex",5),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("tabIndex",6),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("tabIndex",7),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",9),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",10),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("tabIndex",11),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("tabIndex",12),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngIf",t.clickedRecord.ftUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ftStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.suhStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.clickedRecord.hoUpdateComment),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.hoStatus),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",2===t.clickedRecord.ho1Status),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[o.q,o.x,b.m,b.n,y.l,_t.a],pipes:[b.v,b.f],styles:['.errorClass[_ngcontent-%COMP%]{border:1px solid #ff0013}.fl[_ngcontent-%COMP%]{float:left}.fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tal[_ngcontent-%COMP%]{text-align:left;padding-left:5px}.tar[_ngcontent-%COMP%]{text-align:right}.m8[_ngcontent-%COMP%]{margin:8px}.mlr8[_ngcontent-%COMP%]{margin:0 8px}.option-tr[_ngcontent-%COMP%]{font-weight:600;cursor:pointer}.attch[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:red;-webkit-animation:blinker 1.5s linear infinite;animation:blinker 1.5s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.option-span[_ngcontent-%COMP%]{margin:0 4px}#distributor_loader[_ngcontent-%COMP%], #stockiest_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.td-head[_ngcontent-%COMP%]{font-weight:600;height:30px;background:#efefef}.grf-am[_ngcontent-%COMP%], .td-head[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px;z-index:1;left:10%}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}.inputcontainer[_ngcontent-%COMP%]{position:relative;padding:0}.icon-container[_ngcontent-%COMP%]{position:absolute;right:15px;top:calc(50% - 9px);display:none}.loader[_ngcontent-%COMP%]{position:relative;height:15px;width:15px;display:inline-block;-webkit-animation:around 5.4s infinite;animation:around 5.4s infinite}@-webkit-keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes around{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";background:#fff;position:absolute;display:inline-block;width:100%;height:100%;border-color:#e15b64 #e15b64 transparent transparent;border-style:solid;border-width:2px;border-radius:20px;box-sizing:border-box;top:0;left:0;-webkit-animation:around .7s ease-in-out infinite;animation:around .7s ease-in-out infinite}.loader[_ngcontent-%COMP%]:after{-webkit-animation:around .7s ease-in-out .1s infinite;animation:around .7s ease-in-out .1s infinite;background:transparent}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto 7%;width:92%;padding:0;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.wpseo-score-icon[_ngcontent-%COMP%]{background:#888;border-radius:50%!important;height:12px!important;width:12px!important;margin:auto}.wpseo-score-icon.good[_ngcontent-%COMP%]{background-color:#4bae4f}.wpseo-score-icon.bad[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_green[_ngcontent-%COMP%]{background-color:#4bae4f}.iconpe_green[_ngcontent-%COMP%], .iconpe_red[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#fff;border-radius:50%;text-align:center;padding:0 0 0 .5px;margin:2px;cursor:pointer}.iconpe_red[_ngcontent-%COMP%]{background-color:#dc3232}.iconpe_blue[_ngcontent-%COMP%]{font-size:15px;background-color:#2fa4e7;padding:3px 3px 2px 3.5px}.iconpe_blue[_ngcontent-%COMP%], .iconpe_purp[_ngcontent-%COMP%]{font-weight:800;color:#fff;border-radius:50%;text-align:center;margin:2px;cursor:pointer}.iconpe_purp[_ngcontent-%COMP%]{font-size:20px;background-color:#6610f2;padding:0 0 0 .5px}.disabledd[_ngcontent-%COMP%]{background-color:#ccc}.npicon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.bg-ripe-malin-np[_ngcontent-%COMP%]{background-image:linear-gradient(120deg,#ff0013,#ff0013)!important}.bg-grow-early-np[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#03ac13 0,#03ac13)!important}.legend-bullet[_ngcontent-%COMP%]{width:12px;height:12px;min-width:12px;border-radius:50%}.rejected[_ngcontent-%COMP%]{background-color:#df2a4a}.approved[_ngcontent-%COMP%]{background-color:#00aa63}.inprogress[_ngcontent-%COMP%]{background-color:#e8e8eb}']}),e}(),To=function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Add New asset",this.subheading="Add a Commercial, Residential or Owned Asset.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){this.loggedUserId=localStorage.getItem("laUserId"),("string"==typeof this.loggedUserId&&"null"===this.loggedUserId||"object"==typeof this.loggedUserId&&null===this.loggedUserId)&&this.router.navigateByUrl("/login"),$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:Z+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[o.w,o.n,o.o],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}(),Ro=function(){function e(e){this.router=e,this.loggedUserId="",this.heading="Sales Distributor (9000)",this.subheading="Upload distributor sales.",this.icon="pe-7s-network icon-gradient bg-premium-dark"}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,$(document).ready(function(){$("#file").change(function(){var e=new FormData($("#uploadForm")[0]);$("#file").attr("disabled","disabled"),$.ajax({url:Z+"/api/upload",type:"POST",contentType:!1,processData:!1,cache:!1,data:e,success:function(e){var t=e.data.originalname;$("#preview").append('<span style="margin:5px 20px; font-size:15px; font-weight:500; width:100%; float:left;">&#x2022;&nbsp;'+t+"</span>"),$("#message").show(),setTimeout(function(){$("#message").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")},error:function(){setTimeout(function(){$("#error").fadeOut("slow")},1e3),$("#file").removeAttr("disabled")}})})})},e.prototype.errorHandling=function(e){try{e&&JSON.parse(e)}catch(e){}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploads"]],decls:22,vars:5,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["id","uploadForm","enctype","multipart/form-data"],["type","file","name","file","id","file"],[1,"col-md-8"],["id","message"],["id","error"],[1,"col-md-12"],["id","preview",2,"margin-top","15px"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"form",9),a["\u0275\u0275element"](14,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",11),a["\u0275\u0275elementStart"](16,"div",12),a["\u0275\u0275text"](17,"Uploaded successfully"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275text"](19,"Something went wrong. Please try again or refresh the page."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",14),a["\u0275\u0275element"](21,"div",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "))},directives:[o.w,o.n,o.o],styles:['.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:" *";display:inline}.showcoowner[_ngcontent-%COMP%]{display:none}.font13[_ngcontent-%COMP%]{font-size:13px}div.preview-images[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30%}#message[_ngcontent-%COMP%]{color:green}#error[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-weight:600;display:none}#error[_ngcontent-%COMP%]{color:red}']}),e}();function No(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function jo(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",60),a["\u0275\u0275text"](2,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",61),a["\u0275\u0275element"](5,"span",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Ao(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",63),a["\u0275\u0275text"](2,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",64),a["\u0275\u0275element"](5,"span",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Bo(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",66),a["\u0275\u0275text"](2,"Employee Code"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",67),a["\u0275\u0275element"](5,"span",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function Qo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Uo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",69),a["\u0275\u0275text"](2,"Work Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",70),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getSupervisor(e)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Work Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Qo,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.workTypes)}}function Lo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.code),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.code," - ",a["\u0275\u0275pipeBind1"](2,3,n.name)," ")}}function Yo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",72),a["\u0275\u0275text"](2,"Supervisor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",73),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Supervisor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Lo,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.supervisors)}}function Vo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function qo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",75),a["\u0275\u0275text"](2,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",76),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getDistributorData(e,-1)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,Vo,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.distributors)}}function zo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.customerId," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Ho(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",78),a["\u0275\u0275text"](2,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",79),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Stockist "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,zo,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.distributorStockists)}}function Jo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function Wo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275elementStart"](2,"label",82),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",83),a["\u0275\u0275elementStart"](5,"select",84),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().getDistributorData(e,i)}),a["\u0275\u0275elementStart"](6,"option",12),a["\u0275\u0275text"](7," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,Jo,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",86),a["\u0275\u0275elementStart"](11,"button",87),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeDistributor(e)}),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",88),a["\u0275\u0275elementStart"](14,"label",82),a["\u0275\u0275text"](15,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"select",89),a["\u0275\u0275elementStart"](18,"option",12),a["\u0275\u0275text"](19," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",90),a["\u0275\u0275elementStart"](21,"div",91),a["\u0275\u0275elementStart"](22,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleDivisionCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"label",93),a["\u0275\u0275text"](24,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](25,"div",94),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",95),a["\u0275\u0275elementStart"](28,"label",82),a["\u0275\u0275text"](29,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"select",89),a["\u0275\u0275elementStart"](32,"option",12),a["\u0275\u0275text"](33," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",90),a["\u0275\u0275elementStart"](35,"div",91),a["\u0275\u0275elementStart"](36,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"label",93),a["\u0275\u0275text"](38,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](39,"div",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("for","distributor_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Distributor ",i+2,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distributor_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",r.distributors),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_distributor_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Remove Distributor ",i+2,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","dvson_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","division_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sddCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sddCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_data_",i,""),a["\u0275\u0275propertyInterpolate1"]("name","division_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stkst_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","stockist_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sdCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sdCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stockist_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_stockist_div_",i,"")}}function Go(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275elementStart"](1,"label",98),a["\u0275\u0275text"](2,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",99),a["\u0275\u0275elementStart"](4,"button",100),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addMore()}),a["\u0275\u0275text"](5,"Add More Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",1e5))}function Zo(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",101),a["\u0275\u0275elementStart"](1,"input",102),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().togglePermissionCheckbox(e.permissionId)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"label",103),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275propertyInterpolate"]("value",i.permissionId),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](i.permissionName)}}var Ko=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create User",this.subheading="Create a user who can use the CN application.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.commonFields=!1,this.officeFields=!1,this.fieldFields=!1,this.distributorField=!1,this.stockistField=!1,this.loggedUserId="",this.divisions=[],this.permission=[],this.supervisors=[],this.stockiestes=[],this.distributors=[],this.selectedDivision=[],this.accesspermissions=[],this.selectedStockiest=[],this.selectedPermission=[],this.selectedDistributor=[],this.distributorStockists=[],this.userTypes=[{id:"ho",name:"Head Office"},{id:"field",name:"Field"},{id:"distributor",name:"Distributor"},{id:"stockist",name:"Stockist"}],this.workTypes=[{id:"hos",name:"HOS"},{id:"suh",name:"SUH"},{id:"field",name:"Field"}],this.states=[],this.cities=[]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId="648946064477e07c9fc1b862",this.createForm(),this.getAllDivision(),this.getAllDistributor(),this.getAllAccessPermision()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.userForm=this.fb.group({userType:["",[o.v.required]],username:[""],email:["",[o.v.required]],code:[""],workType:[""],state:[""],headQuarter:[""],supervisor:[""],distributor_def:[""],division_def:[[]],stockist_def:[[]],stockist_all:[""],permission:["",[o.v.required]],portals:this.portalId,loggedUserId:this.loggedUserId,users:this.fb.array([]),dist:this.fb.array([])})},e.prototype.users=function(){return this.userForm.get("users")},e.prototype.dist=function(){return this.userForm.get("dist")},e.prototype.newDist=function(){return this.fb.group({distributor:"",division:"",stockiest:""})},e.prototype.addMore=function(){this.dist().push(this.newDist())},e.prototype.removeDistributor=function(e){this.dist().removeAt(e)},e.prototype.getStateCity=function(){this.apiService.get("/api/user/getState",1).subscribe(function(e){console.log("Hello--",e),200===e.status&&e.data.length&&console.log(e.data)})},e.prototype.getAllDistributor=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getAllAccessPermision=function(){var e=this;this.apiService.get("/api/access/getall",this.portalId).subscribe(function(t){200===t.status&&t.data.length&&(e.accesspermissions=t.data)})},e.prototype.getDistributorData=function(e,t){var n=$("#userTypes").val();if("distributor"===n);else{for(var i=[],a=e.target.value,r=this.dist().controls.length,o=0;o<=r;o++){var l=o-1;if(t!=l){var s=$("#distributor_"+(-1===l?"def":l)).val();i.push(s)}}i.includes(a)?(console.log("Already added"),$("#distributor_"+(-1===t?"def":t)).val("")):(this.getDistributorDivision(e,t),this.getDistributorStockist(e,t,n))}},e.prototype.appendDivisions=function(e){parseInt(e.target.value);var t=document.querySelector("#division_data_all");t.innerHTML="",this.divisions.forEach(function(e,n){var i=document.createElement("div");i.classList.add("col-sm-4"),i.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_all" id="divisionCheckbox_all_'+n+'" value="'+e.division+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_all_'+n+'">'+e.name+"</label>",t.appendChild(i)})},e.prototype.getDistributorDivision=function(e,t){var n=this,i=parseInt(e.target.value),a=-1===t?"def":t,r={plant:i};$("#division_sel_"+a).show(),$("#division_div_"+a).hide();var o=document.querySelector("#division_data_"+a);o.innerHTML="",this.apiService.post("/api/distributor/distributorDivison",r).subscribe(function(e){200===e.status&&e.data.length&&(e.data[0].divisions.forEach(function(e,t){var r=n.divisions.filter(function(t){return t.division===Number(e)}),l=document.createElement("div");l.classList.add("col-sm-4"),l.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_'+a+'" id="divisionCheckbox_'+i+"_"+t+'" value="'+e+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_'+i+"_"+t+'">'+r[0].name+"</label>",o.appendChild(l)}),$("#division_sel_"+a).hide(),$("#division_div_"+a).show())})},e.prototype.getDistributorStockist=function(e,t,n){var i=this;this.distributorStockists=[];var a=parseInt(e.target.value),r=-1===t?"def":t,o={plant:a};$("#stockist_sel_"+r).show(),$("#stockist_div_"+r).hide();var l=document.querySelector("#stockist_data_"+r);if(l.innerHTML="","ho"===n||"field"===n){var s=document.createElement("div");s.classList.add("col-sm-4"),s.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+'_99999" value="'+a+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+'_99999">--- SELF ---</label>',l.appendChild(s)}this.apiService.post("/api/stockiest/distributorStockiest",o).subscribe(function(e){200===e.status&&e.data.length&&(i.distributorStockists=e.data,$.each(e.data,function(e,t){var n=document.createElement("div");n.classList.add("col-sm-4"),n.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+"_"+e+'" value="'+t.customerId+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+"_"+e+'">'+t.organization+"</label>",l.appendChild(n)}),$("#stockist_sel_"+r).hide(),$("#stockist_div_"+r).show())})},e.prototype.toggleDivisionCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sddCheckbox_"+t),i=document.getElementsByName("dchkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.toggleDivisionAllCheckbox=function(e){for(var t=document.getElementById("sddCheckbox_"+e),n=document.getElementsByName("dchkbox_"+e),i=0,a=n.length;i<a;i++)n[i].checked=1==t.checked},e.prototype.toggleCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sdCheckbox_"+t),i=document.getElementsByName("chkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.togglePermissionAllCheckbox=function(e){for(var t=document.getElementById("permissCheckbox_"+e),n=document.getElementsByName("pchkbox_"+e),i=1,a=0;a<n.length;a++){var r=$("#permissionCheckbox_all_"+i).val(),o=this.permission.indexOf(r);1==t.checked?(n[a].checked=!0,o<0&&this.permission.push(r)):(n[a].checked=!1,this.permission=[]),i++}},e.prototype.togglePermissionCheckbox=function(e){var t=document.getElementById("permissCheckbox_all"),n=document.getElementById("permissionCheckbox_all_"+e),i=$("#permissionCheckbox_all_"+e).val(),a=this.permission.indexOf(i);0==n.checked?(t.checked=!1,a>-1&&this.permission.splice(a,1)):a<0&&this.permission.push(i)},e.prototype.getAllDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&(e.divisions=t.data.length?t.data:[])})},e.prototype.selectAllForDivisionItems=function(e){!function(e){e.forEach(function(e){e.selectedAllDivisionGroup="selectedAllDivisionGroup"})}(e)},e.prototype.showFormFields=function(e){this.supervisors=[],this.commonFields=!0,this.fieldFields=!1,this.officeFields=!1,this.stockistField=!1,this.distributorField=!1,$("#dvson_def").hide(),$("#stkst_def").hide(),$("#dvson_all").hide(),console.log("target.value--",e.target.value),"ho"==e.target.value&&this.getSupervisor(e),"ho"!=e.target.value&&"field"!=e.target.value||(this.officeFields=!0,this.distributorField=!0,$("#dvson_def").show(),$("#stkst_def").show()),"field"==e.target.value&&(this.fieldFields=!0),"distributor"==e.target.value&&(this.distributorField=!0,this.appendDivisions(e),$("#dvson_all").show()),"stockist"==e.target.value&&(this.distributorField=!0,this.stockistField=!0,$("#dvson_def").show()),$("#permiss_all").show()},e.prototype.getSupervisor=function(e){var t=this;this.supervisors=[],console.log("e.target.value--",e.target.value),this.apiService.get("/api/userSupervisor",e.target.value).subscribe(function(e){200===e.status&&e.data.length&&(t.supervisors=e.data)})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=[],n=[],i=[],a=[];$(".form-select").removeClass("is-invalid"),$(".form-control").removeClass("is-invalid"),$(".container_div").css("border","1px solid #ced4da"),$(".text-danger").hide();var r=$("#userTypes option:selected").val(),o=$.trim($("#email").val().toLowerCase()),l=$("#distributor_def option:selected").val();if(r||($("#userTypes").addClass("is-invalid"),$("#err_userTypes").text("User type is required").show()),o||($("#email").addClass("is-invalid"),$("#err_email").text("Email is required").show()),o&&(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(o)||($("#email").addClass("is-invalid"),$("#err_email").text("Enter Valid Email Address").show())),l||($("#distributor_def").addClass("is-invalid"),$("#err_distributor_def").text("Distributor is required").show()),"distributor"===r){for(var s=document.getElementsByName("dchkbox_all"),d=0;d<s.length;d++)if((S=$("#divisionCheckbox_all_"+d)).is(":checked")){var c=S.val();a.push(c)}0===a.length&&($("#division_div_all").css("border","1px solid red"),$("#err_division_div_all").text("At least one division is required.").show())}if("stockist"===r){$("#stockist_all option:selected").val()||($("#stockist_all").addClass("is-invalid"),$("#err_stockist_all").text("Stockist is required").show());for(var m=this.dist().controls.length,p=0;p<=m;p++){var u=-1==(b=p-1)?"def":b,f=$("#distributor_"+u).val(),h=document.getElementsByName("dchkbox_"+u);for(d=0;d<h.length;d++)(S=$("#divisionCheckbox_"+f+"_"+d)).is(":checked")&&(c=S.val(),t.push(c))}0===t.length&&($("#division_div_def").css("border","1px solid red"),$("#err_division_div_def").text("At least one division is required.").show())}if("ho"===r||"field"===r){$("#username").val()||($("#username").addClass("is-invalid"),$("#err_username").text("Name is required").show());var v=$("#code").val(),g=/^\d+$/.test(v);for(v?g?6!=String(v).length&&($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be 6 digits only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be a number only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code is required").show()),$("#supervisor option:selected").val()||($("#supervisor").addClass("is-invalid"),$("#err_supervisor").text("Supervisor is required").show()),m=this.dist().controls.length,p=0;p<=m;p++){var b;u=-1==(b=p-1)?"def":b,(f=$("#distributor_"+u+" option:selected").val())?i[p]=f:($("#distributor_"+u).addClass("is-invalid"),$("#err_distributor_"+u).text("Distributor is required").show());var x=[];for(h=document.getElementsByName("dchkbox_"+u),d=0;d<h.length;d++){var y=$("#divisionCheckbox_"+f+"_"+d);y.is(":checked")&&(c=y.val(),x.push(c))}0===x.length?($("#division_sel_"+u).addClass("is-invalid"),$("#division_div_"+u).css("border","1px solid red"),$("#err_division_div_"+u).text("At least one division is required.").show()):t[p]=x;var S,_=[],E=document.getElementsByName("chkbox_"+u);console.log("checkboxes.length--",E.length),(S=$("#inlineCheckbox_"+f+"_99999")).is(":checked")&&(c=S.val(),_.push(c));for(var C=0;C<E.length;C++){var k=$("#inlineCheckbox_"+f+"_"+C);k.is(":checked")&&(c=k.val(),_.push(c))}0===_.length?($("#stockist_sel_"+u).addClass("is-invalid"),$("#stockist_div_"+u).css("border","1px solid red"),$("#err_stockist_div_"+u).text("At least one stockist is required.").show()):n[p]=_,console.log("selectedDivisions--",t),console.log("selectedStockists--",n)}}if("field"===r&&($("#workType option:selected").val()||($("#workType").addClass("is-invalid"),$("#err_workType").text("Work type is required").show())),this.userForm.get("permission").setValue(this.permission),this.userForm.valid){var w={};if(w.userType=this.userForm.value.userType,w.email=this.userForm.value.email.toLowerCase(),w.portalId=this.portalId,w.loggedUserId=this.loggedUserId,w.permission=this.userForm.value.permission,"distributor"===r){var I=Number(this.userForm.value.distributor_def),F=this.distributors.filter(function(e){return e.plant===I});w.userType=this.userForm.value.userType,w.username=F[0].organization,w.email=this.userForm.value.email.toLowerCase(),w.code=this.userForm.value.distributor_def,w.divisions=a}if("stockist"===r){var D=Number(this.userForm.value.stockist_all);F=this.distributorStockists.filter(function(e){return e.customerId===D}),w.username=F[0].organization,w.plant=this.userForm.value.distributor_def,w.code=this.userForm.value.stockist_all,w.divisions=t}"ho"!==r&&"field"!==r||(w.username=this.userForm.value.username,w.code=this.userForm.value.code,w.supervisor=this.userForm.value.supervisor,w.distributors=i,w.divisions=t,w.stockists=n),"field"===r&&(w.workType=this.userForm.value.workType),console.log("reqData--",w),this.apiService.post("/api/user/createuser",w).subscribe(function(t){console.log("-----",t.status),200===t.status?e.toast("success","User added successfully."):e.toast("error",t.message)})}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-user"]],decls:87,vars:17,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","userTypes",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","userTypes","formControlName","userType",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_userTypes",1,"text-danger",2,"display","none"],["class","position-relative row mb-3 common required",4,"ngIf"],["class","position-relative row mb-3 required",4,"ngIf"],["id","dvson_all",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_all",1,"form-label","col-sm-2","col-form-label"],["id","division_div_all",1,"row","container_div"],["id","division_sd_all"],["type","checkbox","id","sddCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_all",1,"form-check-label",2,"font-weight","500"],["id","division_data_all","name","division_data_all",1,"row"],["id","err_division_div_all",1,"text-danger",2,"display","none"],["id","dvson_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_def",1,"form-label","col-sm-2","col-form-label"],["id","division_sel_def",1,"form-select"],["id","division_div_def",1,"row","container_div",2,"display","none"],["id","division_sd_def"],["type","checkbox","id","sddCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","division_data_def","name","division_data_def",1,"row"],["id","err_division_div_def",1,"text-danger",2,"display","none"],["id","stkst_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","stockist_def",1,"form-label","col-sm-2","col-form-label"],["id","stockist_sel_def",1,"form-select"],["id","stockist_div_def",1,"row","container_div",2,"display","none"],["id","stockist_sd_def"],["type","checkbox","id","sdCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sdCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","stockist_data_def","name","stockist_data_def",1,"row"],["id","err_stockist_div_def",1,"text-danger",2,"display","none"],["formArrayName","dist",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","position-relative row mb-3",4,"ngIf"],["id","permiss_all",1,"position-relative","row","mb-3",2,"display","none"],["for","permission_all",1,"form-label","col-sm-2","col-form-label","req_permission"],["id","permission_div_all",1,"row","container_div"],["id","permission_sd_all"],["type","checkbox","id","permissCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","permissCheckbox_all",1,"form-check-label","req_permission",2,"font-weight","500"],["id","permission_data_all","name","permission_data_all",1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],["id","err_permission_div_all",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"],[1,"position-relative","row","mb-3","common","required"],["for","username",1,"form-label","col-sm-2","col-form-label"],["formControlName","username","id","username","placeholder","Name","type","text",1,"form-control"],["id","err_username",1,"text-danger",2,"display","none"],["for","email",1,"form-label","col-sm-2","col-form-label"],["formControlName","email","id","email","placeholder","Email","type","email","required","",1,"form-control","grf-def"],["id","err_email",1,"text-danger",2,"display","none"],["for","code",1,"form-label","col-sm-2","col-form-label"],["formControlName","code","id","code","placeholder","Employee Code","type","text",1,"form-control"],["id","err_code",1,"text-danger",2,"display","none"],["for","workType",1,"form-label","col-sm-2","col-form-label"],["id","workType","formControlName","workType",1,"form-select",3,"change"],["id","err_workType",1,"text-danger",2,"display","none"],["for","supervisor",1,"form-label","col-sm-2","col-form-label"],["id","supervisor","formControlName","supervisor",1,"form-select"],["id","err_supervisor",1,"text-danger",2,"display","none"],["for","distributor_def",1,"form-label","col-sm-2","col-form-label"],["id","distributor_def","formControlName","distributor_def",1,"form-select",3,"change"],["id","err_distributor_def",1,"text-danger",2,"display","none"],["for","stockist_all",1,"form-label","col-sm-2","col-form-label"],["id","stockist_all","formControlName","stockist_all",1,"form-select"],["id","err_stockist_all",1,"text-danger",2,"display","none"],[3,"formGroupName"],[1,"form-label","col-sm-2","col-form-label",3,"for"],[1,"col-sm-8"],["formControlName","distributor",1,"form-select",3,"id","change"],[1,"text-danger",2,"display","none",3,"id"],[1,"col-sm-2"],["type","button",1,"btn","btn-warning",2,"width","100%",3,"tabIndex","click"],[1,"position-relative","row","mb-3","required",3,"id"],[1,"form-select",3,"id"],[1,"row","container_div",2,"display","none",3,"id"],[3,"id"],["type","checkbox",1,"form-check-input",2,"border","2px solid #495057",3,"id","click"],[1,"form-check-label",2,"font-weight","500",3,"for"],[1,"row",3,"id","name"],[1,"position-relative","row","mb-3",3,"id"],[1,"row",3,"id"],[1,"position-relative","row","mb-3"],[1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10",2,"text-align","right"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],[1,"col-sm-4"],["type","checkbox","name","pchkbox_all",1,"form-check-input","dchkbox",2,"margin","5px 0px 0px 0px","color","black",3,"id","value","click"],[1,"form-check-label",2,"margin","2px 0px 2px 4px",3,"for"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.showFormFields(e)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," User Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,No,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](21,jo,6,0,"div",15),a["\u0275\u0275template"](22,Ao,6,0,"div",16),a["\u0275\u0275template"](23,Bo,6,0,"div",15),a["\u0275\u0275template"](24,Uo,9,1,"div",16),a["\u0275\u0275template"](25,Yo,9,1,"div",16),a["\u0275\u0275template"](26,qo,9,1,"div",16),a["\u0275\u0275elementStart"](27,"div",17),a["\u0275\u0275elementStart"](28,"label",18),a["\u0275\u0275text"](29,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"div",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275elementStart"](33,"input",21),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](36,"div",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,Ho,9,1,"div",16),a["\u0275\u0275elementStart"](39,"div",25),a["\u0275\u0275elementStart"](40,"label",26),a["\u0275\u0275text"](41,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",27),a["\u0275\u0275elementStart"](44,"option",12),a["\u0275\u0275text"](45," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",28),a["\u0275\u0275elementStart"](47,"div",29),a["\u0275\u0275elementStart"](48,"input",30),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"label",31),a["\u0275\u0275text"](50,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"div",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",34),a["\u0275\u0275elementStart"](54,"label",35),a["\u0275\u0275text"](55,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"div",10),a["\u0275\u0275elementStart"](57,"select",36),a["\u0275\u0275elementStart"](58,"option",12),a["\u0275\u0275text"](59," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"div",37),a["\u0275\u0275elementStart"](61,"div",38),a["\u0275\u0275elementStart"](62,"input",39),a["\u0275\u0275listener"]("click",function(){return t.toggleCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"label",40),a["\u0275\u0275text"](64,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](66,"span",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](67,"div",43),a["\u0275\u0275template"](68,Wo,41,27,"div",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](69,Go,6,1,"div",45),a["\u0275\u0275elementStart"](70,"div",46),a["\u0275\u0275elementStart"](71,"label",47),a["\u0275\u0275text"](72,"Permissions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",10),a["\u0275\u0275elementStart"](74,"div",48),a["\u0275\u0275elementStart"](75,"div",49),a["\u0275\u0275elementStart"](76,"input",50),a["\u0275\u0275listener"]("click",function(){return t.togglePermissionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"label",51),a["\u0275\u0275text"](78,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",52),a["\u0275\u0275template"](80,Zo,4,4,"div",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](81,"span",54),a["\u0275\u0275text"](82,"dasdasd"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"div",55),a["\u0275\u0275elementStart"](84,"div",56),a["\u0275\u0275elementStart"](85,"button",57),a["\u0275\u0275text"](86,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.userForm),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.userTypes),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.commonFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.fieldFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.distributorField),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",t.stockistField),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("ngForOf",t.dist().controls),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.accesspermissions))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.m,b.n,o.c,o.b,o.t,o.h],pipes:[b.v],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:\" *\";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]     .ng-select-container{border-color:#c71c22;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23C71C22'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23C71C22' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.container_div[_ngcontent-%COMP%]{border:1px solid #ced4da;min-height:33px;border-radius:.25rem;margin:0;max-height:155px;overflow-y:auto}.inrdiv[_ngcontent-%COMP%]{padding:3px 3px 3px 9px}.form-check-input[_ngcontent-%COMP%]{margin:5px 0 0!important}.form-check-label[_ngcontent-%COMP%]{margin:2px 0 2px 4px!important}"]}),e}();function Xo(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",15),a["\u0275\u0275elementStart"](1,"td",13),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",16),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",13),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",16),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",13),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"titlecase"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",13),a["\u0275\u0275text"](13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",13),a["\u0275\u0275elementStart"](15,"span",17),a["\u0275\u0275elementStart"](16,"a",18),a["\u0275\u0275element"](17,"i",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.code),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.email),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](11,7,n.userType)),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("href","users/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function el(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",12),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",13),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",13),a["\u0275\u0275text"](6,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",13),a["\u0275\u0275text"](8,"Code"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",13),a["\u0275\u0275text"](10,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",13),a["\u0275\u0275text"](12,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",13),a["\u0275\u0275text"](14,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",13),a["\u0275\u0275text"](16,"Options"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"tbody"),a["\u0275\u0275template"](18,Xo,18,9,"tr",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngForOf",n.users)}}var tl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Users",this.subheading="User List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.users=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getallusers()},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},e.prototype.getallusers=function(){var e=this;this.apiService.fetch("/api/user/all").subscribe(function(t){200===t.status&&t.data.length&&(e.users=t.data)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-user"]],decls:17,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right","tal"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"button",6),a["\u0275\u0275listener"]("click",function(){return t.addNewUser()}),a["\u0275\u0275element"](11,"fa-icon",7),a["\u0275\u0275text"](12," Create User "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",8),a["\u0275\u0275elementStart"](14,"div",9),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275template"](16,el,19,2,"table",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("icon",t.faPlus),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.users.length))},directives:[_.a,b.n,r.a,b.m],pipes:[b.v],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}"]}),e}();function nl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function il(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",60),a["\u0275\u0275text"](2,"Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",61),a["\u0275\u0275element"](5,"span",62),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function al(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",63),a["\u0275\u0275text"](2,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",64),a["\u0275\u0275element"](5,"span",65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275attribute"]("disabled",!0))}function rl(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",59),a["\u0275\u0275elementStart"](1,"label",66),a["\u0275\u0275text"](2,"Employee Code"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275element"](4,"input",67),a["\u0275\u0275element"](5,"span",68),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275attribute"]("disabled",!0))}function ol(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ll(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",69),a["\u0275\u0275text"](2,"Work Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",70),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getSupervisor(e.target.value)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Work Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,ol,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.workTypes)}}function sl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.code),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.code," - ",a["\u0275\u0275pipeBind1"](2,3,n.name)," ")}}function dl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",72),a["\u0275\u0275text"](2,"Supervisor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",73),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Supervisor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,sl,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",74),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.supervisors)}}function cl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function ml(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",75),a["\u0275\u0275text"](2,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",76),a["\u0275\u0275listener"]("change",function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getDistributorData(e.target.value,-1)}),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,cl,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",77),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",i.distributors)}}function pl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.customerId),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.customerId," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function ul(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"label",78),a["\u0275\u0275text"](2,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",10),a["\u0275\u0275elementStart"](4,"select",79),a["\u0275\u0275elementStart"](5,"option",12),a["\u0275\u0275text"](6," Stockist "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,pl,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"span",80),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngForOf",n.distributorStockists)}}function fl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",58),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.plant),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",n.plant," - ",a["\u0275\u0275pipeBind1"](2,3,n.organization)," ")}}function hl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",81),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275elementStart"](2,"label",82),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",83),a["\u0275\u0275elementStart"](5,"select",84),a["\u0275\u0275listener"]("change",function(e){a["\u0275\u0275restoreView"](n);var i=t.index;return a["\u0275\u0275nextContext"]().getDistributorData(e.target.value,i)}),a["\u0275\u0275elementStart"](6,"option",12),a["\u0275\u0275text"](7," Distributor "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,fl,3,5,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",86),a["\u0275\u0275elementStart"](11,"button",87),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().removeDistributor(e)}),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",88),a["\u0275\u0275elementStart"](14,"label",82),a["\u0275\u0275text"](15,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div",10),a["\u0275\u0275elementStart"](17,"select",89),a["\u0275\u0275elementStart"](18,"option",12),a["\u0275\u0275text"](19," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",90),a["\u0275\u0275elementStart"](21,"div",91),a["\u0275\u0275elementStart"](22,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleDivisionCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"label",93),a["\u0275\u0275text"](24,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](25,"div",94),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",95),a["\u0275\u0275elementStart"](28,"label",82),a["\u0275\u0275text"](29,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"select",89),a["\u0275\u0275elementStart"](32,"option",12),a["\u0275\u0275text"](33," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",90),a["\u0275\u0275elementStart"](35,"div",91),a["\u0275\u0275elementStart"](36,"input",92),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.index;return a["\u0275\u0275nextContext"]().toggleCheckbox(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"label",93),a["\u0275\u0275text"](38,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](39,"div",96),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",85),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.index,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroupName",i),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("for","distributor_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Distributor ",i+2,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","distributor_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",r.distributors),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_distributor_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",1e5),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("Remove Distributor ",i+2,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","dvson_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","division_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","division_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sddCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sddCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","division_data_",i,""),a["\u0275\u0275propertyInterpolate1"]("name","division_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_division_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stkst_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","stockist_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sel_",i,""),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate1"]("id","stockist_div_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","stockist_sd_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","sdCheckbox_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","sdCheckbox_",i,""),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("id","stockist_data_",i,""),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","err_stockist_div_",i,"")}}function vl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",97),a["\u0275\u0275elementStart"](1,"label",98),a["\u0275\u0275text"](2,"\xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",99),a["\u0275\u0275elementStart"](4,"button",100),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addMore()}),a["\u0275\u0275text"](5,"Add More Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("tabIndex",1e5))}function gl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",101),a["\u0275\u0275elementStart"](1,"input",102),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().togglePermissionCheckbox(e.permissionId)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"label",103),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("id","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275propertyInterpolate"]("value",i.permissionId),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate1"]("for","permissionCheckbox_all_",i.permissionId,""),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](i.permissionName)}}var bl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Edit / Update User",this.subheading="Update a user who can use the CN application.",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.commonFields=!1,this.officeFields=!1,this.fieldFields=!1,this.distributorField=!1,this.stockistField=!1,this.loggedUserId="",this.divisions=[],this.permission=[],this.supervisors=[],this.stockiestes=[],this.distributors=[],this.selectedDivision=[],this.accesspermissions=[],this.selectedStockiest=[],this.selectedPermission=[],this.selectedDistributor=[],this.distributorStockists=[],this.selectedStockiestDivision=[],this.StockiestDivision=[],this.selectedDistributor_divisions_id=[],this.fieldDistributorStockists=[],this.records=[],this.userTypes=[{id:"ho",name:"Head Office"},{id:"field",name:"Field"},{id:"distributor",name:"Distributor"},{id:"stockist",name:"Stockist"}],this.workTypes=[{id:"hos",name:"HOS"},{id:"suh",name:"SUH"},{id:"field",name:"Field"}],this.selectedUser=this.activatedRoute.snapshot.paramMap.get("userId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId="648946064477e07c9fc1b862",this.createForm(),this.getAllDivision(),this.getAllDistributor(),this.getAllAccessPermision(),this.getData()},e.prototype.delay=function(e){return Object(c.b)(this,void 0,void 0,function(){return Object(c.d)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(function(){return t("")},e)}).then(function(){return console.log("Fired")})];case 1:return t.sent(),[2]}})})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.getData=function(){var e=this;this.apiService.get("/api/user",this.selectedUser).subscribe(function(t){if(200===t.status){e.records=t.data,e.userForm.controls.userType.setValue(e.records[0].userType,{onlySelf:!0}),e.userForm.value.userType=e.records[0].userType,e.userForm.controls.email.setValue(e.records[0].email,{onlySelf:!0}),e.userForm.value.email=e.records[0].email,e.selectedPermission=e.records[0].gen_permissions[0]._id;var n=e.records[0].gen_permissions[0].permissions;if(e.showFormFields(e.records[0].userType),"stockist"==e.records[0].userType)e.userForm.controls.distributor_def.setValue(e.records[0].cn_stockist_divisions[0].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[0].cn_stockist_divisions[0].plant,e.getDistributorData(e.records[0].cn_stockist_divisions[0].plant,-1),e.userForm.controls.stockist_all.setValue(e.records[0].cn_stockist_divisions[0].customerId,{onlySelf:!0}),e.userForm.value.stockist_all=e.records[0].cn_stockist_divisions[0].customerId,e.selectedStockiestDivision=e.records[0].cn_stockist_divisions[0]._id,(i=e.records[0].cn_stockist_divisions[0].divisions).forEach(function(t,n){e.userForm.controls.stockist_all.setValue(e.records[0].cn_stockist_divisions[0].customerId,{onlySelf:!0}),e.userForm.value.stockist_all=e.records[0].cn_stockist_divisions[0].customerId,e.delay(1e3).then(function(n){document.getElementById("divisionCheckbox_"+e.records[0].cn_stockist_divisions[0].plant+"_"+t).checked=!0})});else if("distributor"==e.records[0].userType){e.userForm.controls.distributor_def.setValue(e.records[0].cn_distributor_divisions[0].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[0].cn_distributor_divisions[0].plant;var i=e.records[0].cn_distributor_divisions[0].divisions;e.selectedDistributor_divisions_id=e.records[0].cn_distributor_divisions[0]._id,i.forEach(function(t,n){e.delay(1e3).then(function(e){document.getElementById("divisionCheckbox_all_"+t).checked=!0})})}else if("ho"==e.records[0].userType||"field"==e.records[0].userType){e.userForm.controls.username.setValue(e.records[0].name,{onlySelf:!0}),e.userForm.value.username=e.records[0].name,e.userForm.controls.code.setValue(e.records[0].code,{onlySelf:!0}),e.userForm.value.code=e.records[0].code,e.userForm.controls.workType.setValue(e.records[0].workType,{onlySelf:!0}),e.userForm.value.workType=e.records[0].workType,e.getSupervisor(e.records[0].workType),e.userForm.controls.supervisor.setValue(e.records[0].supervisor,{onlySelf:!0}),e.userForm.value.supervisor=e.records[0].supervisor;var a=e.records[0].cn_emp_dist_stockist_divisions;if(a.length>0)for(var r=0,o=function(t){if(0===t)e.userForm.controls.distributor_def.setValue(e.records[0].cn_emp_dist_stockist_divisions[t].plant,{onlySelf:!0}),e.userForm.value.distributor_def=e.records[t].cn_emp_dist_stockist_divisions[t].plant,e.getDistributorData(e.records[0].cn_emp_dist_stockist_divisions[t].plant,-1),e.records[0].cn_emp_dist_stockist_divisions[t].divisions.forEach(function(n,i){e.delay(1e3).then(function(i){document.getElementById("divisionCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})}),e.records[0].cn_emp_dist_stockist_divisions[t].stockists.forEach(function(n,i){e.delay(1e3).then(function(i){e.delay(1e3).then(function(i){e.records[0].cn_emp_dist_stockist_divisions[t].plant==n?document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_99999").checked=!0:document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})});else{e.addMore(),e.delay(1e3).then(function(n){e.getDistributorData(e.records[0].cn_emp_dist_stockist_divisions[t].plant,r)}),e.delay(1e3).then(function(n){$("#distributor_"+r).val(e.records[0].cn_emp_dist_stockist_divisions[t].plant),r++});var n=e.records[0].cn_emp_dist_stockist_divisions[t].divisions;e.delay(1e3).then(function(i){n.forEach(function(n,i){e.delay(1e3).then(function(i){document.getElementById("divisionCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})});var i=e.records[0].cn_emp_dist_stockist_divisions[t].stockists;e.delay(1e3).then(function(n){i.forEach(function(n,i){e.delay(1e3).then(function(i){e.delay(1e3).then(function(i){e.records[0].cn_emp_dist_stockist_divisions[t].plant==n?document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_99999").checked=!0:document.getElementById("inlineCheckbox_"+e.records[0].cn_emp_dist_stockist_divisions[t].plant+"_"+n).checked=!0})})})})}},l=0;l<a.length;l++)o(l)}n.forEach(function(t,n){e.delay(1e3).then(function(n){document.getElementById("permissionCheckbox_all_"+t).checked=!0,e.togglePermissionCheckbox(t)})})}})},e.prototype.addNewUser=function(){this.router.navigateByUrl("/users/addUser")},Object.defineProperty(e.prototype,"f",{get:function(){return this.userForm.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.userForm=this.fb.group({_id:[this.selectedUser,[o.v.required]],userType:["",[o.v.required]],username:[""],email:["",[o.v.required]],code:[""],workType:[""],supervisor:[""],distributor_def:[""],division_def:[[]],stockist_def:[[]],stockist_all:[""],permission:["",[o.v.required]],portals:this.portalId,loggedUserId:this.loggedUserId,users:this.fb.array([]),dist:this.fb.array([])})},e.prototype.users=function(){return this.userForm.get("users")},e.prototype.dist=function(){return this.userForm.get("dist")},e.prototype.newDist=function(){return this.fb.group({distributor:"",division:"",stockiest:""})},e.prototype.addMore=function(){this.dist().push(this.newDist())},e.prototype.removeDistributor=function(e){this.fieldDistributorStockists.splice(e,1),this.dist().removeAt(e)},e.prototype.getAllDistributor=function(){var e=this;this.apiService.fetch("/api/distributor/getDistributor9000").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.plant)||(a.set(l.plant,!0),e.distributors.push({plant:l.plant,organization:l.organization}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}})},e.prototype.getAllAccessPermision=function(){var e=this;this.apiService.get("/api/access/getall",this.portalId).subscribe(function(t){200===t.status&&t.data.length&&(e.accesspermissions=t.data)})},e.prototype.getDistributorData=function(e,t){var n=$("#userTypes").val();if("distributor"===n);else{for(var i=[],a=e,r=this.dist().controls.length,o=0;o<=r;o++){var l=o-1;if(t!=l){var s=$("#distributor_"+(-1===l?"def":l)).val();i.push(s)}}i.includes(a)?(console.log("Already added"),$("#distributor_"+(-1===t?"def":t)).val("")):(this.getDistributorDivision(e,t),this.getDistributorStockist(e,t,n))}},e.prototype.appendDivisions=function(e){parseInt(e);var t=document.querySelector("#division_data_all");t.innerHTML="",this.divisions.forEach(function(e,n){var i=document.createElement("div");i.classList.add("col-sm-4"),i.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_all" id="divisionCheckbox_all_'+e.division+'" value="'+e.division+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_all_'+n+'">'+e.name+"</label>",t.appendChild(i)})},e.prototype.getDistributorDivision=function(e,t){var n=this,i=parseInt(e),a=-1===t?"def":t,r={plant:i};$("#division_sel_"+a).show(),$("#division_div_"+a).hide();var o=document.querySelector("#division_data_"+a);o.innerHTML="",this.apiService.post("/api/distributor/distributorDivison",r).subscribe(function(e){200===e.status&&e.data.length&&(n.StockiestDivision=e.data[0].divisions,e.data[0].divisions.forEach(function(e,t){var r=n.divisions.filter(function(t){return t.division===Number(e)}),l=document.createElement("div");l.classList.add("col-sm-4"),l.innerHTML='<input class="form-check-input dchkbox" style="margin: 5px 0px 0px 0px;" type="checkbox" name="dchkbox_'+a+'" id="divisionCheckbox_'+i+"_"+e+'" value="'+e+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="divisionCheckbox_'+i+"_"+t+'">'+r[0].name+"</label>",o.appendChild(l)}),$("#division_sel_"+a).hide(),$("#division_div_"+a).show())})},e.prototype.getDistributorStockist=function(e,t,n){var i=this;this.distributorStockists=[];var a=parseInt(e),r=-1===t?"def":t,o={plant:a};$("#stockist_sel_"+r).show(),$("#stockist_div_"+r).hide();var l=document.querySelector("#stockist_data_"+r);if(l.innerHTML="","ho"===n||"field"===n){var s=document.createElement("div");s.classList.add("col-sm-4"),s.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+'_99999" value="'+a+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+'_99999">--- SELF ---</label>',l.appendChild(s)}this.apiService.post("/api/stockiest/distributorStockiest",o).subscribe(function(e){200===e.status&&e.data.length&&(i.distributorStockists=e.data,i.fieldDistributorStockists[r]=e.data,$.each(e.data,function(e,t){var n=document.createElement("div");n.classList.add("col-sm-4"),n.innerHTML='<input class="form-check-input" style="margin: 5px 0px 0px 0px;" type="checkbox" name="chkbox_'+r+'" id="inlineCheckbox_'+a+"_"+t.customerId+'" value="'+t.customerId+'"><label class="form-check-label" style="margin: 2px 0px 2px 4px;" for="inlineCheckbox_'+a+"_"+e+'">'+t.organization+"</label>",l.appendChild(n)}),$("#stockist_sel_"+r).hide(),$("#stockist_div_"+r).show())})},e.prototype.toggleDivisionCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sddCheckbox_"+t),i=document.getElementsByName("dchkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.toggleDivisionAllCheckbox=function(e){for(var t=document.getElementById("sddCheckbox_"+e),n=document.getElementsByName("dchkbox_"+e),i=0,a=n.length;i<a;i++)n[i].checked=1==t.checked},e.prototype.toggleCheckbox=function(e){for(var t=-1===e?"def":e,n=document.getElementById("sdCheckbox_"+t),i=document.getElementsByName("chkbox_"+t),a=0,r=i.length;a<r;a++)i[a].checked=1==n.checked},e.prototype.togglePermissionAllCheckbox=function(e){for(var t=document.getElementById("permissCheckbox_"+e),n=document.getElementsByName("pchkbox_"+e),i=1,a=0;a<n.length;a++){var r=$("#permissionCheckbox_all_"+i).val(),o=this.permission.indexOf(r);1==t.checked?(n[a].checked=!0,o<0&&this.permission.push(r)):(n[a].checked=!1,this.permission=[]),i++}},e.prototype.togglePermissionCheckbox=function(e){var t=document.getElementById("permissCheckbox_all"),n=document.getElementById("permissionCheckbox_all_"+e),i=$("#permissionCheckbox_all_"+e).val(),a=this.permission.indexOf(i);0==n.checked?(t.checked=!1,a>-1&&this.permission.splice(a,1)):a<0&&this.permission.push(i)},e.prototype.getAllDivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&(e.divisions=t.data.length?t.data:[])})},e.prototype.selectAllForDivisionItems=function(e){!function(e){e.forEach(function(e){e.selectedAllDivisionGroup="selectedAllDivisionGroup"})}(e)},e.prototype.showFormFields=function(e){this.supervisors=[],this.commonFields=!0,this.fieldFields=!1,this.officeFields=!1,this.stockistField=!1,this.distributorField=!1,$("#dvson_def").hide(),$("#stkst_def").hide(),$("#dvson_all").hide(),"ho"==e&&this.getSupervisor(e),"ho"!=e&&"field"!=e||(this.officeFields=!0,this.distributorField=!0,$("#dvson_def").show(),$("#stkst_def").show()),"field"==e&&(this.fieldFields=!0),"distributor"==e&&(this.distributorField=!0,this.appendDivisions(e),$("#dvson_all").show()),"stockist"==e&&(this.distributorField=!0,this.stockistField=!0,$("#dvson_def").show()),$("#permiss_all").show()},e.prototype.getSupervisor=function(e){var t=this;this.supervisors=[],this.apiService.get("/api/userSupervisor",e).subscribe(function(e){200===e.status&&e.data.length&&(t.supervisors=e.data)})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=[],n=[],i=[],a=[];$(".form-select").removeClass("is-invalid"),$(".form-control").removeClass("is-invalid"),$(".container_div").css("border","1px solid #ced4da"),$(".text-danger").hide();var r=$("#userTypes option:selected").val(),o=$.trim($("#email").val()),l=$("#distributor_def option:selected").val();if(r||($("#userTypes").addClass("is-invalid"),$("#err_userTypes").text("User type is required").show()),o||($("#email").addClass("is-invalid"),$("#err_email").text("Email is required").show()),o&&(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(o)||($("#email").addClass("is-invalid"),$("#err_email").text("Enter Valid Email Address").show())),l||($("#distributor_def").addClass("is-invalid"),$("#err_distributor_def").text("Distributor is required").show()),"distributor"===r){for(var s=this.divisions,d=0;d<s.length;d++)if((_=$("#divisionCheckbox_all_"+s[d].division)).is(":checked")){var c=_.val();a.push(c)}0===a.length&&($("#division_div_all").css("border","1px solid red"),$("#err_division_div_all").text("At least one division is required.").show())}if("stockist"===r){$("#stockist_all option:selected").val()||($("#stockist_all").addClass("is-invalid"),$("#err_stockist_all").text("Stockist is required").show());for(var m=this.dist().controls.length,p=0;p<=m;p++){var u=-1==(x=p-1)?"def":x,f=$("#distributor_"+u).val(),h=this.StockiestDivision;for(d=0;d<h.length;d++)(_=$("#divisionCheckbox_"+f+"_"+this.StockiestDivision[d])).is(":checked")&&(c=_.val(),t.push(c))}0===t.length&&($("#division_div_def").css("border","1px solid red"),$("#err_division_div_def").text("At least one division is required.").show())}if("ho"===r||"field"===r){$("#username").val()||($("#username").addClass("is-invalid"),$("#err_username").text("Name is required").show());var v=$("#code").val(),g=/^\d+$/.test(v);v?g?6!=String(v).length&&($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be 6 digits only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code must be a number only").show()):($("#code").addClass("is-invalid"),$("#err_code").text("Employee code is required").show()),$("#supervisor option:selected").val()||($("#supervisor").addClass("is-invalid"),$("#err_supervisor").text("Supervisor is required").show()),m=this.dist().controls.length;var b=-1;for(p=0;p<=m;p++){var x;u=-1==(x=p-1)?"def":x,(f=$("#distributor_"+u+" option:selected").val())?i[p]=f:($("#distributor_"+u).addClass("is-invalid"),$("#err_distributor_"+u).text("Distributor is required").show());var y=[];for(h=this.StockiestDivision,d=0;d<h.length;d++){var S=$("#divisionCheckbox_"+f+"_"+this.StockiestDivision[d]);S.is(":checked")&&(c=S.val(),y.push(c))}0===y.length?($("#division_sel_"+u).addClass("is-invalid"),$("#division_div_"+u).css("border","1px solid red"),$("#err_division_div_"+u).text("At least one division is required.").show()):t[p]=y;var _,E=[];if(-1===b)var C=this.fieldDistributorStockists.def;else C=this.fieldDistributorStockists[b];(_=$("#inlineCheckbox_"+f+"_99999")).is(":checked")&&(c=_.val(),E.push(c));for(var k=0;k<C.length;k++)if("def"===u){var w=$("#inlineCheckbox_"+f+"_"+this.fieldDistributorStockists.def[k].customerId);w.is(":checked")&&(c=w.val(),E.push(c))}else{var I=$("#inlineCheckbox_"+f+"_"+this.fieldDistributorStockists[u][k].customerId);I.is(":checked")&&(c=I.val(),E.push(c))}0===E.length?($("#stockist_sel_"+u).addClass("is-invalid"),$("#stockist_div_"+u).css("border","1px solid red"),$("#err_stockist_div_"+u).text("At least one stockist is required.").show()):n[p]=E,b++}}if("field"===r&&($("#workType option:selected").val()||($("#workType").addClass("is-invalid"),$("#err_workType").text("Work type is required").show())),this.userForm.get("permission").setValue(this.permission),this.userForm.valid){var F={};if(F.userType=this.userForm.value.userType,F.email=this.userForm.value.email.toLowerCase(),F.portalId=this.portalId,F.loggedUserId=this.loggedUserId,F.permission=this.userForm.value.permission,F._id=this.selectedUser,F.permission_id=this.selectedPermission,"distributor"===r){var D=Number(this.userForm.value.distributor_def),M=this.distributors.filter(function(e){return e.plant===D});F.userType=this.userForm.value.userType,F.username=M[0].organization,F.email=this.userForm.value.email.toLowerCase(),F.code=this.userForm.value.distributor_def,F.divisions=a,F.distributor_divisions_id=this.selectedDistributor_divisions_id}if("stockist"===r){var O=Number(this.userForm.value.stockist_all);M=this.distributorStockists.filter(function(e){return e.customerId===O}),F.username=M[0].organization,F.plant=this.userForm.value.distributor_def,F.code=this.userForm.value.stockist_all,F.divisions=t,F.stockist_divisions_id=this.selectedStockiestDivision}"ho"!==r&&"field"!==r||(F.username=this.userForm.value.username,F.code=this.userForm.value.code,F.supervisor=this.userForm.value.supervisor,F.distributors=i,F.divisions=t,F.stockists=n),"field"===r&&(F.workType=this.userForm.value.workType),console.log("reqData--",F),this.apiService.post("/api/user/edituser",F).subscribe(function(t){200===t.status?e.toast("success","User updated successfully."):e.toast("error",t.message)})}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-user"]],decls:86,vars:18,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","userTypes",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","userTypes","formControlName","userType",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_userTypes",1,"text-danger",2,"display","none"],["class","position-relative row mb-3 common required",4,"ngIf"],["class","position-relative row mb-3 required",4,"ngIf"],["id","dvson_all",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_all",1,"form-label","col-sm-2","col-form-label"],["id","division_div_all",1,"row","container_div"],["id","division_sd_all"],["type","checkbox","id","sddCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_all",1,"form-check-label",2,"font-weight","500"],["id","division_data_all","name","division_data_all",1,"row"],["id","err_division_div_all",1,"text-danger",2,"display","none"],["id","dvson_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","division_def",1,"form-label","col-sm-2","col-form-label"],["id","division_sel_def",1,"form-select"],["id","division_div_def",1,"row","container_div",2,"display","none"],["id","division_sd_def"],["type","checkbox","id","sddCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sddCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","division_data_def","name","division_data_def",1,"row"],["id","err_division_div_def",1,"text-danger",2,"display","none"],["id","stkst_def",1,"position-relative","row","mb-3","required",2,"display","none"],["for","stockist_def",1,"form-label","col-sm-2","col-form-label"],["id","stockist_sel_def",1,"form-select"],["id","stockist_div_def",1,"row","container_div",2,"display","none"],["id","stockist_sd_def"],["type","checkbox","id","sdCheckbox_def",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","sdCheckbox_def",1,"form-check-label",2,"font-weight","500"],["id","stockist_data_def","name","stockist_data_def",1,"row"],["id","err_stockist_div_def",1,"text-danger",2,"display","none"],["formArrayName","dist",2,"position","relative"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","position-relative row mb-3",4,"ngIf"],["id","permiss_all",1,"position-relative","row","mb-3",2,"display","none"],["for","permission_all",1,"form-label","col-sm-2","col-form-label","req_permission"],["id","permission_div_all",1,"row","container_div"],["id","permission_sd_all"],["type","checkbox","id","permissCheckbox_all",1,"form-check-input",2,"border","2px solid #495057",3,"click"],["for","permissCheckbox_all",1,"form-check-label","req_permission",2,"font-weight","500"],["id","permission_data_all","name","permission_data_all",1,"row"],["class","col-sm-4",4,"ngFor","ngForOf"],["id","err_permission_div_all",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"],[1,"position-relative","row","mb-3","common","required"],["for","username",1,"form-label","col-sm-2","col-form-label"],["formControlName","username","id","username","placeholder","Name","type","text",1,"form-control"],["id","err_username",1,"text-danger",2,"display","none"],["for","email",1,"form-label","col-sm-2","col-form-label"],["formControlName","email","id","email","placeholder","Email","type","email","required","",1,"form-control","grf-def"],["id","err_email",1,"text-danger",2,"display","none"],["for","code",1,"form-label","col-sm-2","col-form-label"],["formControlName","code","id","code","placeholder","Employee Code","type","text",1,"form-control"],["id","err_code",1,"text-danger",2,"display","none"],["for","workType",1,"form-label","col-sm-2","col-form-label"],["id","workType","formControlName","workType",1,"form-select",3,"change"],["id","err_workType",1,"text-danger",2,"display","none"],["for","supervisor",1,"form-label","col-sm-2","col-form-label"],["id","supervisor","formControlName","supervisor",1,"form-select"],["id","err_supervisor",1,"text-danger",2,"display","none"],["for","distributor_def",1,"form-label","col-sm-2","col-form-label"],["id","distributor_def","formControlName","distributor_def",1,"form-select",3,"change"],["id","err_distributor_def",1,"text-danger",2,"display","none"],["for","stockist_all",1,"form-label","col-sm-2","col-form-label"],["id","stockist_all","formControlName","stockist_all",1,"form-select"],["id","err_stockist_all",1,"text-danger",2,"display","none"],[3,"formGroupName"],[1,"form-label","col-sm-2","col-form-label",3,"for"],[1,"col-sm-8"],["formControlName","distributor",1,"form-select",3,"id","change"],[1,"text-danger",2,"display","none",3,"id"],[1,"col-sm-2"],["type","button",1,"btn","btn-warning",2,"width","100%",3,"tabIndex","click"],[1,"position-relative","row","mb-3","required",3,"id"],[1,"form-select",3,"id"],[1,"row","container_div",2,"display","none",3,"id"],[3,"id"],["type","checkbox",1,"form-check-input",2,"border","2px solid #495057",3,"id","click"],[1,"form-check-label",2,"font-weight","500",3,"for"],[1,"row",3,"id","name"],[1,"position-relative","row","mb-3",3,"id"],[1,"row",3,"id"],[1,"position-relative","row","mb-3"],[1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10",2,"text-align","right"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex","click"],[1,"col-sm-4"],["type","checkbox","name","pchkbox_all",1,"form-check-input","dchkbox",2,"margin","5px 0px 0px 0px","color","black",3,"id","value","click"],[1,"form-check-label",2,"margin","2px 0px 2px 4px",3,"for"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"User Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275listener"]("change",function(e){return t.showFormFields(e.target.value)}),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," User Type "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,nl,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](21,il,6,0,"div",15),a["\u0275\u0275template"](22,al,6,1,"div",16),a["\u0275\u0275template"](23,rl,6,1,"div",15),a["\u0275\u0275template"](24,ll,9,1,"div",16),a["\u0275\u0275template"](25,dl,9,1,"div",16),a["\u0275\u0275template"](26,ml,9,1,"div",16),a["\u0275\u0275elementStart"](27,"div",17),a["\u0275\u0275elementStart"](28,"label",18),a["\u0275\u0275text"](29,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275elementStart"](31,"div",19),a["\u0275\u0275elementStart"](32,"div",20),a["\u0275\u0275elementStart"](33,"input",21),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](36,"div",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,ul,9,1,"div",16),a["\u0275\u0275elementStart"](39,"div",25),a["\u0275\u0275elementStart"](40,"label",26),a["\u0275\u0275text"](41,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",27),a["\u0275\u0275elementStart"](44,"option",12),a["\u0275\u0275text"](45," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",28),a["\u0275\u0275elementStart"](47,"div",29),a["\u0275\u0275elementStart"](48,"input",30),a["\u0275\u0275listener"]("click",function(){return t.toggleDivisionCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"label",31),a["\u0275\u0275text"](50,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](51,"div",32),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](52,"span",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",34),a["\u0275\u0275elementStart"](54,"label",35),a["\u0275\u0275text"](55,"Stockist"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](56,"div",10),a["\u0275\u0275elementStart"](57,"select",36),a["\u0275\u0275elementStart"](58,"option",12),a["\u0275\u0275text"](59," Select Distributor First "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"div",37),a["\u0275\u0275elementStart"](61,"div",38),a["\u0275\u0275elementStart"](62,"input",39),a["\u0275\u0275listener"]("click",function(){return t.toggleCheckbox(-1)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](63,"label",40),a["\u0275\u0275text"](64,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](65,"div",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](66,"span",42),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](67,"div",43),a["\u0275\u0275template"](68,hl,41,27,"div",44),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](69,vl,6,1,"div",45),a["\u0275\u0275elementStart"](70,"div",46),a["\u0275\u0275elementStart"](71,"label",47),a["\u0275\u0275text"](72,"Permissions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](73,"div",10),a["\u0275\u0275elementStart"](74,"div",48),a["\u0275\u0275elementStart"](75,"div",49),a["\u0275\u0275elementStart"](76,"input",50),a["\u0275\u0275listener"]("click",function(){return t.togglePermissionAllCheckbox("all")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](77,"label",51),a["\u0275\u0275text"](78,"Select / Deselect All"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](79,"div",52),a["\u0275\u0275template"](80,gl,4,4,"div",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](81,"span",54),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](82,"div",55),a["\u0275\u0275elementStart"](83,"div",56),a["\u0275\u0275elementStart"](84,"button",57),a["\u0275\u0275text"](85,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.userForm),a["\u0275\u0275advance"](5),a["\u0275\u0275attribute"]("disabled",!0),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.userTypes),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.commonFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.fieldFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.distributorField),a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngIf",t.stockistField),a["\u0275\u0275advance"](30),a["\u0275\u0275property"]("ngForOf",t.dist().controls),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.officeFields),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.accesspermissions))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.m,b.n,o.c,o.b,o.t,o.h],pipes:[b.v],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:\" *\";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]     .ng-select-container{border-color:#c71c22;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23C71C22'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23C71C22' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.container_div[_ngcontent-%COMP%]{border:1px solid #ced4da;min-height:33px;border-radius:.25rem;margin:0;max-height:155px;overflow-y:auto}.inrdiv[_ngcontent-%COMP%]{padding:3px 3px 3px 9px}.form-check-input[_ngcontent-%COMP%]{margin:5px 0 0!important}.form-check-label[_ngcontent-%COMP%]{margin:2px 0 2px 4px!important}"]}),e}();function xl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",25),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}var yl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create Division",this.subheading="Create a division",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.submitted=!1,this.btnLoader=!1,this.plants=[{id:"2200",name:"2200"},{id:"3300",name:"3300"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.createForm()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},Object.defineProperty(e.prototype,"f",{get:function(){return this.divisionform.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.divisionform=this.fb.group({plant:["",[o.v.required]],divisionName:["",[o.v.required]],divisionID:["",[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;console.log(this.divisionform.value),this.submitted=!0;var t=!1,n=$("#plant").val(),i=$("#divisionName").val(),a=$("#divisionID").val();n||(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),i||(t=!0,$("#divisionName").addClass("is-invalid"),$("#err_divisionname").text("Division name is required").show()),a||(t=!0,$("#divisionID").addClass("is-invalid"),$("#err_divisionid").text("Division id is required").show()),t||this.apiService.post("/api/division/add",this.divisionform.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-division"]],decls:37,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","Plant",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","divisionName",1,"form-label","col-sm-2","col-form-label"],["formControlName","divisionName","id","divisionName","placeholder","Division Name","type","text",1,"form-control"],["id","err_divisionname",1,"text-danger",2,"display","none"],["for","divisionId",1,"form-label","col-sm-2","col-form-label"],["formControlName","divisionID","id","divisionID","placeholder","Division ID","type","number",1,"form-control"],["id","err_divisionid",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,xl,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",10),a["\u0275\u0275element"](25,"input",17),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",15),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Division ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",22),a["\u0275\u0275elementStart"](34,"div",23),a["\u0275\u0275elementStart"](35,"button",24),a["\u0275\u0275text"](36,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.divisionform),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.plants))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.m,o.b,o.r],pipes:[b.v],styles:[".fb[_ngcontent-%COMP%]{font-weight:600}.tc[_ngcontent-%COMP%]{text-align:center}.tar[_ngcontent-%COMP%]{text-align:right}.tdpd[_ngcontent-%COMP%]{padding:0 2px 4px!important}.tdpd1[_ngcontent-%COMP%]{padding:4px 2px!important}.m8[_ngcontent-%COMP%]{margin:8px}.pl4[_ngcontent-%COMP%]{padding-left:4px}.m_lr[_ngcontent-%COMP%]{margin:0 5px}.grf-invalid[_ngcontent-%COMP%]{border-color:#c71c22}#stockiest_loader[_ngcontent-%COMP%], .txtbox[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{color:#e32;content:\" *\";display:inline}.btn-reset[_ngcontent-%COMP%]{padding:6px 15px;margin:0 3px}.btn-header-submit[_ngcontent-%COMP%]{margin:0 3px;padding:6px 10px}.btn-outline-focus[_ngcontent-%COMP%]:focus{color:#fff;background-color:#6610f2;border-color:#6610f2}.vsm-icon[_ngcontent-%COMP%]{margin:8px 2px 0;font-weight:600;cursor:pointer}.td-head[_ngcontent-%COMP%]{font-weight:600;text-align:center;height:30px;background:#efefef}.grid-label[_ngcontent-%COMP%]{margin:0;padding:0}.pe-7s-paperclip[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:2px;cursor:pointer}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;overflow-x:scroll;display:block}thead[_ngcontent-%COMP%]{background-color:#efefef;text-align:center}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block}tbody[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;height:140px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{min-width:100px;height:25px;border:1px dashed #add8e6;overflow:hidden;text-overflow:ellipsis}.suggestions[_ngcontent-%COMP%]{width:auto;min-width:150px;background:#fff;text-align:left;position:absolute;border:1px solid #ccc;padding:0 0 0 5px}ul[_ngcontent-%COMP%]{display:none;list-style-type:none;padding:0;margin:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.2);max-height:200px;overflow-y:auto}ul.has-suggestions[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;background:hsla(0,0%,100%,.2)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e65c00}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]     .ng-select-container{border-color:#c71c22;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23C71C22'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23C71C22' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.container_div[_ngcontent-%COMP%]{border:1px solid #ced4da;min-height:33px;border-radius:.25rem;margin:0;max-height:155px;overflow-y:auto}.inrdiv[_ngcontent-%COMP%]{padding:3px 3px 3px 9px}.form-check-input[_ngcontent-%COMP%]{margin:5px 0 0!important}.form-check-label[_ngcontent-%COMP%]{margin:2px 0 2px 4px!important}"]}),e}();function Sl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",11),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addnewdivision()}),a["\u0275\u0275element"](1,"fa-icon",12),a["\u0275\u0275text"](2," Create Division "),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("icon",i.faPlus)}}function _l(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",14),a["\u0275\u0275text"](1,"Options"),a["\u0275\u0275elementEnd"]())}function El(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",14),a["\u0275\u0275elementStart"](1,"span",19),a["\u0275\u0275elementStart"](2,"a",20),a["\u0275\u0275element"](3,"i",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("href","division/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function Cl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",17),a["\u0275\u0275elementStart"](1,"td",14),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",18),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",14),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",14),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",14),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](11,El,4,1,"td",15),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.name),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.division),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","it"===r.sessionData.workType)}}function kl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",13),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",14),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",14),a["\u0275\u0275text"](6,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",14),a["\u0275\u0275text"](8,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",14),a["\u0275\u0275text"](10,"Division"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",14),a["\u0275\u0275text"](12,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](13,_l,2,0,"th",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"tbody"),a["\u0275\u0275template"](15,Cl,12,6,"tr",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("ngIf","it"===n.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",n.divisions)}}var wl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Division",this.subheading="Division List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.divisions=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getalldivision()},e.prototype.addnewdivision=function(){this.router.navigateByUrl("/division/add")},e.prototype.getalldivision=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-division"]],decls:15,vars:7,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button","class","btn-shadow d-inline-flex align-items-center btn btn-success",3,"click",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-right",4,"ngIf"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right","tal"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275template"](10,Sl,3,1,"button",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275template"](14,kl,16,3,"table",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","it"===t.sessionData.workType),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",t.divisions.length))},directives:[b.n,_.a,r.a,b.m],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}"]}),e}();function Il(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function $l(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Fl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Edit / Update Division",this.subheading="Update a division",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.submitted=!1,this.btnLoader=!1,this.records=[],this.plants=[{id:"2200",name:"2200"},{id:"3300",name:"3300"}],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.selectedDivision=this.activatedRoute.snapshot.paramMap.get("divisionId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.getData(),this.createForm()},e.prototype.getData=function(){var e=this;this.apiService.get("/api/division/getdivision",this.selectedDivision).subscribe(function(t){200===t.status&&(e.records=t.data,e.divisionform.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.divisionform.value.plant=e.records.plant,e.divisionform.controls.name.setValue(e.records.name,{onlySelf:!0}),e.divisionform.value.name=e.records.name,e.divisionform.controls.olddivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.olddivision=e.records.division,e.divisionform.controls.newdivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.newdivision=e.records.division,e.divisionform.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.divisionform.value.status=e.records.isActive,e.divisionform.controls._id.setValue(e.records._id,{onlySelf:!0}),e.divisionform.value._id=e.records._id)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},Object.defineProperty(e.prototype,"f",{get:function(){return this.divisionform.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.divisionform=this.fb.group({_id:[this.selectedDivision,[o.v.required]],plant:[this.records.plant,[o.v.required]],name:[this.records.name,[o.v.required]],olddivision:[this.records.division,[o.v.required]],newdivision:[this.records.division,[o.v.required]],status:[this.records.isActive,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#plant").val(),i=$("#divisionName").val(),a=$("#newdivision").val();$("#olddivision").val(),n||(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),i||(t=!0,$("#divisionName").addClass("is-invalid"),$("#err_divisionname").text("Division name is required").show()),a||(t=!0,$("#newdivision").addClass("is-invalid"),$("#err_divisionid").text("Division is required").show()),t||this.apiService.post("/api/division/edit",this.divisionform.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time"),e.ngOnInit()})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-division"]],decls:45,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","Plant",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","divisionName",1,"form-label","col-sm-2","col-form-label"],["formControlName","name","id","divisionName","placeholder","Division Name","type","text",1,"form-control"],["id","err_divisionname",1,"text-danger",2,"display","none"],["for","divisionId",1,"form-label","col-sm-2","col-form-label"],["formControlName","newdivision","id","newdivision","placeholder","Division ID","type","number",1,"form-control"],["formControlName","olddivision","id","olddivision","value","","type","hidden",1,"form-control"],["id","err_divisionid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,Il,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",10),a["\u0275\u0275element"](25,"input",17),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",15),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Division ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"input",21),a["\u0275\u0275element"](33,"span",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",8),a["\u0275\u0275elementStart"](35,"label",23),a["\u0275\u0275text"](36,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",10),a["\u0275\u0275elementStart"](38,"select",24),a["\u0275\u0275template"](39,$l,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",26),a["\u0275\u0275elementStart"](42,"div",27),a["\u0275\u0275elementStart"](43,"button",28),a["\u0275\u0275text"](44,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.divisionform),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](20),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.m,o.b,o.r],pipes:[b.v],styles:[""]}),e}();function Dl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ml(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Ol=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create Distributor",this.subheading="Create a Distributor",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.company=[{id:2200,name:"2200 - La Renon"},{id:3300,name:"3300 - Frimline"}]}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.createForm()},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.distForm=this.fb.group({organization:["",o.v.required],plant:["",o.v.required],customerId:["",o.v.required],status:["",o.v.required],company:["",o.v.required],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#company").val(),o=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Distributor is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Distributor is required").show()),r?($("#company").removeClass("is-invalid"),$("#err_company").text("Organization is required").hide()):(t=!0,$("#company").addClass("is-invalid"),$("#err_company").text("Organization is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),o?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/distributor/add",this.distForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-distributor"]],decls:52,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Distributor Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","Company",1,"form-label","col-sm-2","col-form-label"],["id","company","formControlName","company",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_company",1,"text-danger",2,"display","none"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["formControlName","plant","id","plant","placeholder","Plant","type","number","required","",1,"form-control","grf-def"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerId","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Organization "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,Dl,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",13),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275element"](37,"input",23),a["\u0275\u0275element"](38,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",8),a["\u0275\u0275elementStart"](40,"label",25),a["\u0275\u0275text"](41,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",26),a["\u0275\u0275elementStart"](44,"option",16),a["\u0275\u0275text"](45," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](46,Ml,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](47,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"div",28),a["\u0275\u0275elementStart"](49,"div",29),a["\u0275\u0275elementStart"](50,"button",30),a["\u0275\u0275text"](51,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.distForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.company),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.m,o.r,o.t],styles:[""]}),e}();function Pl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Tl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",31),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var Rl=function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Add / Create Distributor",this.subheading="Create a Distributor",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.submitted=!1,this.btnLoader=!1,this.loggedUserId="",this.plants=[],this.records=[],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.company=[{id:2200,name:"2200 - La Renon"},{id:3300,name:"3300 - Frimline"}],this.selectedDist=this.activatedRoute.snapshot.paramMap.get("distId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.portalId=JSON.parse(e).portal,this.getData(),this.createForm()},e.prototype.getData=function(){var e=this;this.apiService.get("/api/distributor",this.selectedDist).subscribe(function(t){200===t.status&&(e.records=t.data,e.distForm.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.distForm.value.plant=e.records.plant,e.distForm.controls.oldplant.setValue(e.records.plant,{onlySelf:!0}),e.distForm.value.oldplant=e.records.plant,e.distForm.controls.organization.setValue(e.records.organization,{onlySelf:!0}),e.distForm.value.organization=e.records.organization,e.distForm.controls.customerId.setValue(e.records.customerId,{onlySelf:!0}),e.distForm.value.customerId=e.records.customerId,e.distForm.controls.oldcustomerId.setValue(e.records.customerId,{onlySelf:!0}),e.distForm.value.oldcustomerId=e.records.customerId,e.distForm.controls.company.setValue(e.records.company,{onlySelf:!0}),e.distForm.value.company=e.records.company,e.distForm.controls.oldcompany.setValue(e.records.company,{onlySelf:!0}),e.distForm.value.oldcompany=e.records.company,e.distForm.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.distForm.value.status=e.records.isActive,e.distForm.controls._id.setValue(e.records._id,{onlySelf:!0}),e.distForm.value._id=e.records._id)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},e.prototype.createForm=function(){this.distForm=this.fb.group({_id:[this.selectedDist,[o.v.required]],organization:["",o.v.required],plant:["",o.v.required],oldplant:[this.records.plant,o.v.required],customerId:["",o.v.required],oldcustomerId:[this.records.customerId,[o.v.required]],status:["",o.v.required],company:["",o.v.required],oldcompany:[this.records.company,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#organization").val(),i=$.trim($("#plant").val()),a=$("#customerid").val(),r=$("#company").val(),o=$("#status").val();n?($("#organization").removeClass("is-invalid"),$("#err_organization").text("Distributor is required").hide()):(t=!0,$("#organization").addClass("is-invalid"),$("#err_organization").text("Distributor is required").show()),r?($("#company").removeClass("is-invalid"),$("#err_company").text("Company is required").hide()):(t=!0,$("#company").addClass("is-invalid"),$("#err_company").text("Company is required").show()),i?($("#plant").removeClass("is-invalid"),$("#err_plant").text("Plant is required").hide()):(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),a?($("#customerid").removeClass("is-invalid"),$("#err_customerid").text("Customer ID is required").hide()):(t=!0,$("#customerid").addClass("is-invalid"),$("#err_customerid").text("Customer ID is required").show()),o?($("#status").removeClass("is-invalid"),$("#err_status").text("Status is required").hide()):(t=!0,$("#status").addClass("is-invalid"),$("#err_status").text("Status is required").show()),t||this.apiService.post("/api/distributor/edit",this.distForm.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time")})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-distributor"]],decls:52,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","organization",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","organization","id","organization","placeholder","Distributor Name","type","text",1,"form-control"],["id","err_organization",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","Company",1,"form-label","col-sm-2","col-form-label"],["id","company","formControlName","company",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_company",1,"text-danger",2,"display","none"],["for","plant",1,"form-label","col-sm-2","col-form-label"],["formControlName","plant","id","plant","placeholder","Plant","type","number","required","",1,"form-control","grf-def"],["id","err_plant",1,"text-danger",2,"display","none"],["for","customer",1,"form-label","col-sm-2","col-form-label"],["formControlName","customerId","id","customerid","placeholder","Customer ID","type","number","required","",1,"form-control","grf-def"],["id","err_customerid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Distributor Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275element"](16,"input",11),a["\u0275\u0275element"](17,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",13),a["\u0275\u0275elementStart"](19,"label",14),a["\u0275\u0275text"](20,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"select",15),a["\u0275\u0275elementStart"](23,"option",16),a["\u0275\u0275text"](24," Organization "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](25,Pl,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",13),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"span",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"div",8),a["\u0275\u0275elementStart"](34,"label",22),a["\u0275\u0275text"](35,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"div",10),a["\u0275\u0275element"](37,"input",23),a["\u0275\u0275element"](38,"span",24),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",8),a["\u0275\u0275elementStart"](40,"label",25),a["\u0275\u0275text"](41,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](42,"div",10),a["\u0275\u0275elementStart"](43,"select",26),a["\u0275\u0275elementStart"](44,"option",16),a["\u0275\u0275text"](45," Status "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](46,Tl,2,2,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](47,"span",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"div",28),a["\u0275\u0275elementStart"](49,"div",29),a["\u0275\u0275elementStart"](50,"button",30),a["\u0275\u0275text"](51,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.distForm),a["\u0275\u0275advance"](14),a["\u0275\u0275property"]("ngForOf",t.company),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.b,o.m,o.e,o.u,o.q,o.x,b.m,o.r,o.t],styles:[""]}),e}();function Nl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",12),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().addNewDistributor()}),a["\u0275\u0275element"](1,"fa-icon",13),a["\u0275\u0275text"](2," Create New "),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("icon",i.faPlus)}}function jl(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"th",15),a["\u0275\u0275text"](1,"Options"),a["\u0275\u0275elementEnd"]())}function Al(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"td",15),a["\u0275\u0275elementStart"](1,"span",20),a["\u0275\u0275elementStart"](2,"a",21),a["\u0275\u0275element"](3,"i",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("href","distributor/edit/",n._id,"",a["\u0275\u0275sanitizeUrl"])}}function Bl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",18),a["\u0275\u0275elementStart"](1,"td",15),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",19),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",15),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",15),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",15),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",15),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](13,Al,4,1,"td",16),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.organization),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.company),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.customerId),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.isActive?"Active":"In-Active"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","it"===r.sessionData.workType)}}function Ql(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",14),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",15),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",15),a["\u0275\u0275text"](6,"Distributor"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",15),a["\u0275\u0275text"](8,"Organization"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",15),a["\u0275\u0275text"](10,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",15),a["\u0275\u0275text"](12,"Customer ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",15),a["\u0275\u0275text"](14,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](15,jl,2,0,"th",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"tbody"),a["\u0275\u0275template"](17,Bl,14,7,"tr",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dtOptions",n.dtOptions),a["\u0275\u0275advance"](15),a["\u0275\u0275property"]("ngIf","it"===n.sessionData.workType),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",n.distributors)}}function Ul(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"img",24),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function Ll(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",44),a["\u0275\u0275elementStart"](1,"button",45),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",46),a["\u0275\u0275text"](3," Download "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function Yl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.division,")")}}function Vl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",19),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ql(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("(",n.selectedFields.material,")")}}function zl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",47),a["\u0275\u0275template"](1,ql,2,1,"span",12),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.selectedFields.material)}}function Hl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",19),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.materialName),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.materialName," ")}}function Jl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",19),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.batch),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.batch," ")}}function Wl(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",48),a["\u0275\u0275element"](1,"img",49),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function Gl(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",56),a["\u0275\u0275element"](1,"div",57),a["\u0275\u0275elementStart"](2,"i",58),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"](2).showMrp(e)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Zl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",54),a["\u0275\u0275elementStart"](1,"td",51),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",51),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",51),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",51),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",51),a["\u0275\u0275text"](10),a["\u0275\u0275pipe"](11,"date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"td",51),a["\u0275\u0275text"](13),a["\u0275\u0275pipe"](14,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"td",51),a["\u0275\u0275text"](16),a["\u0275\u0275pipe"](17,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"td",51),a["\u0275\u0275template"](19,Gl,3,0,"div",55),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.batch),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](11,8,n.expireOn,"yyyy-MM-dd")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](14,11,n.mrp,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](17,14,n.pts,"1.2-2")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",n.mrp2)}}function Kl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",50),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",51),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",51),a["\u0275\u0275text"](6,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",51),a["\u0275\u0275text"](8,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",51),a["\u0275\u0275text"](10,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"th",51),a["\u0275\u0275text"](12,"Expire On"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"th",51),a["\u0275\u0275text"](14,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",51),a["\u0275\u0275text"](16,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"th",52),a["\u0275\u0275text"](18,"Multiple MRP?"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"tbody"),a["\u0275\u0275template"](20,Zl,20,17,"tr",53),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](20),a["\u0275\u0275property"]("ngForOf",n.records)}}function Xl(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td",59),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",59),a["\u0275\u0275text"](4),a["\u0275\u0275pipe"](5,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"td",59),a["\u0275\u0275text"](7),a["\u0275\u0275pipe"](8,"number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](5,3,n.mrp,"1.2-2")," "),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](8,6,n.pts,"1.2-2")," ")}}function es(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function ts(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",29),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ns(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",21),a["\u0275\u0275elementStart"](1,"button",22),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().exportToExcel()}),a["\u0275\u0275element"](2,"fa-icon",23),a["\u0275\u0275text"](3," Download "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("icon",i.faPlus)}}function is(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",12),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"titlecase"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.division),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,2,n.name)," ")}}function as(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ng-option",12),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.materialName),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.materialName," ")}}function rs(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275element"](1,"img",25),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3," Loading... Please wait "),a["\u0275\u0275elementEnd"]())}function os(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr",32),a["\u0275\u0275elementStart"](1,"td",33),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",33),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",33),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",30),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i+1),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.plant),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.material),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](n.materialName)}}function ls(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"table",26),a["\u0275\u0275elementStart"](1,"thead"),a["\u0275\u0275elementStart"](2,"tr"),a["\u0275\u0275elementStart"](3,"th",27),a["\u0275\u0275text"](4,"S.No."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"th",28),a["\u0275\u0275text"](6,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"th",29),a["\u0275\u0275text"](8,"Material"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"th",30),a["\u0275\u0275text"](10,"Material Description"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"tbody"),a["\u0275\u0275template"](12,os,9,4,"tr",31),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](12),a["\u0275\u0275property"]("ngForOf",n.records)}}function ss(e,t){if(1&e&&(a["\u0275\u0275element"](0,"input",17),a["\u0275\u0275text"](1)),2&e){var n=t.item,i=t.item$;a["\u0275\u0275propertyInterpolate1"]("id","item-",t.index,""),a["\u0275\u0275property"]("ngModel",i.selected),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var ds=[{path:"",component:V,children:[{path:"",component:me,data:{extraParameter:"dashboardsMenu"}},{path:"change/password",component:Oe,data:{extraParameter:"passwordMenu"}},{path:"stockiest/createClaim",component:st,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/updateClaim/:claimId",component:St,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/draftClaim",component:Jt,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/claimStatus",component:Rn,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/add",component:qn,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/edit/:stockiestId",component:Jn,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/list",component:Ln,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/claims",component:Si,data:{extraParameter:"stockiestElementsMenu"}},{path:"stockiest/claims/:distributor/:stockist/:month/:year",component:Si,data:{extraParameter:"stockiestElementsMenu"}},{path:"headoffice/stockiestClaim",component:rr,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimApproval/:month/:stockiest/:year/:type/:invoice",component:xr,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/claimStatus",component:jr,data:{extraParameter:"hoElementsMenu"}},{path:"headoffice/foApproval",component:Po,data:{extraParameter:"hoElementsMenu"}},{path:"upload/salesHo",component:To,data:{extraParameter:"uploadElementsMenu"}},{path:"upload/salesDist",component:Ro,data:{extraParameter:"uploadElementsMenu"}},{path:"components/modals",component:ke,data:{extraParameter:"componentsMenu"}},{path:"components/tooltips-popovers",component:we,data:{extraParameter:"componentsMenu"}},{path:"users/addUser",component:Ko,data:{extraParameter:"userElementMenu"}},{path:"users/listUser",component:tl,data:{extraParameter:"userElementMenu"}},{path:"users/edit/:userId",component:bl,data:{extraParameter:"userElementMenu"}},{path:"division/add",component:yl,data:{extraParameter:"divisionElementsMenu"}},{path:"division/list",component:wl,data:{extraParameter:"divisionElementsMenu"}},{path:"division/edit/:divisionId",component:Fl,data:{extraParameter:"divisionElementsMenu"}},{path:"distributor/add",component:Ol,data:{extraParameter:"distributorElementsMenu"}},{path:"distributor/list",component:function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Distributor",this.subheading="Distributor List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.distributors=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),this.loggedUserId=JSON.parse(e).id,this.dtOptions={pagingType:"full_numbers"},this.getalldistributors()},e.prototype.addNewDistributor=function(){this.router.navigateByUrl("/distributor/add")},e.prototype.getalldistributors=function(){var e=this;this.loading=!0,this.apiService.fetch("/api/distributor/all").subscribe(function(t){200===t.status&&(t.data.length&&(e.distributors=t.data),e.loading=!1)})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-distributor"]],decls:16,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button","class","btn-shadow d-inline-flex align-items-center btn btn-success",3,"click",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"mytable"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],["datatable","",1,"row-border","hover",3,"dtOptions"],[1,"border-right"],["class","border-right",4,"ngIf"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right","tal"],["title","Edit",1,"option-span"],[3,"href"],[1,"vsm-icon","pe-7s-note","option-tr"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275template"](10,Nl,3,1,"button",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275template"](14,Ql,18,3,"table",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](15,Ul,4,0,"div",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","it"===t.sessionData.workType),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",t.distributors.length),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.loading))},directives:[b.n,_.a,r.a,b.m],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}"]}),e}(),data:{extraParameter:"distributorElementsMenu"}},{path:"distributor/edit/:distId",component:Rl,data:{extraParameter:"distributorElementsMenu"}},{path:"batch/list",component:function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.a,this.heading="Batch",this.subheading="Batch List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.records=[],this.divisions=[],this.materials=[],this.uniqueProducts=[],this.batches=[],this.batchPrices=[],this.batchDetails=[],this.selectedFields=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),this.loggedUserId=JSON.parse(e).id,this.getDivisions()},e.prototype.getDivisions=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getMaterials=function(e){var t=this;this.uniqueProducts=[],this.apiService.fetch("/api/productByDivision/"+e).subscribe(function(e){var n,i;if(200===e.status&&e.data.length){t.materials=e.data;var a=new Map;try{for(var r=Object(c.h)(e.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.materialName)||(a.set(l.materialName,!0),t.uniqueProducts.push({plant:l.plant,division:l.division,material:l.material,materialName:l.materialName}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}$("#material_preloader").hide(),$("#material_loader").hide(),$("#material").show()}})},e.prototype.getBatches=function(e){var t=this;this.apiService.post("/api/batchByMaterials/",{materials:e}).subscribe(function(e){200===e.status&&e.data.length&&(t.batches=e.data,$("#batch_preloader").hide(),$("#batch_loader").hide(),$("#batch").show())})},e.prototype.filterData=function(e,t){if(this.records=[],"division"===t)this.selectedFields.division=e,this.selectedFields.material="",this.selectedFields.materialName=0,this.selectedFields.batch="",this.materials=[],this.batches=[],$("#material_preloader").hide(),$("#material_loader").show(),$("#material").hide(),$("#batch_preloader").show(),$("#batch_loader").hide(),$("#batch").hide(),this.getMaterials(e);else if("material"===t){var n=[];this.batches=[],$("#batch_preloader").hide(),$("#batch_loader").show(),$("#batch").hide();var i=this.materials.filter(function(t){return t.materialName===e});i.length&&(i.forEach(function(e){n.push(e.material)}),console.log("results--",n),this.selectedFields.material=n,this.selectedFields.materialName=e,this.selectedFields.batch=0,this.getBatches(n),this.getData())}else"batch"===t&&(this.selectedFields.batch=e,this.getData())},e.prototype.addnewdivision=function(){this.router.navigateByUrl("/division/add")},e.prototype.getData=function(){return Object(c.b)(this,void 0,void 0,function(){var e,t=this;return Object(c.d)(this,function(n){return e=this.selectedFields.batch?{division:this.selectedFields.division,material:this.selectedFields.material,batch:this.selectedFields.batch}:{division:this.selectedFields.division,material:this.selectedFields.material},console.log(e),this.apiService.post("/api/batch/condition",{condition:e}).subscribe(function(e){200===e.status&&e.data.length&&(t.records=e.data)}),[2]})})},e.prototype.showMrp=function(e){this.batchDetails.batch=e.batch,this.batchDetails.material=e.materialName,this.batchDetails.division=e.divName,e.mrp&&this.batchPrices.push({mrp:e.mrp,pts:e.pts}),e.mrp2&&this.batchPrices.push({mrp:e.mrp2,pts:e.pts2}),e.mrp3&&this.batchPrices.push({mrp:e.mrp3,pts:e.pts3}),document.getElementById("modalBatchPrice").style.display="block"},e.prototype.closeBatchPriceModal=function(){document.getElementById("modalBatchPrice").style.display="none"},e.prototype.exportToExcel=function(){this.apiService.fetch("/api/batch/export").subscribe(function(e){if(200===e.status&&e.data){var t=[];e.data.forEach(function(e){var n={Plant:e.plant,Division:e.division,"Division Name":e.divName,Material:e.material,"Material Description":e.materialName,Batch:e.batch,"Date of Manufacture":Re(e.manufacturOn).format("DD-MM-YYYY"),"SLED/BBD":Re(e.expireOn).format("DD-MM-YYYY"),MRP:parseFloat(e.mrp.toFixed(2)),PTD:parseFloat(e.ptd.toFixed(2)),PTR:parseFloat(e.ptr.toFixed(2)),PTS:parseFloat(e.pts.toFixed(2)),MRP2:e.mrp2?parseFloat(e.mrp2.toFixed(2)):"",PTD2:e.ptd2?parseFloat(e.ptd2.toFixed(2)):"",PTR2:e.ptr2?parseFloat(e.ptr2.toFixed(2)):"",PTS2:e.pts2?parseFloat(e.pts2.toFixed(2)):"",MRP3:e.mrp3?parseFloat(e.mrp3.toFixed(2)):"",PTD3:e.ptd3?parseFloat(e.ptd3.toFixed(2)):"",PTR3:e.ptr3?parseFloat(e.ptr3.toFixed(2)):"",PTS3:e.pts3?parseFloat(e.pts3.toFixed(2)):""};t.push(n)});var n=Wt.utils.json_to_sheet(t);for(var i in n["!cols"]=[{wch:6},{wch:8},{wch:15},{wch:10},{wch:35},{wch:15},{wch:20},{wch:12},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}],n)if("object"==typeof n[i]){var a=Wt.utils.decode_cell(i);n[i].s={alignment:{vertical:"center",wrapText:1}},0==a.r&&(n[i].s.alignment={vertical:"center",wrapText:!0},n[i].s.fill={fgColor:{rgb:"585858"}},n[i].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var r=Wt.utils.book_new();Wt.utils.book_append_sheet(r,n,"Sheet1"),Wt.writeFile(r,"Batch.xlsx")}})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-batch"]],decls:86,vars:26,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],["for","division",1,"form-label","fb"],["id","divisionCode",2,"color","orange","font-size","12px"],[4,"ngIf"],["id","division","placeholder","Select Division",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","material",1,"form-label","fb"],["style","color: orange; font-size: 12px;",4,"ngIf"],["id","material_preloader","placeholder","Select Division First",1,"custom"],["id","material","placeholder","Select Material",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],[3,"value"],["id","material_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],["for","batch",1,"form-label","fb"],["id","batch_preloader","placeholder","Select Material First",1,"custom"],["id","batch","placeholder","Select Batch",1,"custom",2,"display","none",3,"ngModel","clearable","ngModelChange","change"],["id","batch_loader"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],["class","row-border hover",4,"ngIf"],["id","modalBatchPrice",1,"modal",2,"top","20%"],[1,"modal-content",2,"width","320px","margin","auto"],[1,"modal-header",2,"padding","5px 15px"],[2,"font-size","20px"],[1,"close",2,"cursor","pointer",3,"click"],[1,"modal-body",2,"padding-top","18px"],["type","hidden","id","batchMrp_id","value",""],[2,"overflow-x","hidden","margin-bottom","15px"],[2,"padding","0 0 0 5px","text-align","right","border","none","font-weight","600"],["colspan","2",2,"padding","0 0 0 5px","text-align","left","border","none"],["colspan","3"],[2,"padding","0 0 0 5px","text-align","center","width","25%"],[4,"ngFor","ngForOf"],[1,"modal-footer",2,"padding","5px 15px"],["type","button",1,"btn","btn-danger",3,"tabIndex","click"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[2,"color","orange","font-size","12px"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"],[1,"row-border","hover"],[1,"border-right"],[1,"border-right",2,"width","110px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],["class","icon-wrapper rounded-circle",4,"ngIf"],[1,"icon-wrapper","rounded-circle"],[1,"icon-wrapper-bg","opacity-9","bg-success"],[1,"pe-7s-portfolio","text-white",3,"click"],[2,"padding","0 0 0 5px","text-align","center"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,Ll,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Division "),a["\u0275\u0275elementStart"](16,"span",11),a["\u0275\u0275template"](17,Yl,2,1,"span",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"ng-select",13),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e})("change",function(e){return t.filterData(e,"division")}),a["\u0275\u0275template"](19,Vl,3,4,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",9),a["\u0275\u0275elementStart"](21,"label",15),a["\u0275\u0275text"](22," Material "),a["\u0275\u0275template"](23,zl,2,1,"span",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"ng-select",17),a["\u0275\u0275elementStart"](25,"ng-select",18),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.materialName=e})("change",function(e){return t.filterData(e,"material")}),a["\u0275\u0275elementStart"](26,"ng-option",19),a["\u0275\u0275text"](27," -- Select Material -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](28,Hl,2,2,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",20),a["\u0275\u0275element"](30,"img",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"div",9),a["\u0275\u0275elementStart"](32,"label",22),a["\u0275\u0275text"](33,"Batch"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](34,"ng-select",23),a["\u0275\u0275elementStart"](35,"ng-select",24),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.batch=e})("change",function(e){return t.filterData(e,"batch")}),a["\u0275\u0275elementStart"](36,"ng-option",19),a["\u0275\u0275text"](37," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](38,Jl,2,2,"ng-option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",25),a["\u0275\u0275element"](40,"img",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",8),a["\u0275\u0275elementStart"](42,"div",26),a["\u0275\u0275element"](43,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](44,Wl,4,0,"div",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](45,Kl,21,1,"table",28),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"div",29),a["\u0275\u0275elementStart"](47,"div",30),a["\u0275\u0275elementStart"](48,"div",31),a["\u0275\u0275elementStart"](49,"h2",32),a["\u0275\u0275text"](50,"Batch MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"span",33),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](52,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",34),a["\u0275\u0275elementStart"](54,"div",8),a["\u0275\u0275element"](55,"input",35),a["\u0275\u0275elementStart"](56,"table",36),a["\u0275\u0275elementStart"](57,"tr"),a["\u0275\u0275elementStart"](58,"td",37),a["\u0275\u0275text"](59,"Batch : "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](60,"td",38),a["\u0275\u0275text"](61),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"tr"),a["\u0275\u0275elementStart"](63,"td",37),a["\u0275\u0275text"](64,"Material : "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](65,"td",38),a["\u0275\u0275text"](66),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](67,"tr"),a["\u0275\u0275elementStart"](68,"td",37),a["\u0275\u0275text"](69,"Division : "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"td",38),a["\u0275\u0275text"](71),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](72,"tr"),a["\u0275\u0275elementStart"](73,"th",39),a["\u0275\u0275element"](74,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](75,"tr"),a["\u0275\u0275elementStart"](76,"th",40),a["\u0275\u0275text"](77,"Sl.No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"th",40),a["\u0275\u0275text"](79,"MRP"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](80,"th",40),a["\u0275\u0275text"](81,"PTS"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](82,Xl,9,9,"tr",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](83,"div",42),a["\u0275\u0275elementStart"](84,"button",43),a["\u0275\u0275listener"]("click",function(){return t.closeBatchPriceModal()}),a["\u0275\u0275text"](85," Close "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.sessionData.permissions.includes("15")),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",t.selectedFields.division),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",t.selectedFields.material),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",t.selectedFields.materialName)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.uniqueProducts),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.batch)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.batches),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.records.length),a["\u0275\u0275advance"](16),a["\u0275\u0275textInterpolate1"](" ",t.batchDetails.batch,""),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"](" ",t.batchDetails.material,""),a["\u0275\u0275advance"](5),a["\u0275\u0275textInterpolate1"](" ",t.batchDetails.division,""),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.batchPrices),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("tabIndex",13))},directives:[b.n,Ne.a,o.m,o.p,b.m,Ne.d,_.a],pipes:[b.v,b.e,b.f],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}.fb[_ngcontent-%COMP%]{font-weight:600}#batch_loader[_ngcontent-%COMP%], #material_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px;display:none}.icon-wrapper[_ngcontent-%COMP%]{width:28px;height:28px}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;cursor:pointer}"]}),e}(),data:{extraParameter:"batchElementsMenu"}},{path:"batch/edit/:batchId",component:function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.c,this.heading="Edit / Update Batch",this.subheading="Update a batch",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loggedUserId="",this.submitted=!1,this.btnLoader=!1,this.records=[],this.plants=[{id:"2200",name:"2200"},{id:"3300",name:"3300"}],this.status=[{id:!0,name:"Active"},{id:!1,name:"In-Active"}],this.selectedDivision=this.activatedRoute.snapshot.paramMap.get("divisionId")}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.loggedUserId=JSON.parse(e).id,this.getData(),this.createForm()},e.prototype.getData=function(){var e=this;this.apiService.get("/api/division/getdivision",this.selectedDivision).subscribe(function(t){200===t.status&&(e.records=t.data,e.divisionform.controls.plant.setValue(e.records.plant,{onlySelf:!0}),e.divisionform.value.plant=e.records.plant,e.divisionform.controls.name.setValue(e.records.name,{onlySelf:!0}),e.divisionform.value.name=e.records.name,e.divisionform.controls.olddivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.olddivision=e.records.division,e.divisionform.controls.newdivision.setValue(e.records.division,{onlySelf:!0}),e.divisionform.value.newdivision=e.records.division,e.divisionform.controls.status.setValue(e.records.isActive,{onlySelf:!0}),e.divisionform.value.status=e.records.isActive,e.divisionform.controls._id.setValue(e.records._id,{onlySelf:!0}),e.divisionform.value._id=e.records._id)})},e.prototype.toast=function(e,t){H.a.fire({toast:!0,position:"top-right",showConfirmButton:!1,icon:e,timerProgressBar:!0,timer:5e3,title:t})},Object.defineProperty(e.prototype,"f",{get:function(){return this.divisionform.controls},enumerable:!1,configurable:!0}),e.prototype.createForm=function(){this.divisionform=this.fb.group({_id:[this.selectedDivision,[o.v.required]],plant:[this.records.plant,[o.v.required]],name:[this.records.name,[o.v.required]],olddivision:[this.records.division,[o.v.required]],newdivision:[this.records.division,[o.v.required]],status:[this.records.isActive,[o.v.required]],loggedUserId:this.loggedUserId})},e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=!1,n=$("#plant").val(),i=$("#divisionName").val(),a=$("#newdivision").val();$("#olddivision").val(),n||(t=!0,$("#plant").addClass("is-invalid"),$("#err_plant").text("Plant is required").show()),i||(t=!0,$("#divisionName").addClass("is-invalid"),$("#err_divisionname").text("Division name is required").show()),a||(t=!0,$("#newdivision").addClass("is-invalid"),$("#err_divisionid").text("Division is required").show()),t||this.apiService.post("/api/division/edit",this.divisionform.value).subscribe(function(t){console.log(t),200===t.status?e.toast("success","Record has been successfully updated."):e.toast("error",400===t.status?t.message:"Something went wrong, Please try again after some time"),e.ngOnInit()})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-batch"]],decls:45,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],["autocomplete","off","enctype","multipart/form-data",1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","row","mb-3","required"],["for","Plant",1,"form-label","col-sm-2","col-form-label"],[1,"col-sm-10"],["id","plant","formControlName","plant",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","err_plant",1,"text-danger",2,"display","none"],[1,"position-relative","row","mb-3","common","required"],["for","divisionName",1,"form-label","col-sm-2","col-form-label"],["formControlName","name","id","divisionName","placeholder","Division Name","type","text",1,"form-control"],["id","err_divisionname",1,"text-danger",2,"display","none"],["for","divisionId",1,"form-label","col-sm-2","col-form-label"],["formControlName","newdivision","id","newdivision","placeholder","Division ID","type","number",1,"form-control"],["formControlName","olddivision","id","olddivision","value","","type","hidden",1,"form-control"],["id","err_divisionid",1,"text-danger",2,"display","none"],["for","Status",1,"form-label","col-sm-2","col-form-label"],["id","status","formControlName","status",1,"form-select"],["id","err_status",1,"text-danger",2,"display","none"],[1,"position-relative","row","form-check"],[1,"col-sm-10","offset-sm-2"],["type","submit",1,"mt-1","btn","btn-primary"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"label",9),a["\u0275\u0275text"](14,"Plant"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"div",10),a["\u0275\u0275elementStart"](16,"select",11),a["\u0275\u0275elementStart"](17,"option",12),a["\u0275\u0275text"](18," Plant "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,es,3,4,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](20,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",15),a["\u0275\u0275elementStart"](22,"label",16),a["\u0275\u0275text"](23,"Division Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",10),a["\u0275\u0275element"](25,"input",17),a["\u0275\u0275element"](26,"span",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",15),a["\u0275\u0275elementStart"](28,"label",19),a["\u0275\u0275text"](29,"Division ID"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",10),a["\u0275\u0275element"](31,"input",20),a["\u0275\u0275element"](32,"input",21),a["\u0275\u0275element"](33,"span",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"div",8),a["\u0275\u0275elementStart"](35,"label",23),a["\u0275\u0275text"](36,"Status"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",10),a["\u0275\u0275elementStart"](38,"select",24),a["\u0275\u0275template"](39,ts,2,2,"option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](40,"span",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"div",26),a["\u0275\u0275elementStart"](42,"div",27),a["\u0275\u0275elementStart"](43,"button",28),a["\u0275\u0275text"](44,"Submit"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("formGroup",t.divisionform),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngForOf",t.plants),a["\u0275\u0275advance"](20),a["\u0275\u0275property"]("ngForOf",t.status))},directives:[o.w,o.n,o.g,o.u,o.m,o.e,o.q,o.x,b.m,o.b,o.r],pipes:[b.v],styles:[""]}),e}(),data:{extraParameter:"batchElementsMenu"}},{path:"product/list",component:function(){function e(e,t,n,i){this.router=e,this.fb=t,this.activatedRoute=n,this.apiService=i,this.faStar=x.d,this.faPlus=x.a,this.heading="Product",this.subheading="Product/Material List",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.loading=!1,this.loggedUserId="",this.records=[],this.divisions=[],this.materials=[],this.uniqueProducts=[],this.batches=[],this.batchPrices=[],this.batchDetails=[],this.selectedFields=[],this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=sessionStorage.getItem("laUser");e||this.router.navigateByUrl("/login"),this.sessionData=JSON.parse(e),this.loggedUserId=JSON.parse(e).id,this.selectedFields={division:0,material:"0",materialName:0},this.getDivisions(),this.getMaterials(),this.getData()},e.prototype.getDivisions=function(){var e=this;this.apiService.fetch("/api/division/all").subscribe(function(t){200===t.status&&t.data.length&&(e.divisions=t.data)})},e.prototype.getMaterials=function(){var e=this;this.apiService.fetch("/api/product/all").subscribe(function(t){var n,i;if(200===t.status&&t.data.length){e.materials=t.data;var a=new Map;try{for(var r=Object(c.h)(t.data),o=r.next();!o.done;o=r.next()){var l=o.value;a.has(l.materialName)||(a.set(l.materialName,!0),e.uniqueProducts.push({plant:l.plant,division:l.division,material:l.material,materialName:l.materialName}))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}$("#material_preloader").hide(),$("#material_loader").hide(),$("#material").show()}})},e.prototype.getBatches=function(e){var t=this;this.apiService.post("/api/batchByMaterials/",{materials:e}).subscribe(function(e){200===e.status&&e.data.length&&(t.batches=e.data,$("#batch_preloader").hide(),$("#batch_loader").hide(),$("#batch").show())})},e.prototype.filterData=function(e,t){var n,i;if(this.records=[],"division"===t){this.selectedFields.division=e,this.selectedFields.material="",this.selectedFields.materialName=0,$("#material_preloader").hide(),$("#material_loader").show(),$("#material").hide();var a=this.materials.filter(function(t){return t.division===e});this.records=a,this.uniqueProducts=[];var r=new Map;try{for(var o=Object(c.h)(a),l=o.next();!l.done;l=o.next()){var s=l.value;r.has(s.materialName)||(r.set(s.materialName,!0),this.uniqueProducts.push({plant:s.plant,division:s.division,material:s.material,materialName:s.materialName}))}}catch(m){n={error:m}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}$("#material_preloader").show(),$("#material_loader").hide(),$("#material").show()}else if("material"===t){var d=[];0==e?this.records=this.materials:(a=this.materials.filter(function(t){return t.materialName===e}),this.records=a,a.length&&(a.forEach(function(e){d.push(e.material)}),this.selectedFields.material=d,this.selectedFields.materialName=e))}},e.prototype.getData=function(){return Object(c.b)(this,void 0,void 0,function(){var e=this;return Object(c.d)(this,function(t){return this.apiService.fetch("/api/product/all").subscribe(function(t){200===t.status&&t.data.length&&(e.records=t.data)}),[2]})})},e.prototype.exportToExcel=function(){this.apiService.fetch("/api/product/export").subscribe(function(e){if(200===e.status&&e.data){var t=[];e.data.forEach(function(e){t.push({Plant:e.plant,Division:e.division,Material:e.material,"Material Description":e.materialName})});var n=Wt.utils.json_to_sheet(t);for(var i in n["!cols"]=[{wch:6},{wch:8},{wch:10},{wch:35}],n)if("object"==typeof n[i]){var a=Wt.utils.decode_cell(i);n[i].s={alignment:{vertical:"center",wrapText:1}},0==a.r&&(n[i].s.alignment={vertical:"center",wrapText:!0},n[i].s.fill={fgColor:{rgb:"585858"}},n[i].s.font={bold:!0,color:{rgb:"FFFFFF"}})}var r=Wt.utils.book_new();Wt.utils.book_append_sheet(r,n,"Sheet1"),Wt.writeFile(r,"Material.xlsx")}})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.f),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-product"]],decls:34,vars:16,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],["class","page-title-actions",4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"col"],["for","division",1,"form-label","fb"],["id","division","placeholder","Select Division",1,"custom",3,"ngModel","clearable","ngModelChange","change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","material",1,"form-label","fb"],["id","material","placeholder","Select Material",1,"custom",3,"ngModel","clearable","ngModelChange","change"],["id","material_loader"],["src","./../../../assets/images/btn_loader.gif",1,"m8"],[1,"col-md-12"],["class","col-md-12 tc","style","color: red; text-align: center;",4,"ngIf"],["class","row-border hover",4,"ngIf"],[1,"page-title-actions"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-success",3,"click"],[1,"me-2",3,"icon"],[1,"col-md-12","tc",2,"color","red","text-align","center"],["src","./../../assets/images/btn_loader.gif"],[1,"row-border","hover"],[1,"border-right",2,"width","6%"],[1,"border-right",2,"width","10%"],[1,"border-right",2,"width","15%"],[1,"border-right",2,"text-align","left","padding-left","8px"],["class","border-bottom","style","height: 35px;",4,"ngFor","ngForOf"],[1,"border-bottom",2,"height","35px"],[1,"border-right"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,ns,4,1,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"div",7),a["\u0275\u0275elementStart"](12,"div",8),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"label",10),a["\u0275\u0275text"](15,"Division "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"ng-select",11),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.division=e})("change",function(e){return t.filterData(e,"division")}),a["\u0275\u0275elementStart"](17,"ng-option",12),a["\u0275\u0275text"](18," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,is,3,4,"ng-option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"div",9),a["\u0275\u0275elementStart"](21,"label",14),a["\u0275\u0275text"](22," Material "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"ng-select",15),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFields.materialName=e})("change",function(e){return t.filterData(e,"material")}),a["\u0275\u0275elementStart"](24,"ng-option",12),a["\u0275\u0275text"](25," -- All -- "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](26,as,2,2,"ng-option",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](27,"div",16),a["\u0275\u0275element"](28,"img",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",8),a["\u0275\u0275elementStart"](30,"div",18),a["\u0275\u0275element"](31,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](32,rs,4,0,"div",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](33,ls,13,1,"table",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.sessionData.permissions.includes("16")),a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",t.selectedFields.division)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.divisions),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.selectedFields.materialName)("clearable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("value",0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",t.uniqueProducts),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",t.loading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.records.length))},directives:[b.n,Ne.a,o.m,o.p,Ne.d,b.m,_.a],pipes:[b.v],styles:[".mytable[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:400px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-size:12px;text-align:center}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:#efefef;position:-webkit-sticky;position:sticky;z-index:2;top:0;border:1px dashed #add8e6;font-size:14px;font-weight:600;text-align:center;height:30px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){z-index:3;left:0;top:0}td[_ngcontent-%COMP%]{text-align:center;letter-spacing:.5px;font-size:14px;border:1px dashed #add8e6;padding-left:2px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){background:#fff;position:-webkit-sticky;position:sticky;z-index:1;left:0}.tal[_ngcontent-%COMP%]{text-align:left}.fb[_ngcontent-%COMP%]{font-weight:600}#batch_loader[_ngcontent-%COMP%], #material_loader[_ngcontent-%COMP%]{border:1px solid #ced4da;height:35px;border-radius:5px;display:none}.icon-wrapper[_ngcontent-%COMP%]{width:28px;height:28px}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;cursor:pointer}"]}),e}(),data:{extraParameter:"productElementsMenu"}},{path:"test/test",component:function(){function e(){this.heading="Add / Create User",this.subheading="Create a user / stockist",this.icon="pe-7s-network icon-gradient bg-premium-dark",this.cars=[{id:1,name:"Volvo"},{id:2,name:"Saab"},{id:3,name:"Opel"},{id:4,name:"Audi"}]}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-test"]],decls:27,vars:11,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"row"],[1,"position-relative","mb-3","required"],["for","stockiest",1,"form-label","fb"],["bindLabel","name","bindValue","id",1,"form-control",3,"items","multiple","selectableGroup","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"col-md-12"],[1,"row","claim-frm"],["enctype","multipart/form-data","autocomplete","off"],[1,"col-md-12","tar"],["type","button",1,"mt-1","btn","btn-info","m_lr",3,"tabIndex"],["type","checkbox",3,"id","ngModel"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275element"](4,"i"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div"),a["\u0275\u0275text"](6),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",5),a["\u0275\u0275elementStart"](10,"div",6),a["\u0275\u0275elementStart"](11,"form"),a["\u0275\u0275elementStart"](12,"div",7),a["\u0275\u0275elementStart"](13,"div",8),a["\u0275\u0275elementStart"](14,"label",9),a["\u0275\u0275text"](15,"Stockiest"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"ng-select",10),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedCar=e}),a["\u0275\u0275template"](17,ss,2,3,"ng-template",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",7),a["\u0275\u0275elementStart"](19,"div",12),a["\u0275\u0275element"](20,"hr"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",13),a["\u0275\u0275elementStart"](22,"form",14),a["\u0275\u0275elementStart"](23,"div",7),a["\u0275\u0275elementStart"](24,"div",15),a["\u0275\u0275elementStart"](25,"button",16),a["\u0275\u0275text"](26,"Add New User"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275classMapInterpolate1"]("icon ",t.icon,""),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.heading," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",t.subheading," "),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("items",t.cars)("multiple",!0)("selectableGroup",!0)("closeOnSelect",!1)("ngModel",t.selectedCar),a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("tabIndex",1e5))},directives:[o.w,o.n,o.o,Ne.a,o.m,o.p,Ne.c,o.a],styles:[""]}),e}(),data:{extraParameter:"userElementMenu"}}]},{path:"",component:q,children:[{path:"login",component:ve,data:{extraParameter:""}},{path:"pages/register-boxed",component:ge,data:{extraParameter:""}},{path:"pages/forgot-password-boxed",component:pe,data:{extraParameter:""}}]},{path:"**",redirectTo:""}],cs=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[f.i.forRoot(ds,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],f.i]}),e}(),ms=n("F34d"),ps=function(){function e(e){this.apiService=e,this.title="La Renon Healthcare Pvt. Ltd."}return e.prototype.doBeforeUnload=function(){return console.log("document.visibilityState1--",document.visibilityState),!1},e.prototype.doUnload=function(){console.log("document.visibilityState2--",document.visibilityState)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](X))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&a["\u0275\u0275element"](0,"router-outlet")},directives:[f.j],encapsulation:2}),e}(),us=n("lDzL"),fs=n("tmjD"),hs=n("NGqq"),vs=n("IRfi"),gs=n("A2Vd"),bs=n("TEMH"),xs=n("gVAx"),ys=n("TQNY"),Ss=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[hs.a,vs.c,gs.a,bs.a,xs.a,ys.a]}),e}(),_s={suppressScrollX:!0},Es=function(){function e(e,t){this.ngRedux=e,this.devTool=t,this.ngRedux.configureStore(u,{},[],[t.isEnabled()?t.enhancer():function(e){return e}])}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.NgRedux),a["\u0275\u0275inject"](s.DevToolsExtension))},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e,bootstrap:[ps]}),e.\u0275inj=a["\u0275\u0275defineInjector"]({providers:[{provide:k.a,useValue:_s},m],imports:[[i.a,cs,l.b,s.NgReduxModule,b.c,ms.a,k.c,y.g,_.b,J.b,_t.b,Ne.b,us.a,r.b,Ss,Te.b,o.i,o.s,fs.a.forRoot()],fs.a]}),e}();Object(a.enableProdMode)(),i.f().bootstrapModule(Es).catch(function(e){return console.error(e)})},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);